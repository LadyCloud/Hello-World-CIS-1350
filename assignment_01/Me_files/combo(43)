/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("intl",function(e,t){var n={},r="yuiRootLang",i="yuiActiveLang",s=[];e.mix(e.namespace("Intl"),{_mod:function(e){return n[e]||(n[e]={}),n[e]},setLang:function(e,t){var n=this._mod(e),s=n[i],o=!!n[t];return o&&t!==s&&(n[i]=t,this.fire("intl:langChange",{module:e,prevVal:s,newVal:t===r?"":t})),o},getLang:function(e){var t=this._mod(e)[i];return t===r?"":t},add:function(e,t,n){t=t||r,this._mod(e)[t]=n,this.setLang(e,t)},get:function(t,n,r){var s=this._mod(t),o;return r=r||s[i],o=s[r]||{},n?o[n]:e.merge(o)},getAvailableLangs:function(t){var n=e.Env._loader,r=n&&n.moduleInfo[t],i=r&&r.lang;return i?i.concat():s}}),e.augment(e.Intl,e.EventTarget),e.Intl.publish("intl:langChange",{emitFacade:!0})},"3.16.0",{requires:["intl-base","event-custom"]});
"use strict";YUI.add("xframe",function(a){function b(a){this._init(a)}window.JSON||(window.JSON=a.JSON),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;return function(){return b.apply(a,arguments)}}),b.prototype={_init:function(b){if(this.isProxy=b.isProxy,this.logoutURL=null,this.timeoutDelay=5e3,this._boundReceive=this._receive.bind(this),window.addEventListener?window.addEventListener("message",this._boundReceive,!1):window.attachEvent("onmessage",this._boundReceive),this._listeners=[],this._parseTimers=[],this._key=this._genKey(),this.isProxy){a.namespace("Messenger").logPerf=function(a,b){var c,d;window.console&&window.__mimStartTime&&(c=a,d=(new Date).getTime(),b&&(b+="-proxy",c+=" ~ "+b),window.console)};var c=window.location.href.split("#")[1].split("*");if(this._remoteKey=c[0],this._remoteDomain=c[2],this._pendingRequests={},!this._domainCheck(this._remoteDomain))throw new Error("Invalid source domain, xframe connection disallowed - "+c[2]);window.__mimStartTime=c[1],a.Messenger.logPerf("Proxy xframe loaded, generating and sending the key","xframe"),this._remoteWindow=window.parent,this._send(JSON.stringify({token:this._key,key:this._remoteKey}))}else{if(this._localId="msg_"+(new Date).getTime(),this._connected=!1,this._cbid=0,this._cbs=[],this._sendQueue=[],!b.proxy||!b.yuiPath||!b.xframePath)throw new Error("XFrame connect called without required parameters:  proxy, yuiPath, xframePath");this._url=b.proxy+"#"+this._key+"*"+(window.__mimStartTime?window.__mimStartTime:"")+"*"+b.localDomain+"*"+this._localId+"*y="+b.yuiPath+"*xframePath="+b.xframePath,a.log("Attempting to connect to server using URL "+this._url,"info","xframe"),this._createProxy(),this._remoteDomain=b.proxy}},destroy:function(){for(;this._listeners.length;)this._listeners.pop().detach();for(this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),delete this.iframe);this._parseTimers.length;)clearTimeout(this._parseTimers.pop());this._removeWindowEvents(),this._connected=!1,this._destroyed=!0},_removeWindowEvents:function(){window.removeEventListener?window.removeEventListener("message",this._boundReceive,!1):window.detachEvent("onmessage",this._boundReceive)},_genKey:function(){return"main_"+Math.floor(1e18*Math.random()).toString(36)},_createProxy:function(){var b,c,d,e,f=this,g=f._url;if(this._proxyRetries=this._proxyRetries||0,1===this._proxyRetries)this._removeUrlParameters(g);else if(this._proxyRetries>4)return a.log("Error - giving up trying to create iframe.","xframe"),void this._initFailure();a.Messenger.logPerf("Injecting an invisible iframe proxy","xframe"),b=document.createElement("div"),e='<iframe style="visibility:hidden;position:absolute;border:none;height:0px;width:0px;left:-9999px;"></iframe>',b.innerHTML=e,c=b.firstChild,c.addEventListener?(c.addEventListener("load",f._iframeLoadComplete.bind(f),!1),c.addEventListener("error",f._iframeLoadError.bind(f),!1)):(c.attachEvent("onload",f._iframeLoadComplete.bind(f)),c.attachEvent("onerror",f._iframeLoadError.bind(f))),c.src=g,f._appendIframeToBody(c),this.iframe_onloadfired_timeout||(d=3e3+1e3*this._proxyRetries,this.iframe_onloadfired_timeout=setTimeout(function(){this._destroyed||this._iframe_loaded||(a.log("iFrame onload did not fire, retrying the iframe injection.","warn","xframe"),this.iframe_onloadfired_timeout=null,this._retryCreateProxy())}.bind(this),d)),this.iframe=c},_iframeLoadComplete:function(){var b=this;a.Messenger.logPerf("iFrame onload event fired","xframe"),this.iframe_onloadfired_timeout&&(clearTimeout(this.iframe_onloadfired_timeout),this.iframe_onloadfired_timeout=null,this._iframe_loaded=!0),this._remoteWindow=this.iframe.contentWindow,this._connected||this._destroyed||(this.iframe_load_timeout=setTimeout(function(){a.log("Did not finish the server handshake in time - retrying.","warn","xframe"),b._retryCreateProxy()},this.timeoutDelay))},_iframeLoadError:function(){a.log("In onerror function for "+this._url,"warn","xframe"),this._connected||this._destroyed||this._iframe_loaded||this._retryCreateProxy()},_appendIframeToBody:function(a){document.body.appendChild(a)},_removeUrlParameters:function(a){var b,c;b=a.indexOf("?"),c=a.indexOf("#"),b>-1&&c>b&&(a=a.split(a.substring(b,c)).join(""),this._src=a)},_retryCreateProxy:function(){this._destroyed||this._connected||(a.log("In load timeout for "+this._url,"info","xframe"),this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),delete this.iframe),this._proxyRetries++,a.log("Creating another iframe - counter = "+this._proxyRetries,"info","xframe"),this._createProxy())},send:function(b){var c,d=b.method,e=b.url,f=b.body,g=b.callback,h=b.timeout,i=++this._cbid;return this._fatalError?void this._xframeInitializationError(g):(c=JSON.stringify({cbid:i,method:d,url:e,body:f,key:this._remoteKey,timeout:h}),this._cbs[i]=g,this._connected?this._send(c):(a.Messenger.logPerf("Proxy not available, adding to queue","xframe"),void this._sendQueue.push({data:b,callback:g})))},_send:function(b){var c=this;if(!this._remoteWindow)return void setTimeout(function(){c._send(b)},0);try{a.Messenger.logPerf("Sending postMessage to remote window","xframe"),b=b.replace(/\|/g,"__PIPE__"),this._remoteWindow.postMessage(b,this._remoteDomain)}catch(d){return a.log("Error attempting postMessage to "+this._remoteDomain,"xframe"),void(this._pmRetry?this._initFailure():(this._pmRetry=!0,setTimeout(function(){c._send(b)},100)))}this._pmRetry=!1},ajax:function(b,c,d,e,f){if(b&&c){var g,h=a.guid("xframereq_"),i=!1,j=this;g=this._createXHR(),g.open(b,c,!0),g.setRequestHeader("Content-Type","application/json;charset=utf-8"),g.setRequestHeader("X-Yahoo-Msgr-User-Agent","YahooMessenger/1.0 (Mail Messenger;1.0.0.0)"),this._pendingRequests[h]={},this._pendingRequests[h].request=g,g.onreadystatechange=function(){try{i=j._ajaxResponseProcessCallback(g,e)}catch(d){a.log("exception in XHR handler ["+b+" "+c+"]:"+d.message,"error","XFrame");try{j._xframeInternalError(e)}catch(f){a.log("exception in XHR handler callback:"+f.message,"error","XFrame")}}j._ajaxCleanStep(i,g,h)},this._pendingRequests[h].timer=setTimeout(function(){j._ajaxTimeoutRequestProcess(g,h,e)},f||18e5),g.send(d||"")}},_ajaxResponseProcessCallback:function(b,c){var d,e,f=!1;if(4===b.readyState&&!f){a.Messenger.logPerf("AJAX response received","xframe"),f=!0,d="{}",e="status unavailable";try{e=b.statusText}catch(g){}d=b.status>=200&&b.status<210?b.responseText:0===b.status||b.status>1e3?JSON.stringify({error:{code:800,detail:"Network error"},httpStatus:b.status,responseText:b.responseText||""}):JSON.stringify({error:{},httpStatus:b.status,detail:e,responseText:b.responseText||""}),c(d)}return f},_ajaxTimeoutRequestProcess:function(b,c,d){if(a.log("***** XFrame.js: client side timeout triggered."),b){b.onreadystatechange=null;try{b.abort()}catch(e){}b.abort=null,b=null}this._pendingRequests[c]&&delete this._pendingRequests[c],d({error:{code:700,detail:"Client Side Timeout"}})},_ajaxCleanStep:function(a,b,c){a&&(clearTimeout(this._pendingRequests[c].timer),delete this._pendingRequests[c],b.onreadystatechange=null,b.abort=null,b=null)},_receive:function(b){var c,d,e,f,g;if(b._event&&!b.data&&(b.data=b._event.data,b.source=b._event.source),a.Messenger.logPerf("postMessage Data received","xframe"),f={},g=b.origin,"string"==typeof b.data&&(f=a.Lang.trimLeft(b.data),f.length&&("{"===f.charAt(0)||"["===f.charAt(0)))){f=f.replace(/__PIPE__/g,"|");try{f=JSON.parse(f)}catch(h){f={}}if(!this._destroyed&&f&&f.key===this._key)if(this.isProxy)this._receiveProxy(f);else if(f.token){if(a.Messenger.logPerf("Initial xframe token handshake completed"),this.iframe_load_timeout&&(a.log("Clearing the timeout for "+this._url),clearTimeout(this.iframe_load_timeout),this.iframe_load_timeout=null),this._remoteKey=f.token,!this._domainCheck(g))throw new Error("Invalid domain error - "+g);for(a.log("proxy iframe loaded","info","xframe"),this._connected=!0;this._sendQueue.length;)c=this._sendQueue.shift(),this.send(c.data)}else{if(!this._connected)throw new Error("Received a response in xframe before the handshake completed - "+f);d=this._cbs[f.cbid],e=f.text,delete this._cbs[f.cbid];try{d(e)}catch(i){a.log("Unsetting logout URL failed.")}}}},_receiveProxy:function(b){var c=this;a.Lang.isUndefined(b.logoutURL)?b.command&&"cancelRequests"===b.command?this._cancelRequests():this.ajax(b.method,b.url,b.body,function(a){var d=JSON.stringify({cbid:b.cbid,text:a,key:c._remoteKey});c._parseTimers.push(setTimeout(function(){c._destroyed||c._send(d)},0))},b.timeout):this.setLogoutURL(b.logoutURL)},_domainCheck:function(a){for(var b,c=this._parseURI(a),d=c.host,e=[".yahoo.com"];e.length;)if(b=e.shift(),d.substr(d.length-b.length)===b)return this.otherDomain=c.protocol+"://"+c.host,!0;return!1},_parseURI:function(a){for(var b=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],d=/(?:^|&)([^&=]*)=?([^&]*)/g,e=b.exec(a),f={queryKey:{}},g=c.length;g--;)f[c[g]]=e[g]||"";return f.query.replace(d,function(a,b,c){b&&(f.queryKey[b]=c)}),f},cancelRequests:function(){if(!this._destroyed&&this._connected){var a=JSON.stringify({command:"cancelRequests",key:this._remoteKey});this._remoteWindow.postMessage(a,this._remoteDomain)}},_cancelRequests:function(){var a,b;for(a in this._pendingRequests)if(this._pendingRequests.hasOwnProperty(a)){b=this._pendingRequests[a];try{b.request.abort()}catch(c){}b.timer&&clearTimeout(b.timer)}this._pendingRequests={}},sendLogoutURL:function(a){var b,c=this;if(!c._destroyed){if(!c._connected)return void setTimeout(function(){c.sendLogoutURL(a)},100);b=JSON.stringify({logoutURL:a,key:c._remoteKey}),c._remoteWindow.postMessage(b,c._remoteDomain)}},setLogoutURL:function(a){a&&""!==a&&this._registerUnloadHandler(),this.logoutURL=a},_registerUnloadHandler:function(){this._unloadHandler||(window.addEventListener?window.addEventListener("unload",this._logoutOnUnload.bind(this),!1):window.attachEvent("onunload",this._logoutOnUnload.bind(this)),this._unloadHandler=!0)},_initFailure:function(){for(;this._sendQueue.length;){var a=this._sendQueue.shift();this._xframeInitializationError(a.callback)}this._fatalError=!0},_logoutOnUnload:function(){var b,c=this.logoutURL;if(c){if(b=this._createXHR(),!b)return;b.open("get",c,a.UA.gecko?!0:!1),b.setRequestHeader("X-Yahoo-Msgr-User-Agent","YahooMessenger/1.0 (WC Messenger; 1.0.0.0)");try{b.send(null)}catch(d){}setTimeout(function(){b.abort()},3e3)}},_createXHR:function(){var a;if("undefined"!=typeof XMLHttpRequest)a=new XMLHttpRequest;else{if(!window.ActiveXObject)throw new Error("This browser does not support XMLHttpRequest.");a=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}()}return a},_xframeInternalError:function(a){a(JSON.stringify({error:{code:600,detail:"internal XFrame error"}}))},_xframeInitializationError:function(a){a({error:{code:701,detail:"XFrame initialization error"}})}},a.namespace("Messenger").Xframe=b},"1.0.0",{requires:[]});YUI.add("messenger-constants",function(a){"use strict";a.namespace("Messenger.Common").Constants={STATE:{INVISIBLE:-1,AVAILABLE:0,BUSY:2,NOTATHOME:3,NOTATDESK:4,NOTINOFFICE:5,ONPHONE:6,ONVACATION:7,OUTTOLUNCH:8,STEPPEDOUT:9,AWAY:10,CUSTOM:99,IDLE:999,PENDING:9998,OFFLINE:9999},DEFAULT_IMAGE:"http://mail.yimg.com/ok/u/assets/img/display-img/profile_{{pixels|32|48}}e.png",DEFAULT_IMAGE_SSL:"https://s.yimg.com/ok/u/assets/img/display-img/profile_{{pixels|32|48}}e.png",EVENTS:{OFFLINE:"offline",FATAL_IO_ERROR:"fatal_io_err",NETWORK_ERROR_RESOLVED:"io_ok",TEMP_NETWORK_ERROR:"temp_io_err",SESSION_EXPIRED:"session_expired",MESSAGE:"new_message",AB_PARSING_COMPLETE:"ab_parsing_complete",ADD_REJECTED:"add_req_rejected",ADD_ACCEPTED:"add_req_accepted",ADD_REQUEST_RECEIVED:"add_req",ADD_REQUEST_SENT:"add_sent",ACK_RECEIVED:"ack_received",LOGOUT_LOCAL:"local_logout",DISPLAYNAME_UPDATED:"name_updated",SEND_ERROR:"send_error",CONTACTS_UPDATED:"yim:contactsupdated",SHOW_OPTIONS:"show_options",SMS_ERROR:"sms_error",CONVERSATION_INIT:"conversation_init",CL_COLLAPSE_TOGGLE:"cl_collapse_toggle"},SMS:{RATIO_BREACHED:19,INVALID_NUMBER:22},NOTIFICATION_INLINE:0,NOTIFICATION_STATICTOP:1,NOTIFICATION_INLINE_PLAINTEXT:2,NOTIFICATION_INLINE_TOP:3,NOTIFICATION_SECTION:4,NOTIFICATION_SECTION_TOP:5}},"@VERSION@",{requires:[]});/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("lang/datatype-date-format_en-US",function(e){e.Intl.add("datatype-date-format","en-US",{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a, %b %d, %Y %l:%M:%S %p %Z",p:["AM","PM"],P:["am","pm"],x:"%m/%d/%y",X:"%l:%M:%S %p"})},"3.16.0");
/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-date-format",function(e,t){var n=function(e,t,n){typeof n=="undefined"&&(n=10),t+="";for(;parseInt(e,10)<n&&n>1;n/=10)e=t+e;return e.toString()},r={formats:{a:function(e,t){return t.a[e.getDay()]},A:function(e,t){return t.A[e.getDay()]},b:function(e,t){return t.b[e.getMonth()]},B:function(e,t){return t.B[e.getMonth()]},C:function(e){return n(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return n(parseInt(r.formats.G(e)%100,10),0)},G:function(e){var t=e.getFullYear(),n=parseInt(r.formats.V(e),10),i=parseInt(r.formats.W(e),10);return i>n?t++:i===0&&n>=52&&t--,t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return n(t===0?12:t,0)},j:function(e){var t=new Date(""+e.getFullYear()+"/1/1 GMT"),r=new Date(""+e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" GMT"),i=r-t,s=parseInt(i/6e4/60/24,10)+1;return n(s,0,100)},k:["getHours"," "],l:function(e){var t=e.getHours()%12;return n(t===0?12:t," ")},m:function(e){return n(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e,t){return t.p[e.getHours()>=12?1:0]},P:function(e,t){return t.P[e.getHours()>=12?1:0]},s:function(e,t){return parseInt(e.getTime()/1e3,10)},S:["getSeconds","0"],u:function(e){var t=e.getDay();return t===0?7:t},U:function(e){var t=parseInt(r.formats.j(e),10),i=6-e.getDay(),s=parseInt((t+i)/7,10);return n(s,0)},V:function(e){var t=parseInt(r.formats.W(e),10),i=(new Date(""+e.getFullYear()+"/1/1")).getDay(),s=t+(i>4||i<=1?0:1);return s===53&&(new Date(""+e.getFullYear()+"/12/31")).getDay()<4?s=1:s===0&&(s=r.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))),n(s,0)},w:"getDay",W:function(e){var t=parseInt(r.formats.j(e),10),i=7-r.formats.u(e),s=parseInt((t+i)/7,10);return n(s,0,10)},y:function(e){return n(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset(),r=n(parseInt(Math.abs(t/60),10),0),i=n(Math.abs(t%60),0);return(t>0?"-":"+")+r+i},Z:function(e){var t=e.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");return t.length>4&&(t=r.formats.z(e)),t},"%":function(e){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(t,i){i=i||{};if(!e.Lang.isDate(t))return e.Lang.isValue(t)?t:"";var s,o,u,a,f;s=i.format||"%Y-%m-%d",o=e.Intl.get("datatype-date-format");var l=function(e,t){if(u&&t==="r")return o[t];var n=r.aggregates[t];return n==="locale"?o[t]:n},c=function(i,s){var u=r.formats[s];switch(e.Lang.type(u)){case"string":return t[u]();case"function":return u.call(t,t,o);case"array":if(e.Lang.type(u[0])==="string")return n(t[u[0]](),u[1]);default:return s}};while(s.match(/%[cDFhnrRtTxX]/))s=s.replace(/%([cDFhnrRtTxX])/g,l);var h=s.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,c);return l=c=undefined,h}};e.mix(e.namespace("Date"),r),e.namespace("DataType"),e.DataType.Date=e.Date},"3.16.0",{lang:["ar","ar-JO","ca","ca-ES","da","da-DK","de","de-AT","de-DE","el","el-GR","en","en-AU","en-CA","en-GB","en-IE","en-IN","en-JO","en-MY","en-NZ","en-PH","en-SG","en-US","es","es-AR","es-BO","es-CL","es-CO","es-EC","es-ES","es-MX","es-PE","es-PY","es-US","es-UY","es-VE","fi","fi-FI","fr","fr-BE","fr-CA","fr-FR","hi","hi-IN","hu","id","id-ID","it","it-IT","ja","ja-JP","ko","ko-KR","ms","ms-MY","nb","nb-NO","nl","nl-BE","nl-NL","pl","pl-PL","pt","pt-BR","ro","ro-RO","ru","ru-RU","sv","sv-SE","th","th-TH","tr","tr-TR","vi","vi-VN","zh-Hans","zh-Hans-CN","zh-Hant","zh-Hant-HK","zh-Hant-TW"]});
YUI.add("messenger-utils",function(a){"use strict";var b=a.Messenger.Common.Constants,c="https:"===window.location.protocol;a.Messenger.Common.Utils={substitute:function(a,b){return a.replace(/\{\{([^{}]*)\}\}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})},parseURI:function(a){for(var b=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],d=/(?:^|&)([^&=]*)=?([^&]*)/g,e=b.exec(a),f={queryKey:{}},g=c.length;g--;)f[c[g]]=e[g]||"";return f.query.replace(d,function(a,b,c){b&&(f.queryKey[b]=c)}),f},generateImgURL:function(a,d){var e,f=a.displayImagePrefs||a,g=a.user,h=a.network||"yahoo",i=a.size||32,j=c?"https://ycpi-mail-rest-img.msg.yahoo.com":"http://rest-img.msg.yahoo.com",k=f.avatarPreference;return 1===+k?e=f.avatarHash?window.location.protocol+"//avatars.zenfs.com/users/"+encodeURIComponent(f.avatarHash)+".medium.png":c?b.DEFAULT_IMAGE_SSL:b.DEFAULT_IMAGE:2===+k?f.guid&&f.guid.length>0?(e=window.location.protocol+"//msgr.zenfs.com/msgrDisImg/"+encodeURIComponent(f.guid),f.checksum&&(e+="?checksum="+encodeURIComponent(f.checksum))):f.checksum&&(e=j+"/v1/displayImage/custom/yahoo/"+encodeURIComponent(g)+"?height={{pixels|32|48}}&width={{pixels|32|48}}&chksum="+encodeURIComponent(f.checksum)+"&redirect=false&src=minty"):-1===+k&&"yahoo"===h&&(e=j+"/v1/displayImage/yahoo/"+encodeURIComponent(g)+"?height={{pixels|32|48}}&width={{pixels|32|48}}&maxage=259200"),e?this.substitute(e,{"pixels|32|48":i}):d?null:this.getDefaultBuddyImage(i)},getDefaultBuddyImage:function(a){a=a||32;var d=c?b.DEFAULT_IMAGE_SSL:b.DEFAULT_IMAGE;return this.substitute(d,{"pixels|32|48":a})},getUserId:function(a,b){return a?(b=b||"yahoo",a+"~"+b):!1},doLongWork:function(a,b,c){var d=a.length,e=this,f=80;for(a.__currIndex__||(a.__currIndex__=0),a.__startTime__=(new Date).getTime();a.__currIndex__<d&&(new Date).getTime()-a.__startTime__<f;)b(a[a.__currIndex__]),a.__currIndex__++;a.__currIndex__===d?(delete a.__currIndex__,delete a.__startTime__,c&&c()):setTimeout(function(){e.doLongWork(a,b,c)},0)},getConversationId:function(a,b,c){return[a,b,c||"yahoo"].join("~")},normalizePresenceState:function(a){var c=a.presenceState;return 99===c?(c={0:0,1:2,2:999}[a.customDNDStatus],"undefined"==typeof c&&(c=0)):"undefined"==typeof c&&(c=b.STATE.OFFLINE),c},normalizePresenceMessage:function(b){var c;return"number"==typeof b&&(b=b.toString()),b=b?b.replace(/[\r\n|\r|\n]+/g," "):"",c=b?a.Messenger.YMLUtil.ymlToHtml(b,!0):""},slicer:function(a,b,c){for(var d,e=0,f=b,g=a.length;g>e;)d=a.slice(e,f),c(d,e,f,a),e+=b,f+=b},unescapeHTML:function(a){var b,c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#x2F;":"/","&#47;":"/","&#x60;":"`","&#96;":"`"},d=a||"";for(b in c)c.hasOwnProperty(b)&&(d=d.replace(new RegExp(b,"ig"),c[b]));return d},validateURI:function(a){a+="";var b=decodeURIComponent(a).toLowerCase(),c=b.match(/(https)|(http)|(\/\/)|([#?\/])/g);return null===c||0!==b.indexOf(c[0])&&-1!==a.indexOf(":")?!1:!0},isCorp:function(){return a.Messenger.Neo.NeoConfig.isCorpmail===!0||-1!==window.location.href.indexOf("yahoo-inc.com")}}},"1.0.0",{requires:["messenger-constants","datatype-date-format","messenger-ymlutils"]});YUI.add("messenger-ymlutils",function(a){var b={emoticons:{yahoo:{":)":1,":-)":1,"(-:":1,"(:)":1,"(:":1,":(":2,":-(":2,";)":3,";-)":3,":-/":7,":-\\":7,":S":7,":x":8,":-x":8,"(L)":8,':">':9,":$":9,":-P":10,":P":10,":-*":11,":*":11,"(K)":11,"=((":12,"(U)":12,":-O":13,":O":13,"X-(":14,"X(":14,":@":14,"B-)":16,"(H)":16,">:)":19,"(6)":19,":((":20,":-((":20,":'(":20,":|":22,":-|":22,"/:)":23,"/:-)":23,"^o)":23,"o:-)":25,"0:-)":25,"o:)":25,"0:)":25,"(A)":25,":-B":26,":B":26,"8-|":29,"8-)":29,":-&":31,"+o(":31,":-$":32,":-#":32,"<:-P":36,"<:o)":36,"(:|":37,"(:}":37,":-?":39,"*-)":39,":))":21,":-))":21,"=))":24,":D":4,":-D":4,";;)":5,";;-)":5,">:D<":6,":->":15,":>":15,":-S":17,"#:-S":18,"=;":27,"I-)":28,"|-)":28,"L-)":30,"[-(":33,":o)":34,":0)":34,"<@:)":34,"8-}":35,"=P~":38,"#-o":40,"=D>":41,":-SS":42,"@-)":43,":^O":44,":-w":45,":-<":46,">:P":47,"<):)":48,":)]":100,":-c":101,"~x(":102,":-h":103,":-t":104,"8->":105,":-??":106,"%-(":107,":o3":108,X_X:109,":!!":110,"\\m/":111,":@)":49,"3:-O":50,"3:-0":50,":(|)":51,"~:>":52,"@};-":53,"%%-":54,"**==":55,"(~~)":56,"~o)":57,"*-:)":58,"8-X":59,"=:)":60,"=:-)":60,">-)":61,":-L":62,"[-O<":63,"$-)":64,':-"':65,"b-(":66,":)>-":67,"[-X":68,"\\:D/":69,">:/":70,";))":71,"o->":72,"o=>":73,"o-+":74,"(%)":75,":-@":76,"^:)^":77,":-j":78,"(*)":79,":-q":112,":-bd":113,"^#(^":114,":bz":115,"~^o^~":120,"'@^@|||":121,"[]---":122,"^O^||3":123,":-(||>":124,"'+_+":125,":::^^:::":126,"o|^_^|o":127,":puke!":128,"o|\\~":129,"o|:-)":130,"[]==[]":131,":-)/\\:-)":132,":(game)":133,"'@-@":134,":->~~":135,"?@_@?":136,":(tv)":137,"&[]":138,"%||:-{":139,"%*-{":140,":(fight)":141}},deentitize:function(a){var b=a.replace(/&gt;/g,">");return b=b.replace(/&lt;/g,"<"),b=b.replace(/&quot;/g,'"'),b=b.replace(/&apos;/g,"'"),b=b.replace(/&amp;/g,"&")},emoticonPickerEntries:{yahoo:{1:":)",2:":(",3:";)",4:":-/",5:":x",6:':">',7:":P",8:":-*",9:"=((",10:":-<",11:"~X(",12:":-O",13:"X-(",14:"B-)",15:">:)",16:":((",17:":|",18:"/:)",19:"O:-)",20:":-B",21:">:P",22:":-h",23:"8-|",24:":-&",25:":-$",26:"<:-P",27:"(:|",28:":-?",29:":))",30:"=))",31:":D",32:"<):)",33:":-t",34:";;)",35:">:D<",36:":>",37:":-S",38:"#:-S",39:"=;",40:"I-)",41:"L-)",42:"[-(",43:":)]",44:"8->",45:":O)",46:"8-}",47:"=P~",48:"#-o",49:"=D>",50:":-SS",51:"@-)",52:":^o",53:":-w",54:":-c",57:"~^o^~",58:"'@^@|||",59:"[]---",60:"^O^||3",61:":-(||>",62:"'+_+",63:":::^^:::",64:"o|^_^|o",65:":puke!",66:"o|\\~",67:"o|:-)",68:"[]==[]",69:":-)/\\:-)",70:":(game)",71:"'@-@",72:":->~~",73:"?@_@?",74:":(tv)",75:"&[]",76:"%||:-{",77:"%*-{",78:":(fight)"}},emoticonLabels:{1:"smile",2:"sad",3:"wink",4:"confused",5:"lovestruck",6:"blushing",7:"tongue",8:"kiss",9:"broken_heart",12:"surprise",13:"angry",14:"cool",15:"devilish",16:"crying",17:"straight_face",18:"raised_eyebrow",19:"angel",20:"nerd",23:"rolling_eyes",24:"sick",25:"shh",26:"party",27:"yawn",28:"thinking",29:"laughing",30:"rofl",31:"big_grin",34:"batting_eyelashes",35:"big_hug",36:"smug",37:"worried",38:"whew",39:"talk_to_the_hand",40:"sleepy",41:"loser",42:"not_talking",45:"clown",46:"silly",47:"drooling",48:"doh",49:"applause",50:"nail_biting",51:"hypnotized",52:"liar",53:"waiting",10:"sigh",21:"phbbbt",32:"cowboy",43:"on_the_phone",54:"call_me",11:"wits_end",22:"wave",33:"time_out",44:"daydreaming",57:"cheer",58:"dizzy",59:"cook",60:"eat",61:"give_up",62:"cold",63:"hot",64:"music",65:"puke",66:"sing",67:"catch",68:"exercise",69:"high_five",70:"play_game",71:"searching",72:"spooky",73:"studying",74:"tv",75:"gift",76:"unlucky",77:"down_on_luck",78:"fight"},ymlToHtml:function(a,c,d){return a=b.addClosingTags(a),a=b.ymlToHtmlRaw(a,!0,null,d),c||(a=b.addDefaultFont(a,!1),a=b.addClosingTags(a)),a},ymlToHtmlRaw:function(c,d,e,f){function g(a,b){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),b||(a=a.replace(/'/g,"&#x27;"),a=a.replace(/"/g,"&quot;")),a}function h(){for(var a=this.s=[],b=0;b<arguments.length;b++)a.push(arguments[b]);0===a.length&&a.push(""),this.$=function(b){return a.push(b),this},this.toString=function(){return a.length>1&&(a=[a.join("")]),a[0]}}function i(a,b,c){if("undefined"==typeof b){"#"==a.charAt(0)&&(a=a.substring(1));var d=parseInt(a,16);this.red=(16711680&d)>>16,this.green=(65280&d)>>8,this.blue=255&d}else this.red=a,this.green=b,this.blue=c;this.toString=function(){function a(a){var b="00"+a.toString(16);return b.substring(b.length-2)}return"#"+a(this.red)+a(this.green)+a(this.blue)}}function j(a,b,c){if(a.length<2||2>c)return a[0];if(a!=B){B=a;for(var d=0,e=a[0],f=a[1],g=e.red,h=e.green,j=e.blue,k=f.red,l=f.green,m=f.blue,n=(a.length-1)/A,o=0;A>o;o++){var p=o*n,q=Math.floor(p);q!=d&&(g=k,h=l,j=m,f=a[q+1],k=f.red,l=f.green,m=f.blue,d=q);var r=p-q,s=1-r,t=Math.floor(g*s+k*r),u=Math.floor(h*s+l*r),v=Math.floor(j*s+m*r);C[o]=new i(t,u,v)}}var w=c-1;b>w&&(b=w);var x=Math.floor(b*(A-1)/w);return C[x]}function k(a){return d&&(a=a.replace(/\r\n/g,"<br/>"),a=a.replace(/\r/g,"<br/>"),a=a.replace(/\n/g,"<br/>")),e&&(a=a.replace(/\s/g,"&nbsp;")),a}function l(a){return k(g(a))}function m(a,b){if(b&&"normal"!=b.mode){for(var c,d,e=new h,f=0;f<a.length;f++)c="fade"==b.mode?j(b.colors,f,a.length):b.colors[f%b.colors.length],d=l(a.charAt(f)),e.$('<font color="').$(c).$('">').$(d).$("</font>");a=e.toString()}else a=l(a);return a}function n(a){return a.replace(/\[/gi,"\\[").replace(/\$/gi,"\\$").replace(/\^/gi,"\\^").replace(/\\/gi,"\\\\").replace(/\./gi,"\\.").replace(/\|/gi,"\\|").replace(/\?/gi,"\\?").replace(/\*/gi,"\\*").replace(/\+/gi,"\\+").replace(/\(/gi,"\\(").replace(/\)/gi,"\\)").replace(/\//gi,"\\/")}function o(b,c){c=c||0;var d,e,f,h,j,k,l,m,o=/<([a-zA-Z0-9#]+[^><]*)>/,p={size:!0,face:!0,color:!0,dir:!0},q=[],r=null,s=0===c?b:b.substring(c),t=o.exec(s);if(t){if(r={},r.startTag=t[0],l=t[1],r.treatAsText=!1,r.startPos=t.index+c,"/"===l.charAt(l.length-1))return r.treatAsText=!0,r.endPos=r.startPos+r.startTag.length,r;f=l.indexOf(" "),r.name=-1!==f?l.substring(0,f):l,r.attributes=-1!==f?l.substring(f+1).toLowerCase():"",r.contentStartPos=r.startPos+r.startTag.length,m=n(r.name),h=0==r.name.indexOf("url=")?new RegExp("</\\s*url\\s*>","ig"):new RegExp("</\\s*"+m+"\\s*>","ig"),s=b.substring(r.contentStartPos),t=h.exec(s);for(var u=new RegExp("<\\s*"+m+"[^>]*>","ig"),v=0;null!==t;){r.endTag=t[0],r.endPos=r.contentStartPos+h.lastIndex,u.lastIndex=0;var w=u.exec(s.substring(v,h.lastIndex));r.endPos<b.length&&w?(t=h.exec(s),r.endTag=null,r.endPos=null,v+=u.lastIndex):t=null}switch(r.endTag?(r.contentEndPos=r.endPos-r.endTag.length,r.content=b.substring(r.contentStartPos,r.contentEndPos)):(r.endPos=b.length,r.content=b.substring(r.contentStartPos),("font"==r.name||"b"==r.name||"u"==r.name||"i"==r.name)&&(r.endTag="</"+r.name+">")),r.name.toLowerCase()){case"b":r.startTag="<b>";break;case"i":r.startTag="<i>";break;case"u":r.startTag="<u>";break;case"font":var z,A="",B="",C="";if(""!==r.attributes){var E=/([a-zA-Z]+=('|")([^\2]*?)\2)/g,F=r.attributes.match(E)||[];for(a.Array.each(F,function(a,b){b%2===0&&q.push(a)}),d=0,e=q.length;e>d;d++)if(j=q[d].split("="),2===j.length&&!p[j[0]])return r.treatAsText=!0,r}if(z=l.match(/size=(["'])([^\1]*?)\1/),null!==z){var G;if(!z[2].match(/[0-9]*/))return r.treatAsText=!0,r;G=parseInt(z[2]),x>G&&(G=x),G>y&&(G=y),G=g(G+"")+"pt",A=' style="font-size:'+G+'"'}z=l.match(/face=(["'])([^\1]*?)\1/),null!==z&&(B=' face="'+g(z[2],!0)+'"'),z=l.match(/color=(["'])([^\1]*?)\1/),null!==z&&(C=' color="'+g(z[2])+'"'),r.startTag="<font"+A+B+C+">";break;case"a":return r.treatAsText=!0,r;case"url":r.startTag="",r.endTag="";break;case"fade":case"alt":r.startTag="",r.endTag||(r.content=b.substring(r.contentStartPos),r.endPos=b.length),r.endTag="",r.colors=r.attributes.split(",");for(var e=r.colors.length,d=0;e>d;d++)r.colors[d]=new i(r.colors[d]);r.colors.length>1?r.setRenderMode=r.name.toLowerCase():1==r.colors.length&&(r.startTag='<font color="'+r.colors[0]+'">',r.endTag="</font>");break;case"black":case"blue":case"cyan":case"gray":case"green":case"pink":case"purple":case"orange":case"red":case"yellow":r.startTag='<font color="'+D[r.name]+'">',r.endTag="</font>";break;default:0===r.name.indexOf("url=")?(r.startTag=r.name.substring(4),0==r.startTag.indexOf('"')&&(r.startTag=r.startTag.substring(1)),'"'==r.startTag.charAt(r.startTag.length-1)&&(r.startTag=r.startTag.substring(0,r.startTag.length-1)),k=r.startTag,a.Messenger.Common.Utils.validateURI(k)?(r.startTag='<a href="'+r.startTag+'" class="link" target="_blank">',r.content?(r.startTag+=r.content,r.content=null):r.startTag+=k,r.startTag+="</a>",r.treatAsText=!1,r.endTag=""):r.treatAsText=!0):"#"==r.name.charAt(0)?(r.startTag='<font color="'+g(r.name)+'">',r.endTag="</font>"):0===r.name.indexOf("snd=")?(r.startTag="",r.endTag=""):r.treatAsText=!0}}return r}function p(a){var b,c=a.split("["),d=0,e=0,f=0;if(1==c.length)return a;var g=new h;for(b=0;b<c.length;b++){var i=c[b],j=i.indexOf("m");if(-1===j)g.$(i);else{var k=i.substring(0,j),l=!0;switch(k){case"0":g.$("</font>");break;case"1":g.$("<b>"),d++;break;case"2":g.$("<i>"),f++;break;case"30":g.$('<font color="'+D.black+'">');break;case"31":g.$('<font color="'+D.blue+'">');break;case"32":g.$('<font color="'+D.cyan+'">');break;case"33":g.$('<font color="'+D.gray+'">');break;case"34":g.$('<font color="'+D.green+'">');break;case"35":g.$('<font color="'+D.pink+'">');break;case"36":g.$('<font color="'+D.purple+'">');break;case"37":g.$('<font color="'+D.orange+'">');break;case"38":g.$('<font color="'+D.red+'">');break;case"39":g.$('<font color="'+D.yellow+'">');break;case"4":g.$("<u>"),e++;break;case"l":g.$("<url>");break;case"x1":d&&(g.$("</b>"),d--);break;case"x2":f&&(g.$("</i>"),f--);break;case"x4":e&&(g.$("</u>"),e--);break;case"xc":g.$("</font>");break;case"xl":g.$("</url>");break;default:0===k.indexOf("#")?g.$('<font color="'+k+'">'):(g.$(i),l=!1)}j++,l&&j<i.length&&g.$(i.substring(j))}}return g.toString()}function q(a,c,d){for(var e=0,f=0,g="yahoo",i=b.emoticons[g],j=new h,k=0;k<a.length;k++){for(var l,n=8,o=0;!o&&n>=2;n--)l=a.substring(k,k+n),"eval"!==l&&(i.hasOwnProperty(l)?o=i[l]:i.hasOwnProperty(l.toUpperCase())?o=i[l.toUpperCase()]:i.hasOwnProperty(l.toLowerCase())&&(o=i[l.toLowerCase()]));if(o){f!==k&&j.$(m(a.substring(f,k),c));var p=l.replace('"',"&quot;"),q='<img border=0 src="'+t+o+'.gif" alt="'+p+'" title="'+p+'" data-emoticon="true"/>';if(j.$(q),k+=n,f=k+1,e++,e==u)break}}return f<a.length&&j.$(m(a.substring(f),c)),j.toString()}function r(a,b,c){var d,e,f,g,i=/(\b(www\.|https?:\/\/)[A-Z0-9][A-Z0-9\-_.!~*();\/?:@&=+$,#%]*)/gi,j=new h,k=0;for(d=i.exec(a);null!==d;)e=d[0],f=i.lastIndex-e.length,f>k&&j.$(q(a.substring(k,f),b,c)),k=i.lastIndex,g=0===e.toLowerCase().indexOf("http"),g?j.$('<a href="'+e+'" target="_blank" class="link">'+e+"</a>"):j.$('<a href="http://'+e+'" target="_blank" class="link">'+e+"</a>"),d=i.exec(a);return k<a.length&&j.$(q(a.substring(k),b,c)),j.toString()}function s(a,b,c,d,e){if(d=d||0,d===z)return!1;for(var f=o(a,0),g=0;f;){if(f.startPos>g&&b.$(r(a.substring(g,f.startPos),c,e)),f.treatAsText?b.$(r(f.startTag),c):b.$(f.startTag),f.content){var h=f.setRenderMode?{mode:f.setRenderMode,colors:f.colors}:c;if(!s(f.content,b,h,d+1,e))return!1}f.endTag&&(f.treatAsText?b.$(r(f.endTag,c,e)):b.$(f.endTag)),g=f.endPos,f=f.endPos<a.length?o(a,f.endPos):null}return g<a.length&&b.$(r(a.substring(g),c,e)),!0}var t="https:"===window.location.protocol?"https://s.yimg.com/pu/emoticon/v2/":"http://l.yimg.com/pu/emoticon/v2/",u=15,v=6,w=32,x=v,y=w,z=50,A=64,B=[],C=[],D={black:"#000000",red:"#ff0000",green:"#008200",yellow:"#848200",blue:"#0000ff",purple:"#840084",cyan:"#008284",orange:"#ff8000",pink:"#ff0084",gray:"#848284"},E=p(c),F=new h;return s(E,F,{mode:"normal"},null,f)?F.toString():l(c)},domToYml:function(c){a.UA.gecko&&c.innerHTML&&(c.innerHTML=b.removeTrailingBR(c.innerHTML));var d=b.domToYmlRaw(c);return b.addDefaultFont(d,!0,c.style).replace(/\u00a0/g," ")},domToYmlRaw:function(c){var d=["8","10","12","14","18","24","36"],e={"x-small":"1",small:"2",medium:"3",large:"4","x-large":"5","xx-large":"6"},f="",g=0,h=null,i=c.childNodes.length;if(i>0&&(h=c.childNodes),3==c.nodeType)return c.nodeValue;if(1==c.nodeType){switch(c.tagName){case"BR":f+="\n";break;case"B":case"STRONG":for(f+="<b>",g=0;i>g;g++)f+=b.domToYmlRaw(h[g]);f+="</b>";break;case"I":case"EM":for(f+="<i>",g=0;i>g;g++)f+=b.domToYmlRaw(h[g]);f+="</i>";break;case"U":for(f+="<u>",g=0;i>g;g++)f+=b.domToYmlRaw(h[g]);f+="</u>";break;case"DIV":case"SPAN":case"FONT":var j,k,l,m=!1,n=!1,o=!1,p=c.getAttribute("style"),q=!1;if(j=c.getAttribute("face"),k=c.getAttribute("size"),l=c.getAttribute("color"),p&&(c.style.fontFamily&&c.style.fontFamily.length>0&&(j=c.style.fontFamily),c.style.fontSize&&c.style.fontSize.length>0&&(q=!0,k=e[c.style.fontSize]?e[c.style.fontSize]:c.style.fontSize),c.style.color&&c.style.color.length>0&&(l=c.style.color),"bold"==c.style.fontWeight&&(m=!0),"underline"==c.style.textDecoration&&(n=!0),"italic"==c.style.fontStyle&&(o=!0)),j||k||l){if(f+="<font",j&&k?f+=' face="'+j+'" size="'+(q?k:d[k-1])+'"':j&&!k?f+=' face="'+j+'"':!j&&k&&(f+=k.match(/\D/)?' size="'+k+'"':' size="'+d[k-1]+'"'),l){l=l.replace(/\s/g,"");var r;if(r=l.match(/rgb\((\d*),(\d*),(\d*)\)/i)){l="#";var s=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"),t=Math.floor((r[1]-0)/16);l+=s[t]+s[r[1]-0-16*t],t=Math.floor((r[2]-0)/16),l+=s[t]+s[r[2]-0-16*t],t=Math.floor((r[3]-0)/16),l+=s[t]+s[r[3]-0-16*t]}f+=' color="'+l+'"'}f+=">"}for(m&&(f+="<b>"),n&&(f+="<u>"),o&&(f+="<i>"),l&&(f+="["+l+"m"),g=0;i>g;g++)f+=b.domToYmlRaw(h[g]);l&&(f+="[xcm"),o&&(f+="</i>"),n&&(f+="</u>"),m&&(f+="</b>"),(k||j||l)&&(f+="</font>"),a.UA.ie&&"DIV"==c.tagName&&c.parentNode&&c!==c.parentNode.lastChild&&(f+="\n");break;case"IMG":var u=c.getAttribute("alt"),v=c.getAttribute("data-emoticon");v&&u&&(f+=u);break;case"INPUT":case"TEXTAREA":var u=c.value;u&&(f+=u);break;default:for(g=0;i>g;g++)f+=b.domToYmlRaw(h[g])}return f}return""},addClosingTags:function(a){var b=a,c=a.split("<font"),d=c.length-1;c=a.split("</font>");for(var e=c.length-1,f=0;d-e>f;f++)b+="</font>";return b},removeTrailingBR:function(a){var b,c=a;return(b=a.match(/^(.*)<br>(.*)$/))&&(c=b[2].match(/>?[^<>]+?</)?b[1]+"<br>"+b[2]:b[1]+b[2]),c},addDefaultFont:function(a,b,c){if(a.match||(a=""+a),c){var d="",e="";return c.fontFamily&&""!==c.fontFamily&&(e='face="'+c.fontFamily+'"'),c.fontSize&&""!==c.fontSize&&(d='size="'+c.fontSize.replace(/pt/,"")+'"'),(d.length>0||e.length>0)&&(a="<font "+e+" "+d+">"+a+"</font>"),a}for(var f="",g="",h=a;h.match&&h.match(/^<(.*?)>/);){var i=RegExp.$1;if(h=h.replace(/^<(.*?)>/,""),0===i.indexOf("font")&&i.indexOf("size")<0){f=g+"<"+i+' size="'+(b?"12":"2")+'">'+h;break}if(0===i.indexOf("font")){f=g+"<"+i+">"+h;break}g+="<"+i+">"}return 0==f.length&&(f='<font size="'+(b?"12":"2")+'">'+g+h+"</font>"),f}};a.namespace("Messenger").YMLUtil=b},"1.0.0",{requires:["messenger-constants","messenger-utils"]});"use strict";YUI.add("messenger-xframetransport",function(a){function b(){var a,b,c,d=document.getElementsByTagName("script"),e="http://yui.yahooapis.com/combo?3.10.3/yui-base/yui-base-min.js&3.10.3/json-parse/json-parse-min.js&3.10.3/json-stringify/json-stringify-min.js";for(a=0,b=d.length;b>a;a++)if(c=d[a].src,c&&(c.indexOf("yui-min.js")>-1||c.indexOf("yui.js")>-1||c.indexOf("yui-debug.js")>-1)){e=c;break}return e}var c,d=a.Messenger.Common.Utils,e=a.Messenger.urlParams||{},f="https:"===location.protocol,g="xframe-proxy_20130927.html",h=e.ymsgrpws?e.ymsgrpws:f?"https://ycpi-mail-preferences.msg.yahoo.com":"http://preference.msg.yahoo.com",i={yim_core:{url:e.coreServer?e.coreServer:"",proxy_path:"/"+g+"?bc",parsed_url:null,proxy_url:null,xframe:null},yim_notify:{url:e.notifyServer?e.notifyServer:"",proxy_path:"/v2/xframe/"+g+"?bc",parsed_url:null,proxy_url:null,xframe:null},ssp:{url:h,proxy_path:"/"+g+"?cb",parsed_url:null,proxy_url:null,xframe:null}},j=d.parseURI(window.location.href),k=j.protocol+"://"+j.authority;a.namespace("Messenger.Common").Transport={updateServiceURL:function(e){var f;i[e].parsed_url=d.parseURI(i[e].url),i[e].proxy_url=i[e].parsed_url.protocol+"://"+i[e].parsed_url.authority+i[e].proxy_path,null!==i[e].xframe&&i[e].xframe.destroy&&i[e].xframe.destroy(),i[e].url&&""!==i[e].url&&(this.xframePath||(this.xframePath=a.Tictac.base.getBase()+a.Tictac.base.getAssetURL("js/","tictac-mim"),f=window.YUI_config.groups.mim_core.filter,"min"===f?this.xframePath+="xframe-min.js":"debug"===f?this.xframePath+="xframe-debug.js":this.xframePath+="xframe.js"),c||(c=b()),i[e].xframe=new a.Messenger.Xframe({yim_core:i[e].url,proxy:i[e].proxy_url,xframePath:this.xframePath,yuiPath:c,localDomain:k}))},initialize:function(){this.updateServiceURL("yim_core"),this.updateServiceURL("yim_notify")},setServiceURL:function(b,c){var d=this._getService(b);!a.Lang.isString(c)||d.xframe&&c===d.url?c||(d.url=null,d.xframe&&d.xframe.destroy(),d.xframe=null):(d.url=c,this.updateServiceURL(b))},getServiceURL:function(a){return i[a]?i[a].url:void 0},_getService:function(a){return i[a]?i[a]:null},_getServices:function(){return i},setLogoutURL:function(a){var b=this._getService("yim_core");b.xframe.sendLogoutURL(a)},issueRequest:function(b){var c,d=b.id,e=b.body,f=b.method,g=b.server,h=this._getService(g),i=b.path||"",j=b.args||[],k=h.xframe,l=b.timeout||1e4,m=this;k||(this.updateServiceURL(g),k=h.xframe),c=h.url+i+"?"+j.join("&"),a.log("RTCAPIXFRAME: Sending request: Medhod "+f+" url: "+c+" body "+e,"info"),k.send({method:f,timeout:l,url:c,body:e,callback:function(c){a.log("RTCAPIXFRAME: Raw response: "+(a.Lang.isObject(c)?JSON.stringify(c):c)),e=e||"";var f,h={};if("string"==typeof c){if(c=c.replace(/^\s+/,"").replace(/\s+$/,""),""!==c)try{f=JSON.parse(c)}catch(i){}}else f=c;if(f=f||{},f.responseText&&!f.responseObj)try{f.responseObj=JSON.parse(f.responseText)}catch(i){}if(f.responseObj&&f.responseObj.error&&(f.error=f.responseObj.error),""!==e)try{h=JSON.parse(e)}catch(i){}if(f.body=h,f.parameters=b.args,f.error&&701===f.error.code){if(!m._xframeRetryAttempted)return m._xframeRetryAttempted=!0,m.updateServiceURL(g),void m.issueRequest(b);f.error.code=600}b.callback&&b.callback(d,f)}})},killConnections:function(){a.each(this._getServices(),function(a){if(a.xframe)try{a.xframe.destroy()}catch(b){}})},cancelRequests:function(a){var b=this._getService(a).xframe;b&&b.cancelRequests()}}},"1.0.0",{requires:["tictac-base","messenger-utils","xframe"]});YUI.add("messenger-requestmanager",function(a){"use strict";var b,c=110,d=12e4,e=12e5,f={KEEPALIVE:{method:"PUT",path:"/v1/session/keepalive",args:["notifyServerToken=2"]},GET_CRUMB:{method:"GET",path:"/v1/session",args:["amIOnline=0"]}},g=a.Messenger.Common.Constants.EVENTS,h=a.Messenger.Common.Utils,i="undefined"!=typeof navigator.onLine,j=0;b={appId:"mim",crumb:null,sessionId:null,imToken:null,primaryLoginId:null,transport:null,initialize:function(){this.transport=this.transport||a.Messenger.Common.Transport,this._notifyLog={},this._listeners={},this._watchers={},this._pendingRequests=[],i&&(this._boundOffline=a.bind(this._handleOffline,this),window.addEventListener?window.addEventListener("offline",this._boundOffline,!1):window.attachEvent("onoffline",this._boundOffline),this._boundOnline=a.bind(this._handleOnline,this),window.addEventListener?window.addEventListener("online",this._boundOnline,!1):window.attachEvent("ononline",this._boundOnline))},destroy:function(){i&&(window.removeEventListener?(window.removeEventListener("offline",this._boundOffline,!1),window.removeEventListener("online",this._boundOnline,!1)):(window.detachEvent("onoffline",this._boundOffline),window.detachEvent("ononline",this._boundOnline)))},setTransport:function(a){this.transport=a},setServerURL:function(b,c){a.log("Connecting to server "+b),this.transport.setServiceURL(b,c)},issueRequest:function(b,c){function d(d,e){if(a.log("Data received from "+k),e.error){if(i>c)return void p.issueRequest(b,++c);if(-1002===e.error.code||"HANGING_GET"===n&&403===e.httpStatus){if("GET_CRUMB"!==n)return p._refreshingCrumb?(p._refreshingCrumb=!1,void p._handleSessionExpired()):(p._refreshingCrumb=!0,p.crumb=null,p.getCrumb(),void p._pendingRequests.push(b))}else switch(e.error.code){case 28:p._handleSessionExpired();break;case 4:case 30:return p.trigger(g.FATAL_IO_ERROR),void p._clearState();case 600:return p.trigger(g.FATAL_IO_ERROR),void p._clearState();case 700:return void p.issueRequest(b)}}else"GET_CRUMB"!==n&&p._refreshingCrumb&&(a.log("Crumb refresh successful"),p._refreshingCrumb=!1);e.error?b.errorCallback&&b.errorCallback(e):("LOGIN"===n?p.processLoginData(e):"LOGOUT"===n&&p._clearState(),b.successCallback&&b.successCallback(e))}var e,f=this.transport,h=b.args?b.args.slice(0):[],i=b.retries||0,k=b.server||"yim_core",l=b.method,m=b.path,n=b.type,o=b.postBody,p=this,q="https:"===location.protocol,r=q?"https://ycpi-mail-rest-core.msg.yahoo.com":"http://prod.rest-core.msg.yahoo.com";if(c=c||0,!f)throw new Error("Attempt made to issue a request using RequestManager without setting a transport");if("yim_core"===k||"yim_notify"===k)if(this.crumb){if(!this.sessionId&&"LOGIN"!==n)return void a.log("Attempted "+n+" request without session ID!","warn","RequestManager")}else if("GET_CRUMB"!==n)return this.sessionId||"LOGIN"===n?(this.getCrumb(),void this._pendingRequests.push(b)):void a.log("Attempted "+n+" request without session ID!","warn","RequestManager");"yim_notify"===k&&h.push("imtoken="+encodeURIComponent(this.imToken)),this.crumb&&h.push("c="+encodeURIComponent(this.crumb)),this.sessionId&&"GET_CRUMB"!==n&&h.push("sid="+encodeURIComponent(this.sessionId)),e="object"==typeof o?JSON.stringify(o):o,"yim_core"!==k||f.getServiceURL(k)||this.setServerURL("yim_core",r),"DELETE"===l&&"ssp"!==k&&(h.push("_method=delete"),l="POST"),h.push("msgrAppId="+this.appId),h.push("cache="+(new Date).getTime()),f.issueRequest({args:h,body:e,method:l,server:k,path:m,id:++j,timeout:b.timeout,callback:d})},startListening:function(){this._listening||(this._listening=!0,this._notifySequence=0,this._getNotifications(),this._keepaliveTimer=a.later(e,this,this._keepAlive,null,!0))},processLoginData:function(b){var c=this,d=a.Messenger.urlParams||{};this.sessionId=b.sessionId,this.primaryLoginId=b.primaryLoginId,this.imToken=b.notifyServerToken.token,d.coreServer?this.setServerURL("yim_core",a.Messenger.urlParams.coreServer):this.setServerURL("yim_core",window.location.protocol+"//"+b.server),d.notifyServer?this.setServerURL("yim_notify",d.notifyServer):this.setServerURL("yim_notify",window.location.protocol+"//"+b.notifyServer),this.startListening(),a.later(0,null,function(){var a=window.location.protocol+"//"+b.server+"/v1/session/delete?logoffType=0";a+="&sid="+encodeURIComponent(b.sessionId),a+="&c="+encodeURIComponent(c.crumb),a+="&msgrAppId=mim&blocking=0",c.setLogoutURL(a)})},addListener:function(a,b){if(this._listeners[a]=this._listeners[a]||[],this._listeners[a].push(b),this._notifyLog[a])for(;this._notifyLog[a].length;)b(this._notifyLog[a].pop());return function(a,b,c){return{detach:function(){a._listeners[b].splice(c,1)}}}(this,a,this._listeners[a].length-1)},addListeners:function(a){var b,c;for(b=0,c=a.length;c>b;b++)this.addListener(a[b].id,a[b].callback)},watchNotifications:function(a,b){var c,d;if(this._watchers[a]=this._watchers[a]||[],this._watchers[a].push(b),this._notifyLog[a])for(c=0,d=this._notifyLog[a].length;d>c;c++)b(this._notifyLog[a][c]);return function(a,b,c){return{detach:function(){a._watchers[b].splice(c,1)}}}(this,a,this._watchers[a].length-1)},getCrumb:function(a){var b=f.GET_CRUMB,c=this;a=a||{},a.checkStatus&&(b.args=["amIOnline=1"]),c._crumbPending||(c._crumbPending=!0,c.crumb=null,c.issueRequest({type:"GET_CRUMB",method:b.method,path:b.path,args:b.args,successCallback:function(b){for(c.crumb=b.crumb;c._pendingRequests.length;)c.issueRequest(c._pendingRequests.pop());c._crumbPending=!1,a.successCallback&&a.successCallback(b)},errorCallback:function(){c._crumbPending=!1,c.trigger(g.FATAL_IO_ERROR),c._clearState()}}))},killConnections:function(){if(this._logoutUrl){var a=new Image;a.src=this._logoutUrl,this._logoutUrl=null}this.transport.killConnections()},setLogoutURL:function(a){this._logoutUrl=a,this.transport.setLogoutURL(a)},_getNotifications:function(){this._notifySequence=this._notifySequence||0,this._notifyPending||(this._notifyPending=!0,this.issueRequest({type:"HANGING_GET",timeout:d,server:"yim_notify",method:"GET",path:"/v1/pushchannel/"+this.primaryLoginId,args:["seq="+this._notifySequence,"format=json","idle="+c],successCallback:a.bind(this._getNotificationsSuccessCallback,this),errorCallback:a.bind(this._getNotificationsErrorCallback,this)}))},_getNotificationsSuccessCallback:function(b){this._notifyPending=!1;var c=this,d=b.responses||[];c._hgRetryCount&&(c._hgRetryCount=0,c.trigger(g.NETWORK_ERROR_RESOLVED)),a.Messenger.logPerf("Processing "+d.length+" notifications in RequestManager"),h.doLongWork(d,function(b){var d,e,f;for(d in b)if(b.hasOwnProperty(d)){if(c._notifySequence++,"disconnect"===d&&c._clearState(),c._listeners[d])for(e=0,f=c._listeners[d].length;f>e;e++)try{c._listeners[d][e](b[d])}catch(g){a.log("Error invoking notification handler for notification "+d+":  "+g.message)}else c._notifyLog[d]=c._notifyLog[d]||[],c._notifyLog[d].push(b[d]);if(c._watchers[d])for(e=0,f=c._watchers[d].length;f>e;e++)c._watchers[d][e](b[d])}},function(){a.Messenger.logPerf("Finished processing "+d.length+" notifications"),c._listening&&c._getNotifications()})},_getNotificationsErrorCallback:function(){this._notifyPending=!1;var b;this._listening&&(this._hgRetryCount||(this._hgRetryCount=0,this.trigger(g.TEMP_NETWORK_ERROR)),this._hgRetryCount++,b=this._hgRetryCount<10?500:5e3,a.later(b,this,this._getNotifications))},_handleSessionExpired:function(){this._clearState(),this.trigger(g.SESSION_EXPIRED)},_clearState:function(){this.crumb=this.sessionId=this.imToken=null,this._pendingRequests=[],this._listening=!1,this._notifySequence=0,this._crumbPending=!1,this._notifyPending=!1,this._keepaliveTimer&&(this._keepaliveTimer.cancel(),delete this._keepaliveTimer),this.transport.cancelRequests("yim_notify")},_handleOffline:function(){this._listening&&(this._listening=!1,this.transport.cancelRequests("yim_notify"))},_handleOnline:function(){this._keepaliveTimer&&(this._listening=!0,this._getNotifications())},_keepAlive:function(){var b=f.KEEPALIVE,c=this;this.issueRequest({type:"KEEPALIVE",method:b.method,path:b.path,args:b.args,successCallback:a.bind(function(a){a.notifyServerToken&&a.notifyServerToken.token&&(c.imToken=a.notifyServerToken.token)},c)})}},_.extend(b,Backbone.Events),a.namespace("Messenger.Common").RequestManager=b,b.initialize()},"@VERSION@",{requires:["messenger-constants","oop","backbone","messenger-utils"]});YUI.add("tictac-base-model",function(a){"use strict";a.namespace("Tictac.base").Model=Backbone.Model.extend({initialize:function(){var a=this;a.trackChanges&&(a.changedProperties={},a._previousState={},a.on("change",a._handleChange,a))},_handleChange:function(b){var c=this;a.mix(c.changedProperties,c.changedAttributes(),!0),a.each(b.changed,function(a,b){b in c._previousState||(c._previousState[b]=c.previous(b))})},isDirty:function(){return this.trackChanges&&!_.isEmpty(this.changedProperties)},getChanges:function(){return this.changedProperties},resetChanges:function(){this.changedProperties={},this._previousState={}},undoChanges:function(){var a=this;a.trackChanges&&!_.isEmpty(a._previousState)&&(a.set(a._previousState,{silent:!0}),a.resetChanges())},destroy:function(a){a=a||{},a.wait=!1,Backbone.Model.prototype.destroy.apply(this,arguments),this.off()},sync:function(a,b,c){if("delete"!==a)throw new Error("Sync called for unsupported method");c&&c.success&&c.success(this,null,c)}})},"@VERSION@",{requires:["backbone"]});YUI.add("messenger-contact",function(a){"use strict";var b=a.Messenger.Common.Constants,c=a.Messenger.Common.Utils,d={ACCEPT_ADD:{method:"POST",path:"/v1/buddyrequest/{{network}}/{{adderId}}"},ADD_USER:{method:"PUT",path:"/v1/group/{{groupname}}/contact/{{network}}/{{user}}"},DENY_ADD:{method:"DELETE",path:"/v1/buddyrequest/{{network}}/{{adderId}}"},IGNORE_USER:{method:"PUT",path:"/v1/ignorelist/{{network}}/{{user}}"},UNIGNORE_USER:{method:"DELETE",path:"/v1/ignorelist/{{network}}/{{user}}"},REPORT_SPAM:{method:"POST",path:"/v1/abuse/spim"},DELETE_USER:{method:"DELETE",path:"/v1/group/{{group}}/contact/{{network}}/{{user}}"},EDIT_CONTACT:{method:"PUT",path:"/v1/contact/{{network}}/{{contactId}}"},VISIBLE_LIST_ADD:{method:"PUT",path:"/v1/stealth/visiblelist"},VISIBLE_LIST_DELETE:{method:"DELETE",path:"/v1/stealth/visiblelist"},INVISIBLE_LIST_ADD:{method:"PUT",path:"/v1/stealth/invisiblelist"},INVISIBLE_LIST_DELETE:{method:"DELETE",path:"/v1/stealth/invisiblelist"}};a.namespace("Messenger.Model").Contact=a.Tictac.base.Model.extend({defaults:{presenceState:b.STATE.OFFLINE,presenceMessage:"",customDNDStatus:null,firstName:"",lastName:"",nickname:"",mobileno:null,email:"",user:"",displayName:"",network:"yahoo",image:c.getDefaultBuddyImage(),authorized:!1,incomingAddRequest:!1,onVisibleList:!1,onInvisibleList:!1,ignored:!1,type:"unknown",score:0,clientType:"0",addressbook:{},topContact:!1,groups:[],clientCapabilities:{richText:!0,smileys:!0,buzz:!0,fileXfer:!0,voice:!0,video:!0,typing:!0,videoDevice:!0}},requestManager:a.Messenger.Common.RequestManager,initialize:function(){this.get("displayName")||this.set({displayName:this.get("user")})},sendAddResponse:function(b){var e={authReason:b.message||""},f=b.accept?d.ACCEPT_ADD:d.DENY_ADD;b.alias&&(e.authAs=b.alias),a.Messenger.Common.RequestManager.issueRequest({method:f.method,path:c.substitute(f.path,{network:encodeURIComponent(this.get("network")),adderId:encodeURIComponent(this.get("user"))}),postBody:e,successCallback:b.success||null,errorCallback:b.err||null}),this.set("incomingAddRequest",!1),b.accept&&"buddy"!==this.get("type")&&this.sendAddRequest(b)},sendAddRequest:function(e){var f={message:e.message||""},g=d.ADD_USER,h=this.get("network"),i=this.get("user"),j=this;return"buddy"===this.get("type")?void a.log("Attempted to send an add request to an existing buddy.","warn","contact"):(e.addAs&&(f.addAs=e.addAs),f.addressbook=this._getAddressbook(),-1===_.indexOf(this.get("groups"),e.group)&&this.get("groups").push(e.group),void a.Messenger.Common.RequestManager.issueRequest({method:g.method,path:c.substitute(g.path,{user:encodeURIComponent(i),network:encodeURIComponent(h),groupname:encodeURIComponent(e.group)}),postBody:f,successCallback:function(){j.set({type:"buddy"}),a.Messenger.GlobalEvents.trigger(b.EVENTS.ADD_REQUEST_SENT,j),e.successCallback&&e.successCallback()},errorCallback:e.errorCallback}))},ignoreUser:function(b){b=b||{};var e=this.get("user"),f=this.get("network"),g=d.IGNORE_USER,h=this;a.Messenger.Common.RequestManager.issueRequest({method:g.method,path:c.substitute(g.path,{network:encodeURIComponent(f),user:encodeURIComponent(e)}),postBody:{},successCallback:function(){h.set("ignored",!0),b.success&&b.success()},errorCallback:b.err||null}),this.declinePendingAddRequest()},unignoreUser:function(b){b=b||{};var e=this.get("user"),f=this.get("network"),g=d.UNIGNORE_USER,h=this;a.Messenger.Common.RequestManager.issueRequest({method:g.method,path:c.substitute(g.path,{network:encodeURIComponent(f),user:encodeURIComponent(e)}),postBody:{},successCallback:function(){h.set("ignored",!1),b.success&&b.success()},errorCallback:b.err||null})},deleteContact:function(b){b=b||{};var e=this,f=b.groups||e.get("groups").slice(0),g=d.DELETE_USER,h=0;_.each(f,function(d){var i=c.substitute(g.path,{group:encodeURIComponent(d.name||d),network:encodeURIComponent(e.get("network")),user:encodeURIComponent(e.get("user"))});a.Messenger.Common.RequestManager.issueRequest({method:g.method,path:i,successCallback:function(){var a=e.get("groups");a.splice(_.indexOf(a,d),1),e.set("groups",a),h++,h===f.length&&b.successCallback&&(0===a.length&&e.set("type","unknown"),b.successCallback())},errorCallback:function(a){b.errorCallback&&b.errorCallback(a)}})})},reportSpam:function(b){var c=d.REPORT_SPAM;a.Messenger.Common.RequestManager.issueRequest({method:c.method,path:c.path,postBody:{spammerId:this.get("user"),spammedAs:b.alias,initiatedBy:b.initiatedBy,network:this.get("network"),spims:b.spims},successCallback:b.success||null,errorCallback:b.err||null}),this.declinePendingAddRequest()},declinePendingAddRequest:function(){this.get("incomingAddRequest")&&this.sendAddResponse({accept:!1})},_getAddressbook:function(){var a={email:this.get("email")||"",firstname:this.get("firstName")||"",lastname:this.get("lastName")||"",nickname:this.get("nickname")||"",mobileno:this.get("mobileno")||"",homeno:this.get("homeno")||"",workno:this.get("workno")||""};return this.get("addressbookId")&&(a.id=this.get("addressbookId")),a},editContact:function(b){b=b||{};var e=d.EDIT_CONTACT;a.Messenger.Common.RequestManager.issueRequest({method:e.method,path:c.substitute(e.path,{network:encodeURIComponent(b.network||this.get("network")),contactId:encodeURIComponent(b.user||this.get("user"))}),postBody:{addressbook:b.addressbook||this._getAddressbook()},successCallback:b.success||null,errorCallback:b.failure||null})},addToVisibleList:function(b){var c=this,e=d.VISIBLE_LIST_ADD;b=b||{},this.get("isInvisible")&&this.removeFromInvisibleList(b),a.Messenger.Common.RequestManager.issueRequest({method:e.method,path:e.path,postBody:{members:[{id:c.get("user"),network:c.get("network")}]},successCallback:a.bind(function(a){this.set("isVisible",!0),b.successCallback&&b.successCallback(a)},this),errorCallback:b.errorCallback})},removeFromVisibleList:function(b){var c=this,e=d.VISIBLE_LIST_DELETE;b=b||{},a.Messenger.Common.RequestManager.issueRequest({method:e.method,path:e.path,postBody:{members:[{id:c.get("user"),network:c.get("network")}]},successCallback:a.bind(function(a){this.set("isVisible",!1),b.successCallback&&b.successCallback(a)},this),errorCallback:b.errorCallback})},addToInvisibleList:function(b){var c=this,e=d.INVISIBLE_LIST_ADD;b=b||{},this.get("isVisible")&&this.removeFromVisibleList(b),a.Messenger.Common.RequestManager.issueRequest({method:e.method,path:e.path,postBody:{members:[{id:c.get("user"),network:c.get("network")}]},successCallback:a.bind(function(a){this.set("isInvisible",!0),b.successCallback&&b.successCallback(a)},this),errorCallback:b.errorCallback})},removeFromInvisibleList:function(b){var c=this,e=d.INVISIBLE_LIST_DELETE;b=b||{},a.Messenger.Common.RequestManager.issueRequest({method:e.method,path:e.path,postBody:{members:[{id:c.get("user"),network:c.get("network")}]},successCallback:a.bind(function(a){this.set("isInvisible",!1),b.successCallback&&b.successCallback(a)},this),errorCallback:b.errorCallback})}})},"@VERSION@",{requires:["messenger-constants","messenger-utils","messenger-requestmanager","tictac-base-model"]});YUI.add("messenger-stats",function(a){"use strict";a.namespace("Messenger.Common").Stats={stat:function(b,c){if(this.statsImpl)try{this.statsImpl.stat(b,c)}catch(d){a.log("Error trying to make a stats call - "+d.message,"warn","stats")}},setStatsAPI:function(a){this.statsImpl=a}}},"@VERSION@",{requires:[]});YUI.add("messenger-systemsettings",function(a){"use strict";a.namespace("Messenger.Model").SystemSettings=new a.Tictac.base.Model({defaults:{smsEnabled:!0,topContactsEnabled:!1,isRTL:!1}})},"@VERSION@",{requires:["tictac-base-model"]});YUI.add("messenger-session",function(a){"use strict";var b,c=a.Messenger.Common.Constants,d=c.EVENTS,e=a.Messenger.Common.Stats,f=a.Messenger.Model.SystemSettings,g=a.Messenger.Common.Utils,h={LOGIN:{method:"POST",path:"/v1/session"},LOGOUT:{method:"DELETE",path:"/v1/session"},SET_PRESENCE:{method:"PUT",path:"/v1/presence"},WAKEUP:{method:"PUT",path:"/v1/session",args:["action=mpop-activate"]}};b=a.Tictac.base.Model.extend({initialize:function(){var b=a.Messenger.Common.RequestManager,e=this;b.addListeners([{id:"buddyStatus",callback:a.bind(this._processBuddyStatus,this)},{id:"disconnect",callback:a.bind(this._processDisconnect,this)},{id:"endPointState",callback:a.bind(this._processEndPointState,this)},{id:"setVisibilityState",callback:a.bind(this._processVisibilityState,this)}]),b.on(d.SESSION_EXPIRED,a.bind(this._processSessionExpired,this)),b.on(d.TEMP_NETWORK_ERROR,function(){e.set("presenceState",c.STATE.PENDING)}),b.on(d.NETWORK_ERROR_RESOLVED,function(){e.set("presenceState",e.previous("presenceState"))}),b.on(d.FATAL_IO_ERROR,function(){e._processDisconnect()}),e.on("change:presenceState",function(a){var b=a.previous("presenceState");b!==c.STATE.PENDING&&e.set("prevPresenceState",b)})},login:function(b,d,g){if(this.isOnline())return void(d&&d());e.stat("login"),e.stat("toggle",{ltxt:"signin"}),b=b||{},this.set("presenceState",c.STATE.PENDING);var i,j,k=a.Messenger.Common.RequestManager,l=b.state||0,m=b.message||"",n=h.LOGIN,o=[{clientCapability:"smiley"},{clientCapability:"mpop"},{clientCapability:"richText"},{clientCapability:"interop"},{clientCapability:"activateSSA"},{clientCapability:"typing"}];f.get("smsEnabled")&&o.push({clientCapability:"sms"}),i={presenceState:l,presenceMessage:m,profileLogin:0,clientCapabilities:o,mpopLoginInfo:{loginType:b.dormant?1:0}},i.loginTriggers=[{loginTrigger:"mpopStateTransfer"},{loginTrigger:"ignoreList"},{loginTrigger:"invisibleList"}],j=["notifyServerToken=2","fieldsBuddyList="+encodeURIComponent("+groups"),"fieldsBuddyList="+encodeURIComponent("-uri")],k.issueRequest({type:"LOGIN",method:n.method,path:n.path,args:j,postBody:i,successCallback:a.bind(function(a){this.set({presenceState:l,presenceMessage:m}),this.processLoginData(a),d&&d(a)},this),errorCallback:a.bind(function(){this.set("presenceState",c.STATE.OFFLINE),g&&g()},this)})},logout:function(b){var e,f=a.Messenger.Common.RequestManager,g=h.LOGOUT,i=this.get("presenceState");e={logoffType:"global"===b?2:0},this.set("presenceState",c.STATE.PENDING),f.issueRequest({type:"LOGOUT",method:g.method,path:g.path,postBody:e,successCallback:a.bind(function(){this.set({presenceState:c.STATE.OFFLINE,presenceMessage:"",online:!1})},this),errorCallback:a.bind(function(){this.set("presenceState",i)},this)}),this.trigger(d.LOGOUT_LOCAL)},processLoginData:function(a){var b,c,d=a.primaryLoginId,e=this.get("loggedInId"),f=[];if(a.profileLoginIds)for(b=0,c=a.profileLoginIds.length;c>b;b++)f.push(a.profileLoginIds[b].profileLoginId),a.profileLoginIds[b].default&&(d=a.profileLoginIds[b].profileLoginId);e&&d!==e?this.logout():this.set({primaryId:a.primaryLoginId,loggedInId:d,aliases:f,mpopInfo:a.mpopInfo||{},image:g.generateImgURL({user:d,network:"yahoo",displayImagePrefs:a.displayInfo}),presenceSubscriptionsMaxPerRequest:a.constants.presenceSubscriptionsMaxPerRequest,buddies:a.contacts})},isOnline:function(){return this.get("presenceState")!==c.STATE.OFFLINE},isInvisible:function(){return this.get("presenceState")===c.STATE.INVISIBLE},becomePrimary:function(b){var d=h.WAKEUP,e=this,f=this.get("mpopInfo"),g=a.Messenger.Common.RequestManager;this.isOnline()&&f&&0!==f.state&&g.issueRequest({type:"MPOP_ACTIVATE",method:d.method,path:d.path,args:d.args,successCallback:function(a){f=e.get("mpopInfo"),f.state=0,e.set("mpopInfo",f),e.get("presenceState")===c.STATE.IDLE&&e.setPresence(e.get("prevPresenceState")||c.STATE.AVAILABLE,e.get("presenceMessage")),b&&b(a)}})},isPrimary:function(){return 0===this.get("mpopInfo").state?!0:!1},isMyself:function(b){var c=this,d=c.get("aliases"),e=c.get("primaryId");return b===e?!0:d&&-1!==a.Array.indexOf(d,b)},quickLogout:function(){this.isOnline()&&a.Messenger.Common.RequestManager.killConnections()},setPresence:function(b,d,e){var f=this;if(b===c.STATE.OFFLINE)f.logout();else if(f.isOnline())if(f.isPrimary()){var g=h.SET_PRESENCE,i={presenceState:b},j=a.Messenger.Common.RequestManager;"undefined"!=typeof d&&(i.presenceMessage=d),j.issueRequest({type:"PRESENCE",method:g.method,path:g.path,postBody:i,successCallback:function(){f.set({presenceState:b,presenceMessage:d||""})}})}else e|=0,3>e?f.becomePrimary(function(){f.setPresence(b,d,e+1)}):a.log("Session::setPresence - failed after trying "+e+" times");else f.login({state:b,message:d})},_processBuddyStatus:function(a){if(a.echo){var b=this.get("presenceState"),c=this.get("presenceMessage"),d=a.presenceMessage,e=g.normalizePresenceState(a);(e!==b||d!==c)&&(this.set("presenceState",e),"undefined"!=typeof d&&this.set("presenceMessage",d))}},_processDisconnect:function(){this.set("presenceState",c.STATE.OFFLINE),this.set("presenceMessage","")},_processSessionExpired:function(){var a=this.get("presenceState"),b=this.get("presenceMessage");this._processDisconnect(),this.login(a,b)},_processEndPointState:function(a){var b=a.endPointInfo;b&&(b.totalEndpoints=b.totalEndpoints||b.numberOfEndPoints,this.set("mpopInfo",b),0!==b.state&&1===b.numberOfEndPoints&&this.becomePrimary())},_processVisibilityState:function(a){var b=this.get("presenceState");2===a.state?b!==c.STATE.INVISIBLE&&(this._previousState={state:b,message:this.get("presenceMessage")},this.set("presenceState",c.STATE.INVISIBLE),this.set("presenceMessage","")):b===c.STATE.INVISIBLE&&(this._previousState?(this.set("presenceState",this._previousState.state),this.set("presenceMessage",this._previousState.message)):this.set("presenceState",c.STATE.AVAILABLE))}}),a.namespace("Messenger.Model").Session=new b({presenceState:c.STATE.OFFLINE,presenceMessage:"",prevPresenceState:c.STATE.OFFLINE,primaryId:null,loggedInId:null,aliases:null,mpopInfo:{},image:null})},"@VERSION@",{requires:["messenger-constants","messenger-requestmanager","messenger-utils","tictac-base-model","messenger-stats","messenger-systemsettings"]});YUI.add("messenger-usersettings",function(a){"use strict";var b;b=a.Tictac.base.Model.extend({_prefStores:[],_prefMapping:{},addKeys:function(a,b){var c=this;if(!b||!b.get||!b.set)throw new Error("Invalid prefStore set for UserSettings");c._prefStores.push(b),_.each(a,function(a,d){c._prefMapping[d]={defaultVal:a,store:b}})},getPreference:function(a,b){var c=this;if(!c._prefMapping[a])throw new Error("Get called for unsupported preference "+a);var d,e=c._prefMapping[a];if(c.has(a))d=c.get(a);else{if(e.store.async)return void e.store.get(a,function(d){"undefined"==typeof d&&(d=e.defaultVal),c.set(a,d),b(d)});d=e.store.get(a),"undefined"==typeof d&&(d=e.defaultVal),c.set(a,d)}return b&&b(d),d},setPreference:function(a,b){var c=a,d=this;"object"!=typeof c&&(c={},c[a]=b),_.each(c,function(a,b){var c,e=d._prefMapping[b];if("undefined"==typeof e)throw new Error("Unsupported key value "+b+" passed to UserSettings set method");c=e.store,("object"==typeof a||d.get(b)!==a)&&(c.save&&(c._dirty=!0),d.set(b,a),c.set(b,a))})},save:function(a){function b(){c--,0===c&&a&&a()}var c=0;_.each(this._prefStores,function(a){a._dirty&&(a._dirty=!1,c++,a.save(b))})}}),a.namespace("Messenger.Model").UserSettings=new b},"@VERSION@",{requires:["tictac-base-model","underscore"]});YUI.add("messenger-smsutils",function(a){"use strict";function b(a){var b;switch(a){case"e1":case"":b="us";break;case"cf":b="ca";break;case"hi":b="in";break;default:b=a}return b}function c(a){var c=b(a);return e[c]?e[c]:null}function d(a,b){var c;if(b&&b.length>0)for(c=0;c<b.length;c++)if(0===a.indexOf(b[c]))return a.slice(b[c].length);return null}var e={us:{name:"united_states",code:"1",idd:["011"],ndd:["1"]},ca:{name:"canada",code:"1",idd:["011"],ndd:["1"]},hk:{name:"hong_kong",code:"852",idd:["001"],ndd:[]},id:{name:"indonesia",code:"62",idd:["001","008"],ndd:["0"]},"in":{name:"india",code:"91",idd:["00"],ndd:["0"]},kr:{name:"south_korea",code:"82",idd:["001","002"],ndd:["0"]},kw:{name:"kuwait",code:"965",idd:["00"],ndd:["0"]},my:{name:"malaysia",code:"60",idd:["00"],ndd:["0"]},ph:{name:"philippines",code:"63",idd:["00"],ndd:["0"]},pk:{name:"pakistan",code:"92",idd:["00"],ndd:["0"]},th:{name:"thailand",code:"66",idd:["001"],ndd:["0"]},vn:{name:"vietnam",code:"84",idd:["00"],ndd:["0"]}},f=a.Messenger.Model.UserSettings;a.namespace("Messenger.Common").SMSUtils={getCountries:function(){var b,c=[];for(b in e)e.hasOwnProperty(b)&&c.push(a.merge({key:b},e[b]));return c},getIntlCode:b,normalizeNumber:function(a,b){var e,g,h="undefined"!=typeof NeoConfig?NeoConfig.intl:"";return b||(b=f.getPreference("mimHomeCountryPref"),b=""===b&&h&&0===_.indexOf(_.map(this.getCountries(),function(a){return a.key}),h)?h:b),a=a.replace(/^\s+|\s+$/g,""),0===a.indexOf("+")?a.replace(/[^0-9]/g,""):(a=a.replace(/[^0-9]/g,""),(e=c(b))?(g=d(a,e.idd),g?g:e.code?(g=d(a,e.ndd),g?e.code+g:e.code+a):null):null)},countUtf8Bytes:function(a){var b,c=a.length,d=0;for(b=0;c>b;b++)d+=this.charToBytes(a.charCodeAt(b));return d},splitStrBytes:function(a,b){var c,d,e,f,g="",h=0;for(d=0,e=a.length;e>d&&b>h&&(f=this.charToBytes(a.charCodeAt(d)),b>=h+f);d++)h+=f,g+=a.charAt(d);return c=a.substring(g.length),[g,c]},charToBytes:function(a){return 128>a?1:2048>a?2:3}}},"1.0.0",{requires:["underscore","messenger-constants","messenger-utils","messenger-usersettings"]});YUI.add("messenger-abutils",function(a){"use strict";var b=a.Messenger.Common.SMSUtils;a.namespace("Messenger.Common").ABUtils={parseContacts:function(c,d){var e=_.keys(c),f=[],g=this;return 0===e.length?[]:void a.Messenger.Common.Utils.doLongWork(e,function(a){var d=c[a],e=[],h={};d.fields&&(_.each(d.fields,function(a){var c,d;switch(a.type){case"name":h.firstName=a.value.givenName||"",h.lastName=a.value.familyName||"";break;case"nickname":h.nickname=a.value;break;case"email":h.email=a.value,h.mail_score=a.sc_score||0,d=g.extractYidFromEmail(h.email),d&&e.push({id:d.id,network:d.network}),h.sc_score=a.sc_score;break;case"phone":if(a.flags&&a.flags[0])switch(c=a.flags[0]){case"HOME":h.homeno=a.value;break;case"WORK":h.workno=a.value;break;case"MOBILE":h.mobileno=a.value,h.normalizedNumber=b.normalizeNumber(h.mobileno),e.length||e.push({id:h.mobileno,network:"sms"})}break;case"guid":h.guid=a.value;break;case"yahooid":a.value&&a.value.length>=4&&a.value.length<=32&&e.push({id:a.value,network:"yahoo"})}}),h.addressbookId=d.id,e.length>1&&"sms"===e[0].network&&e.shift(),_.each(e,function(a){f.push(_.extend(a,h))}))},function(){d&&d(f)})},extractYidFromEmail:function(b){if("string"==typeof b){var c=a.Tictac.base.mailutils.getYahooIdFromEmail(b);return c?{id:c,network:"yahoo"}:void 0}}}},"1.0.0",{requires:["underscore","messenger-constants","messenger-utils","messenger-smsutils","tictac-base-mailutils"]});YUI.add("messenger-contactlist",function(a){"use strict";var b,c=a.Messenger.Common.Constants,d=c.EVENTS,e=a.Messenger.Common.RequestManager,f=a.Messenger.Model.Session,g=a.Messenger.Common.Utils,h=a.Messenger.Common.SMSUtils,i=null,j={SUBSCRIBE_PRESENCE:{method:"PUT",path:"/v1/subscription/presence",args:["blocking=0"]},UNSUBSCRIBE_PRESENCE:{method:"DELETE",path:"/v1/subscription/presence",args:["blocking=0"]}};b=Backbone.Collection.extend({model:a.Messenger.Model.Contact,requestManager:e,utils:g,initialize:function(b,c){var g=this;c=c||{},g._displayNameTemplate=c.displayNameTemplate||"{{firstName}} {{lastName}}",g.ABParsed=!1,g.parseBuddies(),f.on("change:buddies",g.parseBuddies,g),f.on("change:presenceState",g._handlePresenceChange,g),f.on(d.OFFLINE,g.reset,g),e.addListeners([{id:"buddyInfo",callback:a.bind(g._handleBuddyInfo,g)},{id:"buddyStatus",callback:a.bind(g._handleBuddyStatus,g)},{id:"logOff",callback:a.bind(g._handleBuddyLogout,g)},{id:"buddyAuthorize",callback:a.bind(g._handleBuddyAuthorize,g)},{id:"displayImagePrefs",callback:a.bind(g._handleDisplayImagePrefs,g)},{id:"ignoreList",callback:a.bind(g._handleIgnoreList,g)},{id:"editIgnoreList",callback:a.bind(g._handleEditIgnore,g)},{id:"editInvisibleList",callback:a.bind(g._handleEditInvisible,g)},{id:"editVisibleList",callback:a.bind(g._handleEditVisible,g)}]),g.on("change:firstName change:lastName",g._handleNameChange,g)},setDisplayNameTemplate:function(a){this._displayNameTemplate=a},parseAddressBook:function(b){var c=this,e=[],f=a.Messenger.Model.UserSettings.getPreference("mimShowOnlyBuddies")?"unsubscribe":"subscribe";a.Messenger.Common.ABUtils.parseContacts(b,function(a){_.each(a,function(a){var b;a.user=a.user||a.id,a.id=g.getUserId(a.user,a.network),b=c.get(a.id),b&&"unknown"!==b.get("type")?_.extend(a,c._generateDisplayName(a)):(a.type="addressbook",a=c.normalizeContact(a)),e.push(a)}),c.add(e,{merge:!0}),c.handleABPresence(f),c.ABParsed=!0,c.trigger(d.AB_PARSING_COMPLETE)})},handleAddressBookContactRemoval:function(a){var b=this;_.each(a,function(a){b.remove(b.where({addressbookId:a.id,type:"addressbook"}))})},parseBuddies:function(){function b(b){b=b.contact||b,c=e.get(g.getUserId(b.id,b.network||"yahoo")),c&&a.mix(b,c.attributes),b=e.normalizeContact(b),b.type="buddy",h.push(b)}var c,d=f.get("buddies"),e=this,h=[];d&&d.length&&(a.Messenger.logPerf("Starting parsing of buddies"),g.doLongWork(d,b,function(){a.Messenger.logPerf("Finished parsing "+d.length+" buddies"),e.add(h,{merge:!0})}))},_handlePresenceChange:function(a){a.get("presenceState")===c.STATE.OFFLINE?_.each(this.filter(function(a){return a.get("presenceState")!==c.STATE.OFFLINE}),function(a){a.set("presenceState",c.STATE.OFFLINE)}):(a.previous("presenceState")===c.STATE.OFFLINE||a.previous("presenceState")===c.STATE.PENDING)&&this.handleABPresence("subscribe")},_handleNameChange:function(a){var b=this,c=b._generateDisplayName({firstName:a.get("firstName"),lastName:a.get("lastName"),user:a.get("user")});a.set({displayName:c.displayName})},_generateDisplayName:function(b){var c,d;return c=b.firstName&&b.lastName?g.substitute(this._displayNameTemplate,{firstName:b.firstName,lastName:b.lastName}):b.firstName||b.lastName||b.user,d=g.unescapeHTML(c),c=a.Escape.html(d),{displayName:c,displayNameRaw:d}},normalizeContact:function(a){var b,c;return a.contact&&(a=a.contact),a.user=a.user||a.sender||a.id,a.network=a.network||"yahoo",a.id=g.getUserId(a.user,a.network),_.extend(a,this._generateDisplayName(a)),"undefined"!=typeof a.presence&&(a.presenceState=a.presence.presenceState,a.presenceMessage=a.presence.presenceMessage),a.presenceMessage=a.presenceMessage?g.normalizePresenceMessage(a.presenceMessage):"",a.presenceState=g.normalizePresenceState(a),"undefined"!=typeof a.authorized&&(a.authorized=0===a.authorized?!1:!0),b=a.clientCapabilities,"undefined"!=typeof b&&(a.clientCapabilities={},a.clientCapabilities.richText=!!(1&b),a.clientCapabilities.smileys=!!(2&b),a.clientCapabilities.buzz=!!(4&b),a.clientCapabilities.fileXfer=!!(32768&b),a.clientCapabilities.voice=!!(65536&b),a.clientCapabilities.video=!!(4194304&b),a.clientCapabilities.typing=!!(8388608&b),a.clientCapabilities.videoDevice=!!(16777216&b)),c=g.generateImgURL(a,!0),c&&(a.image=c),this.get(a.id)&&"buddy"===this.get(a.id).get("type")&&(a.type="buddy"),"sms"===a.network&&(a.mobileno=a.mobileno||a.user,a.normalizedNumber=a.normalizedNumber||h.normalizeNumber(a.mobileno)),a},getContact:function(a,b){b=b||"yahoo";var c=g.getUserId(a,b),d=this.get(c);return a?(d||(this.add(this.normalizeContact({user:a,network:b})),d=this.get(c)),d):null},deleteContact:function(b){var c=this.get(b),d=c.get("addressbookId");if("addressbook"===c.type?this.handleABPresence("unsubscribe",[c]):c.deleteContact(),d)try{yui.contacts.api.deleteContacts([d])}catch(e){a.log("Error trying to delete user from AB: "+d,"warn")}this.remove(c)},_handleBuddyInfo:function(b){var c=b.contact,d=this,e=[];return this._presenceReceived||(a.Messenger.logPerfStats("t4"),this._presenceReceived=!0,a.Messenger.logPerf("*** First contact presence received")),c?(c.length||(c=[c]),a.Array.each(c,function(a){var b=a.sender||a.id||a.user,c=a.network||"yahoo";"yahoo"===c&&(a.id=g.getUserId(b,c),d.get(a.id)?("undefined"!=typeof a.presence&&(a.presenceState=a.presence.presenceState,a.presenceMessage=a.presence.presenceMessage),a.presenceState=g.normalizePresenceState(a),a.presenceMessage=g.normalizePresenceMessage(a.presenceMessage)):a=d.normalizeContact(a),e.push(a))}),void d.update(e,{remove:!1})):void a.log("buddyInfo: no buddies received","warn","contactlist")},_handleBuddyStatus:function(b){var c={user:b.sender,network:b.network||"yahoo",presenceState:g.normalizePresenceState(b),presenceMessage:g.normalizePresenceMessage(b.presenceMessage),id:g.getUserId(b.sender,b.network||"yahoo")};b.echo||"yahoo"===c.network&&(a.log("BuddyStatus notification received","debug","ContactList"),this.get(c.id)||(c=this.normalizeContact(c)),this.update([c],{remove:!1}))},_handleBuddyLogout:function(a){var b={user:a.buddy,network:a.network||"yahoo"};b=this.find(function(a){return a.get("user")===b.user&&a.get("network")===b.network}),b&&b.set("presenceState",c.STATE.OFFLINE)},_handleBuddyAuthorize:function(a){var b,c,e,g;a.echo||(c=a.network||"yahoo","yahoo"===c&&(e=a.user||a.id||a.sender,g=this.getContact(e,c),0===a.status||3===a.status?(g.set("incomingAddRequest",!0),b=a.receiver||f.get("loggedInId"),this.trigger(d.ADD_REQUEST_RECEIVED,{alias:b,user:e,network:c,msg:a.msg||""})):1===a.status&&(2===a.authState?(g&&this.remove(g),this.trigger(d.ADD_REJECTED,a)):(g&&g.set({authorized:!0}),this.trigger(d.ADD_ACCEPTED,a)))))},_handleDisplayImagePrefs:function(b){var c=this,d=b.sender,e=b.network||"yahoo",h=c.get(g.getUserId(d,e));a.log("DisplayImagePrefs notification received","debug","ContactList"),f.isMyself(d)?f.set("image",b.url):h&&h.set("image",g.generateImgURL({user:d,network:e,displayImagePrefs:b}))},handleABPresence:function(a,b){var d=j.SUBSCRIBE_PRESENCE,e="PRESENCE",g=[],h=f.get("presenceSubscriptionsMaxPerRequest")||50,i=this;b=b||this.where({type:"addressbook"}),f.isOnline()&&("unsubscribe"===a&&(d=j.UNSUBSCRIBE_PRESENCE,e="PRESENCE_OFF"),_.each(b,function(b){var d,e=b.get("network"),h=b.get("user");"unsubscribe"===a&&(b.set("presenceState",c.STATE.OFFLINE),b.set("presenceMessage","")),"sms"===e||f.isMyself(h)||(d={id:h},e&&"yahoo"!==e&&(d.network=e),g.push(d))}),i.utils.slicer(g,h,function(a){i.requestManager.issueRequest({type:e,method:d.method,path:d.path,args:d.args,postBody:{members:a}})}))},_unsubscribeABPresence:function(a){var b=j.UNSUBSCRIBE_PRESENCE;f.isOnline()&&"addressbook"===a.get("type")&&this.requestManager.issueRequest({type:"PRESENCE_OFF",method:b.method,path:b.path,args:b.args,postBody:{members:[a.get("user")]}})},_handleIgnoreList:function(a){var b,c,d,e=a.ignoredUsers;for(_.each(this.where({ignored:!0}),function(a){a.set("ignored",!1)}),b=0,c=e.length;c>b;b++)d=this.getContact(e[b].ignoredUser.id,e[b].ignoredUser.network||"yahoo"),d.set("ignored",!0)},_handleEditIgnore:function(a){var b,c=a.userName,d=a.network||"yahoo";!a.errorCode&&1===a.type&&c&&(b=this.getContact(c,d),1===a.state?b.set("ignored",!0):b.set("ignored",!1))},_handleEditVisible:function(a){var b=this,c=a.buddyList;a.errorCode||1!==a.type||(3===a.command?b.where({isVisible:!0}).set("isVisible",!1):_.each(c,function(c){var d=c.buddy,e=c.network||"yahoo",f=b.getContact(d,e);f&&f.set("isVisible",1===a.command)}))},_handleEditInvisible:function(a){var b=this,c=a.buddyList;a.errorCode||1!==a.type||(3===a.command?b.where({isInvisible:!0}).set("isInvisible",!1):_.each(c,function(c){var d=c.buddy,e=c.network||"yahoo",f=b.getContact(d,e);f&&f.set("isInvisible",1===a.command)}))}}),a.namespace("Messenger.Model").ContactList={getInstance:function(a){return i||(i=new b(null,a)),i}}},"@VERSION@",{requires:["messenger-contact","messenger-session","messenger-systemsettings","messenger-utils","messenger-abutils","escape","messenger-smsutils","messenger-constants"]});"use strict";YUI.add("messenger-msdb-user-preferences",function(a){a.Messenger.Common.MSDBUserPreferences=function(){var b=yui.mail.persist.MetaData,c=a.Messenger.Common.Constants,d=a.Tictac.base.mailpreferences;return{get:function(a){var b=d.get(a);return"cg.pref.im.loginpref"===a&&(b=this._decodeLoginPref(b)),b},set:function(a,c){return"cg.pref.im.loginpref"===a?(c=this._encodeLoginPref(c),"undefined"==typeof b.get("cg")&&b.addAttr("cg",{pref:{im:{}}}),d.set("cg",{pref:{im:{loginpref:c+""}}})):d.set(a,c),this},save:function(a){return d.save(a)},_decodeLoginPref:function(a){return a=parseInt(a,10),isNaN(a)?a=c.STATE.OFFLINE:12===a&&(a=c.STATE.INVISIBLE),a},_encodeLoginPref:function(a){return a=parseInt(a,10),isNaN(a)?a=c.STATE.OFFLINE:a===c.STATE.INVISIBLE&&(a=12),a}}}()},"@VERSION@",{requires:["mail-persist-meta-data","messenger-constants","tictac-base-mailpreferences"]});YUI.add("tictac-mim-rollups",function(a){a.namespace("Tictac.mim.rollups"),a.Tictac.mim.rollups.newconversation=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='        <li role="presentation" class="',(d=c.className)?d=d.call(a,{hash:{},data:b}):(d=a.className,d=typeof d===j?d.apply(a):d),e+=k(d)+'" data-id="',(d=c.id)?d=d.call(a,{hash:{},data:b}):(d=a.id,d=typeof d===j?d.apply(a):d),e+=k(d)+'" data-network="',(d=c.network)?d=d.call(a,{hash:{},data:b}):(d=a.network,d=typeof d===j?d.apply(a):d),e+=k(d)+'" title="',(d=c.displayName)?d=d.call(a,{hash:{},data:b}):(d=a.displayName,d=typeof d===j?d.apply(a):d),(d||0===d)&&(e+=d),e+='">    <a role="option" tabindex="0" href="#" title="',(d=c.displayName)?d=d.call(a,{hash:{},data:b}):(d=a.displayName,d=typeof d===j?d.apply(a):d),(d||0===d)&&(e+=d),e+='">',(d=c.mergedDisplayName)?d=d.call(a,{hash:{},data:b}):(d=a.mergedDisplayName,d=typeof d===j?d.apply(a):d),(d||0===d)&&(e+=d),e+='</a>    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div> </li>        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this,m=c.blockHelperMissing;return i+='<div class="mim-newconversation mim-conversation presenceUI" id="mim-cl-view"  data-state="',(g=c.stateName)?g=g.call(b,{hash:{},data:e}):(g=b.stateName,g=typeof g===j?g.apply(b):g),i+=k(g)+'">    <div class="listnav-label"  data-mover="true">    <div class="mim-presence-state-full itemlist">        <button class="mim-presence-state" type="button" data-move="false" title="Click to change status"><i class="mim-presence-message icon" data-move="false">',(g=c.presenceMessage)?g=g.call(b,{hash:{},data:e}):(g=b.presenceMessage,g=typeof g===j?g.apply(b):g),(g||0===g)&&(i+=g),i+='</i><span class="mim-dropdown-arrow" data-move="false"></span></button>    </div>    <div id="mim-user-location" class="hidden">    </div></div><div class="mim-conversation-top-bar primary-bg" data-mover="true">        <div class="mim-contact-input-wrapper">            <button class="mim-contact-input-clear" data-move="false"  data-search="true" disabled="disabled"></button>            <input type="text" placeholder="Start a conversation with..." class="mim-contact-input square" data-move="false"/>        </div>    </div>        <div class="mim-newconversation-area">        <ul id="mim-newconversation-contact-list" class="mim-contact-list" role="listbox" class="lg">        ',h={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},(g=c.contacts)?g=g.call(b,h):(g=b.contacts,g=typeof g===j?g.apply(b):g),c.contacts||(g=m.call(b,g,h)),(g||0===g)&&(i+=g),i+="    </ul>   </div></div>"}),a.Tictac.mim.rollups.conversation=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"&rlm;"}function g(a,b){var d,e="";return e+='                <li unselectable="on" class="mim-emoticon" tabindex="0" title="',(d=c.emoteSmiley)?d=d.call(a,{hash:{},data:b}):(d=a.emoteSmiley,d=typeof d===k?d.apply(a):d),e+=l(d)+" ",(d=c.emoteLabel)?d=d.call(a,{hash:{},data:b}):(d=a.emoteLabel,d=typeof d===k?d.apply(a):d),e+=l(d)+'" data-emotekey="',(d=c.emotekey)?d=d.call(a,{hash:{},data:b}):(d=a.emotekey,d=typeof d===k?d.apply(a):d),e+=l(d)+'"></li>                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.blockHelperMissing;return j+='<div class="mim-conversation">    <div class="mim-conversation-top-bar primary-bg" data-mover="true">        <div class="mim-user">            <img class="mim-user-photo" alt="',(h=c.displayName)?h=h.call(b,{hash:{},data:e}):(h=b.displayName,h=typeof h===k?h.apply(b):h),(h||0===h)&&(j+=h),j+='" src="',(h=c.image)?h=h.call(b,{hash:{},data:e}):(h=b.image,h=typeof h===k?h.apply(b):h),j+=l(h)+'" width="32" height="32" />            <div class="mim-sms-icon"></div>            <div class="mim-user-opi">                ',i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.isRTL)?h=h.call(b,i):(h=b.isRTL,h=typeof h===k?h.apply(b):h),c.isRTL||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='<b class="mim-user-status-name ',(h=c.presenceClassName)?h=h.call(b,{hash:{},data:e}):(h=b.presenceClassName,h=typeof h===k?h.apply(b):h),j+=l(h)+'">',(h=c.displayName)?h=h.call(b,{hash:{},data:e}):(h=b.displayName,h=typeof h===k?h.apply(b):h),(h||0===h)&&(j+=h),j+="</b>                ",i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.isRTL)?h=h.call(b,i):(h=b.isRTL,h=typeof h===k?h.apply(b):h),c.isRTL||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='<span class="mim-user-statusmsg">',(h=c.presenceMessage)?h=h.call(b,{hash:{},data:e}):(h=b.presenceMessage,h=typeof h===k?h.apply(b):h),(h||0===h)&&(j+=h),j+="</span>                ",i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.isRTL)?h=h.call(b,i):(h=b.isRTL,h=typeof h===k?h.apply(b):h),c.isRTL||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='<span class="mim-user-mobileno">',(h=c.mobileno)?h=h.call(b,{hash:{},data:e}):(h=b.mobileno,h=typeof h===k?h.apply(b):h),j+=l(h)+'</span>            </div>        </div>    </div>    <div class="mim-conversation-area" aria-live="assertive">        <ul class="mim-notification-area hidden"></ul>        <div class="mim-message-area">            <ul class="mim-recent-message-list hidden">                <li class="mim-recent-message-spinner"></li>            </ul>            <ul class="mim-message-list"></ul>            <div class="mim-typing-notification">',(h=c.typingMessage)?h=h.call(b,{hash:{},data:e}):(h=b.typingMessage,h=typeof h===k?h.apply(b):h),(h||0===h)&&(j+=h),j+='</div>        </div>    </div>    <div class="mim-conversation-input">    <div class="mim-conversation-input-toolbar">        <ul class="cf">            <li class="mim-character-counter"></li>                <li class="mim-format-link mim-rich-text-link mim-toolbar-item"><a data-action="format" aria-label="Change fonts" role="button" href="#" title="Change fonts"><b class="mim-rich-text secondary">Format</b></a></li>            <li class="mim-emoticons-link mim-toolbar-item"><a data-action="emoticons" aria-label="Insert emoticons" role="button" href="#" title="Insert emoticons"><b class="mim-emoticons secondary">Emoticons</b></a></li>                <li class="mim-mode-toggle mim-mode-sms hidden" style="display:none;"><a data-action="conv-mode" data-mode="sms" href="#" title="Switch to SMS"><b class="mim-sms">Switch to SMS</b></a></li>            <li class="mim-mode-toggle mim-mode-im hidden" style="display:none;"><a data-action="conv-mode" data-mode="im" href="#" title="Switch to instant message"><b class="mim-im">Switch to instant message</b></a></li>        </ul>    </div>    <div class="mim-rte-pane mim-emoticons-pane hidden">        <ul class="mim-emoticon-list">                ',i={hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e},(h=c.emoticons)?h=h.call(b,i):(h=b.emoticons,h=typeof h===k?h.apply(b):h),c.emoticons||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='        </ul>    </div>    <div class="mim-rte-pane mim-format-pane hidden">    </div>    <div class="mim-conversation-rte">    </div>    </div></div>'}),a.Tictac.mim.rollups.audiotag=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<audio id="mim-messageReceivedAudioTag" hidden="hidden">    <source src="',(f=c.mp3Source)?f=f.call(b,{hash:{},data:e}):(f=b.mp3Source,f=typeof f===h?f.apply(b):f),g+=i(f)+'" type="audio/mp3"/>    <source src="',(f=c.wavSource)?f=f.call(b,{hash:{},data:e}):(f=b.wavSource,f=typeof f===h?f.apply(b):f),g+=i(f)+'" type="audio/wav"/></audio>'}),a.Tictac.mim.rollups.newconvcontlist=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='        <li role="presentation" class="',(d=c.className)?d=d.call(a,{hash:{},data:b}):(d=a.className,d=typeof d===j?d.apply(a):d),e+=k(d)+'" data-id="',(d=c.id)?d=d.call(a,{hash:{},data:b}):(d=a.id,d=typeof d===j?d.apply(a):d),e+=k(d)+'" data-network="',(d=c.network)?d=d.call(a,{hash:{},data:b}):(d=a.network,d=typeof d===j?d.apply(a):d),e+=k(d)+'" title="',(d=c.displayName)?d=d.call(a,{hash:{},data:b}):(d=a.displayName,d=typeof d===j?d.apply(a):d),(d||0===d)&&(e+=d),e+='">    <a role="option" tabindex="0" href="#" title="',(d=c.displayName)?d=d.call(a,{hash:{},data:b}):(d=a.displayName,d=typeof d===j?d.apply(a):d),(d||0===d)&&(e+=d),e+='">',(d=c.mergedDisplayName)?d=d.call(a,{hash:{},data:b}):(d=a.mergedDisplayName,d=typeof d===j?d.apply(a):d),(d||0===d)&&(e+=d),e+='</a>    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div> </li>        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this,m=c.blockHelperMissing;return i+='    <div class="mim-newconversation-area">        <ul id="mim-newconversation-contact-list" class="mim-contact-list" role="listbox" class="lg">        ',h={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},(g=c.contacts)?g=g.call(b,h):(g=b.contacts,g=typeof g===j?g.apply(b):g),c.contacts||(g=m.call(b,g,h)),(g||0===g)&&(i+=g),i+="    </ul>   </div>"}),a.Tictac.mim.rollups.presence=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function";return g+='<div class="listnav-label"  data-mover="true">    <div class="mim-presence-state-full itemlist">        <button class="mim-presence-state" type="button" data-move="false" title="Click to change status"><i class="mim-presence-message icon" data-move="false">',(f=c.presenceMessage)?f=f.call(b,{hash:{},data:e}):(f=b.presenceMessage,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+='</i><span class="mim-dropdown-arrow" data-move="false"></span></button>    </div>    <div id="mim-user-location" class="hidden">    </div></div>'}),a.Tictac.mim.rollups.sms_input=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='            <option value="',(d=c.val)?d=d.call(a,{hash:{},data:b}):(d=a.val,d=typeof d===k?d.apply(a):d),f+=l(d)+'" ',e={hash:{},inverse:m.noop,fn:m.program(2,g,b),data:b},(d=c.selected)?d=d.call(a,e):(d=a.selected,d=typeof d===k?d.apply(a):d),c.selected||(d=n.call(a,d,e)),(d||0===d)&&(f+=d),f+=">",(d=c.label)?d=d.call(a,{hash:{},data:b}):(d=a.label,d=typeof d===k?d.apply(a):d),f+=l(d)+"</option>        "}function g(a,b){return'selected="selected"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.blockHelperMissing;return j+='<form>    <label for="mim-mobileno-input">',(h=c.sms_label)?h=h.call(b,{hash:{},data:e}):(h=b.sms_label,h=typeof h===k?h.apply(b):h),(h||0===h)&&(j+=h),j+='</label>    <br/>    <br/>    <select name="country" id="mim-phone-country">        ',i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.countries)?h=h.call(b,i):(h=b.countries,h=typeof h===k?h.apply(b):h),c.countries||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='    </select>    <input name="mobileno" id="mim-mobileno-input" type="text" placeholder="" value="',(h=c.mobileno)?h=h.call(b,{hash:{},data:e}):(h=b.mobileno,h=typeof h===k?h.apply(b):h),j+=l(h)+'"/></form>'}),a.Tictac.mim.rollups.conversationlist=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div data-action="hideconversations" class="btn-close-conversations" role="button">    <a class="secondary" href="#" title="Close" draggable="false" role="button" tabindex="0">Close</a></div><ul class="mim-conversations-list mim-dialog-border"></ul><ul class="mim-conversations-tabs tt-toolbar-color cf"><li class="mim-new-tab tt-hover tt-inactive-tab-bg" data-id="new"><div class="secondary">&nbsp;</div></li><li class="mim-overflow-tab tt-hover tt-inactive-tab-bg"><div class="secondary">&nbsp;</div><div class="mim-msg-badge">0</div></li></ul><div class="mim-resizer" data-resizer="true"></div><ul class="mim-menu mim-overflow-tabs hidden"></ul>'}),a.Tictac.mim.rollups.flashaudio=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<object id="mimflashaudio" type="application/x-shockwave-flash" data="',(f=c.src)?f=f.call(b,{hash:{},data:e}):(f=b.src,f=typeof f===h?f.apply(b):f),g+=i(f)+'" width="100%" height="100%">    <param name="allowFullScreen" value="true">    <param name="scale" value="noscale">    <param name="allowScriptAccess" value="always">    <param name="allowNetworking" value="all">    <param name="flashVars" value="allowedDomain=',(f=c.domain)?f=f.call(b,{hash:{},data:e}):(f=b.domain,f=typeof f===h?f.apply(b):f),g+=i(f)+'&amp;autoplay=messagereceived"></object>'}),a.Tictac.mim.rollups.custom_status_dialog=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<form>    <textarea id="mim-custom-status-input" name="mim-custom-status-input" placeholder="What\'s on your mind?"></textarea>    <label class="mim-custom-status-label"><input type="checkbox" name="mim-custom-busy" id="mim-custom-busy" class="mim-option-checkbox"/>Appear Busy</label></form>'}),a.Tictac.mim.rollups.conversationtab=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<li class="mim-menu-item mim-conv-tab tt-hover tt-inactive-tab-bg" data-id="',(f=c.convId)?f=f.call(b,{hash:{},data:e}):(f=b.convId,f=typeof f===h?f.apply(b):f),g+=i(f)+'">    <div class="mim-contact-name" title="',(f=c.displayTitle)?f=f.call(b,{hash:{},data:e}):(f=b.displayTitle,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+='">',(f=c.displayName)?f=f.call(b,{hash:{},data:e}):(f=b.displayName,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+='</div>    <div class="mim-msg-badge">0</div>    <span data-action="closeconversation" class="btn-close-conversation">        <a title="Close this conversation window" draggable="false" role="button"></a>    </span></li>'}),a.Tictac.mim.rollups.options=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return'selected="selected"'}function g(a,b){return'checked="checked"'}function h(a,b){var d,e,f="";return f+='  <li class="cf">    <div class="options-label">        SMS Message Home Country    </div>    <div class="options-content">      <div class="custom-select">      <select name="mim-homeCountrySelect" id="mim-homeCountrySelect">      ',e={hash:{},inverse:o.noop,fn:o.program(6,i,b),data:b},(d=c.countries)?d=d.call(a,e):(d=a.countries,d=typeof d===m?d.apply(a):d),c.countries||(d=p.call(a,d,e)),(d||0===d)&&(f+=d),f+="      </select>      </div<    </div>  </li>  "}function i(a,b){var d,e,g="";return g+='      <option value="',(d=c.val)?d=d.call(a,{hash:{},data:b}):(d=a.val,d=typeof d===m?d.apply(a):d),g+=n(d)+'" ',e={hash:{},inverse:o.noop,fn:o.program(1,f,b),data:b},(d=c.selected)?d=d.call(a,e):(d=a.selected,d=typeof d===m?d.apply(a):d),c.selected||(d=p.call(a,d,e)),(d||0===d)&&(g+=d),g+=">",(d=c.label)?d=d.call(a,{hash:{},data:b}):(d=a.label,d=typeof d===m?d.apply(a):d),g+=n(d)+"</option>      "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m="function",n=this.escapeExpression,o=this,p=c.blockHelperMissing;return l+='<ul>  <li class="cf">    <div class="options-label">        Sign Out    </div>    <div class="options-content">    <p>If you are signed in to Yahoo in multiple places, you can choose where to sign out.</p>      <div class="custom-select">      <select name="mim-logoutSelect" id="mim-logoutSelect">          <option value="local" ',k={hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e},(j=c.localSelected)?j=j.call(b,k):(j=b.localSelected,j=typeof j===m?j.apply(b):j),c.localSelected||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+='>Always sign out here</option>          <option value="global" ',k={hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e},(j=c.globalSelected)?j=j.call(b,k):(j=b.globalSelected,j=typeof j===m?j.apply(b):j),c.globalSelected||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+='>Always sign out everywhere</option>          <option value="prompt" ',k={hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e},(j=c.promptSelected)?j=j.call(b,k):(j=b.promptSelected,j=typeof j===m?j.apply(b):j),c.promptSelected||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+='>Ask every time</option>      </select>      </div>    </div>  </li>  <li class="cf">    <div class="options-label">        Sound Alerts    </div>    <div class="options-content">      <label class="cbox"><input type="checkbox" name="mim-enableSoundsCheckbox" id="mim-enableSoundsCheckbox" ',k={hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e},(j=c.enableSounds)?j=j.call(b,k):(j=b.enableSounds,j=typeof j===m?j.apply(b):j),c.enableSounds||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+='/>        Play a sound when a new chat or text message is received        <span class="icon"></span>      </label>    </div>  </li>  <li class="cf">    <div class="options-label">        Visible Contacts    </div>    <div class="options-content">      <label class="cbox">    <input type="checkbox" name="mim-showOnlyBuddiesCheckbox" id="mim-showOnlyBuddiesCheckbox" ',k={hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e},(j=c.showOnlyBuddies)?j=j.call(b,k):(j=b.showOnlyBuddies,j=typeof j===m?j.apply(b):j),c.showOnlyBuddies||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+='/>    Show only Yahoo Messenger List Contacts        <span class="icon"></span>    </label>    </div>  </li>  <li class="cf mim-options-ignore">    <div class="options-label">        Block Users    </div>    <div class="options-content">   <div>      <label class="rbtn">    <input class="mim-option-radio" type="radio" title="Click to ignore incoming messages from anyone who is not in my Contacts List" name="mim-blockPreference" id="mim-blockNonBuddies" value="nonBuddies"/>          <span class="icon"></span>    Block all users not in my Contact List. I will not be able to send or receive messages from users not in my Contact List.        </label>      </div>      <div>        <label class="rbtn">    <input class="mim-option-radio" type="radio" title="Click to allow incoming messages from anyone" name="mim-blockPreference" value="selectedUsers" id="mim-blockSelected" checked="checked"/>          <span class="icon"></span>    Block users in the Block list below. I will not be able to send or receive instant messages from users in this list.        </label>      </div>      <div>    <p id="mim-offlineError" class="mim-error hidden">You must be signed in to Yahoo Messenger to manage your block list.</p>    </div>        <select id="mim-blocklist" name="mim-blocklist" multiple="multiple" size="6">    </select>    <div class="mim-blocklist-buttons">        <button class="btn small left right" title="Add" id="mim-addBlockedUserButton">Add</button>        <button class="btn small left right" title="Remove" id="mim-removeBlockedUserButton">Remove</button>   </div>   </div>  </li>  <li class="cf">    <div class="options-label">        Conversation History    </div>    <div class="options-content">    <label class="cbox">    <input type="checkbox" id="mim-enableSSACheckbox" title="Click to disable conversation archiving" checked="checked" disabled="disabled"/>    Keep a history of my conversations    <span class="icon"></span>    </label>    </div>  </li>  ',k={hash:{},inverse:o.noop,fn:o.program(5,h,e),data:e},(j=c.smsEnabled)?j=j.call(b,k):(j=b.smsEnabled,j=typeof j===m?j.apply(b):j),c.smsEnabled||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+="</ul>"}),a.Tictac.mim.rollups.dialog_footer=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"        <br/>        "}function g(a,b){var d,e,f="";return f+='    <div class="mim-dialog-buttons modal-ft">        <span class="btn left right default mim-button-ok">            <a href="#" title="OK" data-action="continue">OK</a>        </span>        <span class="btn left right mim-button-cancel ',e={hash:{},inverse:l.noop,fn:l.program(4,h,b),data:b},(d=c.hideCancel)?d=d.call(a,e):(d=a.hideCancel,d=typeof d===m?d.apply(a):d),c.hideCancel||(d=n.call(a,d,e)),(d||0===d)&&(f+=d),f+='">            <a href="#" title="Cancel" data-action="cancel">Cancel</a>        </span>    </div>    '}function h(a,b){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l=this,m="function",n=c.blockHelperMissing;return j={hash:{},inverse:l.program(1,f,e),fn:l.noop,data:e},(i=c.newDialogTheme)?i=i.call(b,j):(i=b.newDialogTheme,i=typeof i===m?i.apply(b):i),c.newDialogTheme||(i=n.call(b,i,j)),(i||0===i)&&(k+=i),k+="    ",j={hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e},(i=c.showButtons)?i=i.call(b,j):(i=b.showButtons,i=typeof i===m?i.apply(b):i),c.showButtons||(i=n.call(b,i,j)),(i||0===i)&&(k+=i),k+="</form>    </div></div>"}),a.Tictac.mim.rollups.confirm_dialog=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"hidden"}function g(a,b){var d,e="";return e+=' id="',(d=c.formId)?d=d.call(a,{hash:{},data:b}):(d=a.formId,d=typeof d===n?d.apply(a):d),e+=o(d)+'"'}function h(a,b){var d,e="";return e+='<div class="mim-alert-icon"><img src="',(d=c.iconSrc)?d=d.call(a,{hash:{},data:b}):(d=a.iconSrc,d=typeof d===n?d.apply(a):d),e+=o(d)+'" alt="',(d=c.iconAlt)?d=d.call(a,{hash:{},data:b}):(d=a.iconAlt,d=typeof d===n?d.apply(a):d),e+=o(d)+'"/></div>'}function i(a,b){return"        <br/>        "}function j(a,b){var d,e,g="";return g+='    <div class="mim-dialog-buttons modal-ft">        <span class="btn left right default mim-button-ok">            <a href="#" title="OK" data-action="continue">OK</a>        </span>        <span class="btn left right mim-button-cancel ',e={hash:{},inverse:p.noop,fn:p.program(1,f,b),data:b},(d=c.hideCancel)?d=d.call(a,e):(d=a.hideCancel,d=typeof d===n?d.apply(a):d),c.hideCancel||(d=q.call(a,d,e)),(d||0===d)&&(g+=d),g+='">            <a href="#" title="Cancel" data-action="cancel">Cancel</a>        </span>    </div>    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m="",n="function",o=this.escapeExpression,p=this,q=c.blockHelperMissing;return m+='<div class="modal mim-dialog mim-view">    <h2 class="modal-hd mim-dialog-header" data-mover="true">        <span class="mim-dialog-header-text">',(k=c.title)?k=k.call(b,{hash:{},data:e}):(k=b.title,k=typeof k===n?k.apply(b):k),m+=o(k)+'</span>        <span class="close mim-button-cancel ',l={hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e},(k=c.hideCancel)?k=k.call(b,l):(k=b.hideCancel,k=typeof k===n?k.apply(b):k),c.hideCancel||(k=q.call(b,k,l)),(k||0===k)&&(m+=k),m+='" data-action="cancel"              data-move="false" title="Close"></span>    </h2>    <div class="mim-dialog-body">    <form class="dialog-form"',l={hash:{},inverse:p.noop,fn:p.program(3,g,e),data:e},(k=c.hasFormId)?k=k.call(b,l):(k=b.hasFormId,k=typeof k===n?k.apply(b):k),c.hasFormId||(k=q.call(b,k,l)),(k||0===k)&&(m+=k),m+=">    ",l={hash:{},inverse:p.noop,fn:p.program(5,h,e),data:e},(k=c.iconSrc)?k=k.call(b,l):(k=b.iconSrc,k=typeof k===n?k.apply(b):k),c.iconSrc||(k=q.call(b,k,l)),(k||0===k)&&(m+=k),m+='    <div class="mim-error hidden"></div>    <div class="mim-alert-text">',(k=c.message)?k=k.call(b,{hash:{},data:e}):(k=b.message,k=typeof k===n?k.apply(b):k),(k||0===k)&&(m+=k),m+="</div>",l={hash:{},inverse:p.program(7,i,e),fn:p.noop,data:e},(k=c.newDialogTheme)?k=k.call(b,l):(k=b.newDialogTheme,k=typeof k===n?k.apply(b):k),c.newDialogTheme||(k=q.call(b,k,l)),(k||0===k)&&(m+=k),m+="    ",l={hash:{},inverse:p.noop,fn:p.program(9,j,e),data:e},(k=c.showButtons)?k=k.call(b,l):(k=b.showButtons,k=typeof k===n?k.apply(b):k),c.showButtons||(k=q.call(b,k,l)),(k||0===k)&&(m+=k),m+="</form>    </div></div>"}),a.Tictac.mim.rollups.presence_menu=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='    <li class="mim-menu-item mim-opi" data-state="',(d=c.state)?d=d.call(a,{hash:{},data:b}):(d=a.state,d=typeof d===l?d.apply(a):d),e+=m(d)+'" data-message="',(d=c.message)?d=d.call(a,{hash:{},data:b}):(d=a.message,d=typeof d===l?d.apply(a):d),e+=m(d)+'" data-action="setStateCustom">        <a href="#" tabindex="-1">',(d=c.message)?d=d.call(a,{hash:{},data:b}):(d=a.message,d=typeof d===l?d.apply(a):d),e+=m(d)+'</a>        <i class="icon icon-checkmark"></i>    </li>    '}function g(a,b){return'    <li class="mim-menu-item" id="mim-menu-signout" data-state="9999" data-action="setState"><a href="#" tabindex="-1">Sign Out of Messenger</a></li>    '}function h(a,b){return'    <li class="mim-menu-divider"></li>    <li class="mim-menu-item mim-contacts-filter" data-action="topContacts">        <a href="#" tabindex="-1">Favorites</a>        <i class="icon icon-checkmark"></i>    </li>    <li class="mim-menu-item mim-contacts-filter" data-action="onlineContacts">        <a href="#" tabindex="-1">Online Contacts</a>        <i class="icon icon-checkmark"></i>    </li>    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.blockHelperMissing;return k+='<ul id="mim-presence-menu" class="mim-menu optionMenu">    <li class="mim-menu-item mim-opi ymsg-available" data-state="0" data-action="setState">        <a href="#" tabindex="-1">Available</a>        <i class="icon icon-checkmark"></i>    </li>    <li class="mim-menu-item mim-opi ymsg-busy" data-state="2" data-action="setState">        <a href="#" tabindex="-1">Busy</a>        <i class="icon icon-checkmark"></i>    </li>    <li class="mim-menu-item mim-opi ymsg-invisible" data-state="-1" data-action="setState">        <a href="#" tabindex="-1">Invisible</a>        <i class="icon icon-checkmark"></i>    </li>    ',j={hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e},(i=c.customPresenceArr)?i=i.call(b,j):(i=b.customPresenceArr,i=typeof i===l?i.apply(b):i),c.customPresenceArr||(i=o.call(b,i,j)),(i||0===i)&&(k+=i),k+='    <li class="mim-menu-item" id="mim-menu-custom" data-action="newCustomStatus"><a href="#" tabindex="-1">Custom Status...</a></li>    ',j={hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e},(i=c.isOnline)?i=i.call(b,j):(i=b.isOnline,i=typeof i===l?i.apply(b):i),c.isOnline||(i=o.call(b,i,j)),(i||0===i)&&(k+=i),k+="    ",j={hash:{},inverse:n.noop,fn:n.program(5,h,e),data:e},(i=c.hasTopContacts)?i=i.call(b,j):(i=b.hasTopContacts,i=typeof i===l?i.apply(b):i),c.hasTopContacts||(i=o.call(b,i,j)),(i||0===i)&&(k+=i),k+='    <li class="mim-menu-divider"></li>    <li class="mim-menu-item mim-messenger-history" data-action="history"><a href="#" tabindex="-1">Conversation History</a></li>    <li class="mim-menu-item mim-messenger-options" data-action="messengeroptions"><a href="#" tabindex="-1">Messenger Settings</a></li></ul>'}),a.Tictac.mim.rollups.conv_section_notification=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<li class="mim-notification mim-section-notification ',(f=c.notifyClass)?f=f.call(b,{hash:{},data:e}):(f=b.notifyClass,f=typeof f===h?f.apply(b):f),g+=i(f)+'">    <span class="mim-notification-text">',(f=c.message)?f=f.call(b,{hash:{},data:e}):(f=b.message,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+="</span></li>"}),a.Tictac.mim.rollups.newconv_contact_entry=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<li role="presentation" class="',(f=c.className)?f=f.call(b,{hash:{},data:e}):(f=b.className,f=typeof f===h?f.apply(b):f),g+=i(f)+'" data-id="',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b.id,f=typeof f===h?f.apply(b):f),g+=i(f)+'" data-network="',(f=c.network)?f=f.call(b,{hash:{},data:e}):(f=b.network,f=typeof f===h?f.apply(b):f),g+=i(f)+'" title="',(f=c.displayName)?f=f.call(b,{hash:{},data:e}):(f=b.displayName,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+='">    <a role="option" tabindex="0" href="#" title="',(f=c.displayName)?f=f.call(b,{hash:{},data:e}):(f=b.displayName,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+='">',(f=c.mergedDisplayName)?f=f.call(b,{hash:{},data:e}):(f=b.mergedDisplayName,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+='</a>    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div> </li>'}),a.Tictac.mim.rollups.message=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"mim-message-self"}function g(a,b){return"mim-message-other"}function h(a,b){return"&rlm;"}function i(a,b){return"&lrm;"}function j(a,b){return'dir="ltr"'}function k(a,b){return'dir="rtl"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n="",o="function",p=this.escapeExpression,q=this,r=c.blockHelperMissing;return n+='<li class="mim-message ',(l=c.rtlClass)?l=l.call(b,{hash:{},data:e}):(l=b.rtlClass,l=typeof l===o?l.apply(b):l),n+=p(l)+" ",m={hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e},(l=c.fromSelf)?l=l.call(b,m):(l=b.fromSelf,l=typeof l===o?l.apply(b):l),c.fromSelf||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),m={hash:{},inverse:q.program(3,g,e),fn:q.noop,data:e},(l=c.fromSelf)?l=l.call(b,m):(l=b.fromSelf,l=typeof l===o?l.apply(b):l),c.fromSelf||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),n+='" dir="',(l=c.messageDir)?l=l.call(b,{hash:{},data:e}):(l=b.messageDir,l=typeof l===o?l.apply(b):l),n+=p(l)+'">    ',m={hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e},(l=c.isRTL)?l=l.call(b,m):(l=b.isRTL,l=typeof l===o?l.apply(b):l),c.isRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),n+='<span class="mim-message-sender">',(l=c.displayName)?l=l.call(b,{hash:{},data:e}):(l=b.displayName,l=typeof l===o?l.apply(b):l),(l||0===l)&&(n+=l),n+="</span>:",m={hash:{},inverse:q.program(7,i,e),fn:q.noop,data:e},(l=c.isRTL)?l=l.call(b,m):(l=b.isRTL,l=typeof l===o?l.apply(b):l),c.isRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),m={hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e},(l=c.isRTL)?l=l.call(b,m):(l=b.isRTL,l=typeof l===o?l.apply(b):l),c.isRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),n+='<span class="mim-message-nameSeparator"></span>    ',m={hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e},(l=c.isRTL)?l=l.call(b,m):(l=b.isRTL,l=typeof l===o?l.apply(b):l),c.isRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),n+='<span class="mim-message-content" ',m={hash:{},inverse:q.program(9,j,e),fn:q.noop,data:e},(l=c.isTextRTL)?l=l.call(b,m):(l=b.isTextRTL,l=typeof l===o?l.apply(b):l),c.isTextRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),m={hash:{},inverse:q.noop,fn:q.program(11,k,e),data:e},(l=c.isTextRTL)?l=l.call(b,m):(l=b.isTextRTL,l=typeof l===o?l.apply(b):l),c.isTextRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),n+=">",(l=c.message)?l=l.call(b,{hash:{},data:e}):(l=b.message,l=typeof l===o?l.apply(b):l),(l||0===l)&&(n+=l),n+="</span>",m={hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e},(l=c.isRTL)?l=l.call(b,m):(l=b.isRTL,l=typeof l===o?l.apply(b):l),c.isRTL||(l=r.call(b,l,m)),(l||0===l)&&(n+=l),n+='<span class="mim-message-timestamp ',(l=c.rtlTimestampClass)?l=l.call(b,{hash:{},data:e}):(l=b.rtlTimestampClass,l=typeof l===o?l.apply(b):l),n+=p(l)+'">',(l=c.timestamp)?l=l.call(b,{hash:{},data:e}):(l=b.timestamp,l=typeof l===o?l.apply(b):l),(l||0===l)&&(n+=l),n+="</span></li>"}),a.Tictac.mim.rollups.report_abuse_spam=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<form class="report-abuse-form">    <label>        <input type="radio" id="mim-report-spam" title="',
(f=c.reportSpamText)?f=f.call(b,{hash:{},data:e}):(f=b.reportSpamText,f=typeof f===h?f.apply(b):f),g+=i(f)+'"               name="abuseType" value="spam" checked="checked">',(f=c.reportSpamText)?f=f.call(b,{hash:{},data:e}):(f=b.reportSpamText,f=typeof f===h?f.apply(b):f),g+=i(f)+"    </label>    <p>",(f=c.reportSpamDesc)?f=f.call(b,{hash:{},data:e}):(f=b.reportSpamDesc,f=typeof f===h?f.apply(b):f),g+=i(f)+'</p>    <label>        <input type="radio" id="mim-report-abuse" title="',(f=c.reportAbuseText)?f=f.call(b,{hash:{},data:e}):(f=b.reportAbuseText,f=typeof f===h?f.apply(b):f),g+=i(f)+'"               name="abuseType" value="abuse">',(f=c.reportAbuseText)?f=f.call(b,{hash:{},data:e}):(f=b.reportAbuseText,f=typeof f===h?f.apply(b):f),g+=i(f)+"    </label>    <p>",(f=c.reportAbuseDesc)?f=f.call(b,{hash:{},data:e}):(f=b.reportAbuseDesc,f=typeof f===h?f.apply(b):f),g+=i(f)+"</p></form>"}),a.Tictac.mim.rollups.contact_menu=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='<li class="mim-menu-item mim-user-statusmsg mim-menu-item-noclick"><i>',(d=c.presenceMessage)?d=d.call(a,{hash:{},data:b}):(d=a.presenceMessage,d=typeof d===s?d.apply(a):d),e+=t(d)+"</i></li>"}function g(a,b){return'<li class="mim-menu-item" data-action="sms" title="New SMS">New SMS</li>'}function h(a,b){return'<li class="mim-menu-item" data-action="email" title="New Email">New Email</li>'}function i(a,b){var d,e,f="";return f+='    <li class="mim-menu-divider"></li>    ',e={hash:{},inverse:u.program(8,j,b),fn:u.noop,data:b},(d=c.isInvisible)?d=d.call(a,e):(d=a.isInvisible,d=typeof d===s?d.apply(a):d),c.isInvisible||(d=v.call(a,d,e)),(d||0===d)&&(f+=d),f+="    ",e={hash:{},inverse:u.noop,fn:u.program(11,l,b),data:b},(d=c.isInvisible)?d=d.call(a,e):(d=a.isInvisible,d=typeof d===s?d.apply(a):d),c.isInvisible||(d=v.call(a,d,e)),(d||0===d)&&(f+=d),f+="    "}function j(a,b){var d,e,f="";return f+='    <li class="mim-menu-item',e={hash:{},inverse:u.noop,fn:u.program(9,k,b),data:b},(d=c.onInvisibleList)?d=d.call(a,e):(d=a.onInvisibleList,d=typeof d===s?d.apply(a):d),c.onInvisibleList||(d=v.call(a,d,e)),(d||0===d)&&(f+=d),f+='" title="',(d=c.appearOfflineMsg)?d=d.call(a,{hash:{},data:b}):(d=a.appearOfflineMsg,d=typeof d===s?d.apply(a):d),f+=t(d)+'" data-action="visibility">        <a href="#" tabindex="-1">',(d=c.appearOfflineMsg)?d=d.call(a,{hash:{},data:b}):(d=a.appearOfflineMsg,d=typeof d===s?d.apply(a):d),f+=t(d)+'</a>        <i class="icon icon-checkmark"></i>    </li>    '}function k(a,b){return" checked"}function l(a,b){var d,e,f="";return f+='    <li class="mim-menu-item',e={hash:{},inverse:u.noop,fn:u.program(9,k,b),data:b},(d=c.onVisibleList)?d=d.call(a,e):(d=a.onVisibleList,d=typeof d===s?d.apply(a):d),c.onVisibleList||(d=v.call(a,d,e)),(d||0===d)&&(f+=d),f+='" title="',(d=c.appearOnlineMsg)?d=d.call(a,{hash:{},data:b}):(d=a.appearOnlineMsg,d=typeof d===s?d.apply(a):d),f+=t(d)+'" data-action="visibility">        <a href="#" tabindex="-1">',(d=c.appearOnlineMsg)?d=d.call(a,{hash:{},data:b}):(d=a.appearOnlineMsg,d=typeof d===s?d.apply(a):d),f+=t(d)+'</a>        <i class="icon icon-checkmark"></i>    </li>    '}function m(a,b){var d,e,f="";return f+='        <li class="mim-menu-divider"></li>        ',e={hash:{},inverse:u.noop,fn:u.program(14,n,b),data:b},(d=c.isFavorite)?d=d.call(a,e):(d=a.isFavorite,d=typeof d===s?d.apply(a):d),c.isFavorite||(d=v.call(a,d,e)),(d||0===d)&&(f+=d),f+="        ",e={hash:{},inverse:u.program(16,o,b),fn:u.noop,data:b},(d=c.isFavorite)?d=d.call(a,e):(d=a.isFavorite,d=typeof d===s?d.apply(a):d),c.isFavorite||(d=v.call(a,d,e)),(d||0===d)&&(f+=d),f+="    "}function n(a,b){return'        <li class="mim-menu-item" data-action="unfavorite">Remove from Favorites</li>        '}function o(a,b){return'        <li class="mim-menu-item" data-action="favorite">Add to Favorites</li>        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var p,q,r="",s="function",t=this.escapeExpression,u=this,v=c.blockHelperMissing;return r+='<ul id="mim-contact-menu" class="mim-menu optionMenu hidden" data-id="',(p=c.id)?p=p.call(b,{hash:{},data:e}):(p=b.id,p=typeof p===s?p.apply(b):p),r+=t(p)+'">    <li class="mim-menu-item mim-user-opi mim-menu-item-noclick">',(p=c.user)?p=p.call(b,{hash:{},data:e}):(p=b.user,p=typeof p===s?p.apply(b):p),r+=t(p)+"</li>    ",q={hash:{},inverse:u.noop,fn:u.program(1,f,e),data:e},(p=c.hasMessage)?p=p.call(b,q):(p=b.hasMessage,p=typeof p===s?p.apply(b):p),c.hasMessage||(p=v.call(b,p,q)),(p||0===p)&&(r+=p),r+='    <li class="mim-menu-divider"></li>    <li class="mim-menu-item" data-action="im" title="New Instant Message">New Instant Message</li>    ',q={hash:{},inverse:u.noop,fn:u.program(3,g,e),data:e},(p=c.hasSMS)?p=p.call(b,q):(p=b.hasSMS,p=typeof p===s?p.apply(b):p),c.hasSMS||(p=v.call(b,p,q)),(p||0===p)&&(r+=p),r+="    ",q={hash:{},inverse:u.noop,fn:u.program(5,h,e),data:e},(p=c.hasEmail)?p=p.call(b,q):(p=b.hasEmail,p=typeof p===s?p.apply(b):p),c.hasEmail||(p=v.call(b,p,q)),(p||0===p)&&(r+=p),r+='    <li class="mim-menu-divider"></li>    <li class="mim-menu-item" data-action="edit">Edit...</li>    <li class="mim-menu-item" data-action="delete">Delete...</li>    ',q={hash:{},inverse:u.noop,fn:u.program(7,i,e),data:e},(p=c.isBuddy)?p=p.call(b,q):(p=b.isBuddy,p=typeof p===s?p.apply(b):p),c.isBuddy||(p=v.call(b,p,q)),(p||0===p)&&(r+=p),r+="    ",q={hash:{},inverse:u.noop,fn:u.program(13,m,e),data:e},(p=c.hasFavorites)?p=p.call(b,q):(p=b.hasFavorites,p=typeof p===s?p.apply(b):p),c.hasFavorites||(p=v.call(b,p,q)),(p||0===p)&&(r+=p),r+="</ul>"}),a.Tictac.mim.rollups.dialog_header=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"hidden"}function g(a,b){var d,e="";return e+=' id="',(d=c.formId)?d=d.call(a,{hash:{},data:b}):(d=a.formId,d=typeof d===k?d.apply(a):d),e+=l(d)+'"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.blockHelperMissing;return j+='<div class="modal mim-dialog mim-view">    <h2 class="modal-hd mim-dialog-header" data-mover="true">        <span class="mim-dialog-header-text">',(h=c.title)?h=h.call(b,{hash:{},data:e}):(h=b.title,h=typeof h===k?h.apply(b):h),j+=l(h)+'</span>        <span class="close mim-button-cancel ',i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.hideCancel)?h=h.call(b,i):(h=b.hideCancel,h=typeof h===k?h.apply(b):h),c.hideCancel||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='" data-action="cancel"              data-move="false" title="Close"></span>    </h2>    <div class="mim-dialog-body">    <form class="dialog-form"',i={hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e},(h=c.hasFormId)?h=h.call(b,i):(h=b.hasFormId,h=typeof h===k?h.apply(b):h),c.hasFormId||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+=">"}),a.Tictac.mim.rollups.conv_section_modechange=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"   IM   "}function g(a,b){return"   SMS   "}function h(a,b){return"&rlm;"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l=this,m="function",n=c.blockHelperMissing;return k+='<span class="mim-notification-mode-change">   ',j={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},(i=c.IM)?i=i.call(b,j):(i=b.IM,i=typeof i===m?i.apply(b):i),c.IM||(i=n.call(b,i,j)),(i||0===i)&&(k+=i),k+="   ",j={hash:{},inverse:l.program(3,g,e),fn:l.noop,data:e},(i=c.IM)?i=i.call(b,j):(i=b.IM,i=typeof i===m?i.apply(b):i),c.IM||(i=n.call(b,i,j)),(i||0===i)&&(k+=i),k+="</span>",j={hash:{},inverse:l.noop,fn:l.program(5,h,e),data:e},(i=c.isRTL)?i=i.call(b,j):(i=b.isRTL,i=typeof i===m?i.apply(b):i),c.isRTL||(i=n.call(b,i,j)),(i||0===i)&&(k+=i),k+='<span class="mim-notification-datetime">',(i=c.dateTime)?i=i.call(b,{hash:{},data:e}):(i=b.dateTime,i=typeof i===m?i.apply(b):i),(i||0===i)&&(k+=i),k+="</span>"}),a.Tictac.mim.rollups.addrequests=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='            <li data-id="',(d=c.id)?d=d.call(a,{hash:{},data:b}):(d=a.id,d=typeof d===j?d.apply(a):d),e+=k(d)+'" class="mim-addreq-contact cf">                <div>',(d=c.user)?d=d.call(a,{hash:{},data:b}):(d=a.user,d=typeof d===j?d.apply(a):d),e+=k(d)+'</div>                <ul class="cf">                    <li><button class="mim-accept-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Accept</button></li>                    <li><button class="mim-decline-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Decline</button></li>                    <li><button class="mim-block-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Block</button></li>                    <li class="mim-right"><button class="mim-im-btn mim-notification-button mim-button-small" type="button" data-autodestroy="false">IM</button></li>                </ul>            </li>            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this,m=c.blockHelperMissing;return i+='<div class="mim-addrequestsview mim-conversation"><div class="mim-conversation-top-bar primary-bg" data-mover="true">        <div class="mim-addreq-title">Add Requests</div>    </div>    <div class="mim-grouped-requests">        <div class="mim-addreq-header">            <span>These people would like to add you to their ',(g=c.str_msgr_messenger)?g=g.call(b,{hash:{},data:e}):(g=b.str_msgr_messenger,g=typeof g===j?g.apply(b):g),i+=k(g)+' list.</span>            <div><button class="mim-block-all-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Block All</button></div>        </div>        <ul class="mim-addreq-container">            ',h={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},(g=c.contacts)?g=g.call(b,h):(g=b.contacts,g=typeof g===j?g.apply(b):g),c.contacts||(g=m.call(b,g,h)),(g||0===g)&&(i+=g),i+="        </ul>            </div></div>"}),a.Tictac.mim.rollups.conv_notification_btn=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<button class="',(f=c.buttonClass)?f=f.call(b,{hash:{},data:e}):(f=b.buttonClass,f=typeof f===h?f.apply(b):f),g+=i(f)+' mim-notification-button mim-button-small" type="button" data-autodestroy="',(f=c.autoDestroy)?f=f.call(b,{hash:{},data:e}):(f=b.autoDestroy,f=typeof f===h?f.apply(b):f),g+=i(f)+'">',(f=c.buttonLabel)?f=f.call(b,{hash:{},data:e}):(f=b.buttonLabel,f=typeof f===h?f.apply(b):f),g+=i(f)+"</button>"}),a.Tictac.mim.rollups.form_dialog_header=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="modal mim-form-dialog">    <h2 class="modal-hd mim-dialog-header">        <span class="mim-dialog-header-text">',(f=c.title)?f=f.call(b,{hash:{},data:e}):(f=b.title,f=typeof f===h?f.apply(b):f),g+=i(f)+'</span>    </h2>    <div class="mim-dialog-body">'}),a.Tictac.mim.rollups.form_dialog=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='<div class="mim-alert-icon"><img src="',(d=c.iconSrc)?d=d.call(a,{hash:{},data:b}):(d=a.iconSrc,d=typeof d===m?d.apply(a):d),e+=n(d)+'" alt="',(d=c.iconAlt)?d=d.call(a,{hash:{},data:b}):(d=a.iconAlt,d=typeof d===m?d.apply(a):d),e+=n(d)+'"/></div>'}function g(a,b){return"        <br/>        "}function h(a,b){var d,e,f="";return f+='    <div class="mim-dialog-buttons modal-ft">        <span class="btn left right default mim-button-ok">            <a href="#" title="OK" data-action="continue">OK</a>        </span>        <span class="btn left right mim-button-cancel ',e={hash:{},inverse:o.noop,fn:o.program(6,i,b),data:b},(d=c.hideCancel)?d=d.call(a,e):(d=a.hideCancel,d=typeof d===m?d.apply(a):d),c.hideCancel||(d=p.call(a,d,e)),(d||0===d)&&(f+=d),f+='">            <a href="#" title="Cancel" data-action="cancel">Cancel</a>        </span>    </div>    '}function i(a,b){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m="function",n=this.escapeExpression,o=this,p=c.blockHelperMissing;return l+='<div class="modal mim-form-dialog">    <h2 class="modal-hd mim-dialog-header">        <span class="mim-dialog-header-text">',(j=c.title)?j=j.call(b,{hash:{},data:e}):(j=b.title,j=typeof j===m?j.apply(b):j),l+=n(j)+'</span>    </h2>    <div class="mim-dialog-body">    ',k={hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e},(j=c.iconSrc)?j=j.call(b,k):(j=b.iconSrc,j=typeof j===m?j.apply(b):j),c.iconSrc||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+="    ",(j=c.form)?j=j.call(b,{hash:{},data:e}):(j=b.form,j=typeof j===m?j.apply(b):j),(j||0===j)&&(l+=j),k={hash:{},inverse:o.program(3,g,e),fn:o.noop,data:e},(j=c.newDialogTheme)?j=j.call(b,k):(j=b.newDialogTheme,j=typeof j===m?j.apply(b):j),c.newDialogTheme||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+="    ",k={hash:{},inverse:o.noop,fn:o.program(5,h,e),data:e},(j=c.showButtons)?j=j.call(b,k):(j=b.showButtons,j=typeof j===m?j.apply(b):j),c.showButtons||(j=p.call(b,j,k)),(j||0===j)&&(l+=j),l+="</form>    </div></div>"}),a.Tictac.mim.rollups.logout_options=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<form class="logout-options-form">    <p>You are signed in to Yahoo Messenger in multiple places. Where do you want to sign out?</p>    <input class="mim-option-radio" type="radio" title="Sign out here" name="mim-logoutType" value="local" id="mim-logoutLocal" checked="checked"/>    <label class="mim-radioLabel" for="mim-logoutLocal">Sign out here</label><br/>    <input class="mim-option-radio" type="radio" title="Sign out everywhere" name="mim-logoutType" value="global" id="mim-logoutGlobal"/>    <label class="mim-radioLabel" for="mim-logoutGlobal">Sign out everywhere</label><br/>        <br/>        <input type="checkbox" id="mim-rememberLogoutPref" class="mim-option-checkbox" title="Remember this preference" name="mim-rememberLogoutPref" />    <label  class="mim-checkboxLabel" for="mim-rememberLogoutPref">Remember this preference</label></form>'}),a.Tictac.mim.rollups.addignore=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<form name="addIgnoreForm" id="addIgnoreForm">    <label id="userNameLabel" for="userNameInput" >Type the ID of the user you want to ignore.</label>    <div class="mim-addignore-inputs">      <input name="mim-ignore-user" id="mim-ignore-user" type="text" maxlength="100" value=""/>    </div></form>'}),a.Tictac.mim.rollups.conv_notification=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this,m=c.blockHelperMissing;return i+='<li id="',(g=c.notifyId)?g=g.call(b,{hash:{},data:e}):(g=b.notifyId,g=typeof g===j?g.apply(b):g),i+=k(g)+'" class="',(g=c.notifyClass)?g=g.call(b,{hash:{},data:e}):(g=b.notifyClass,g=typeof g===j?g.apply(b):g),i+=k(g)+' mim-notification">    <span class="mim-notification-close ',h={hash:{},inverse:l.program(1,f,e),fn:l.noop,data:e},(g=c.showClose)?g=g.call(b,h):(g=b.showClose,g=typeof g===j?g.apply(b):g),c.showClose||(g=m.call(b,g,h)),(g||0===g)&&(i+=g),i+='"></span>    <span class="mim-notification-message">',(g=c.messageText)?g=g.call(b,{hash:{},data:e}):(g=b.messageText,g=typeof g===j?g.apply(b):g),(g||0===g)&&(i+=g),i+='</span>    <div class="mim-notification-buttons hidden"></div></li>'}),a.Tictac.mim.rollups.badge=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},' <span class="mim-msg-badge"></span>'}),a.Tictac.mim.rollups.addcontact=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='        <label for="mim-lastname" class="',e={hash:{},inverse:m.program(2,g,b),fn:m.noop,data:b},(d=c.isIE)?d=d.call(a,e):(d=a.isIE,d=typeof d===n?d.apply(a):d),c.isIE||(d=o.call(a,d,e)),(d||0===d)&&(f+=d),f+='">Last:</label>        <input type="text" name="lastName" id="mim-lastname" placeholder="Last" value="',(d=c.lastName)?d=d.call(a,{hash:{},data:b}):(d=a.lastName,d=typeof d===n?d.apply(a):d),f+=p(d)+'"/>        <label for="mim-firstname" class="',e={hash:{},inverse:m.program(2,g,b),fn:m.noop,data:b},(d=c.isIE)?d=d.call(a,e):(d=a.isIE,d=typeof d===n?d.apply(a):d),c.isIE||(d=o.call(a,d,e)),(d||0===d)&&(f+=d),f+='">First:</label>    <input type="text" name="firstName" id="mim-firstname" placeholder="First" value="',(d=c.firstName)?d=d.call(a,{hash:{},data:b}):(d=a.firstName,d=typeof d===n?d.apply(a):d),f+=p(d)+'"/>    '}function g(a,b){return"offscreen"}function h(a,b){var d,e,f="";return f+='        <label for="mim-firstname" class="',e={hash:{},inverse:m.program(2,g,b),fn:m.noop,data:b},(d=c.isIE)?d=d.call(a,e):(d=a.isIE,d=typeof d===n?d.apply(a):d),c.isIE||(d=o.call(a,d,e)),(d||0===d)&&(f+=d),f+='">First:</label>    <input type="text" name="firstName" id="mim-firstname" placeholder="First" value="',(d=c.firstName)?d=d.call(a,{hash:{},data:b}):(d=a.firstName,d=typeof d===n?d.apply(a):d),f+=p(d)+'"/>    <label for="mim-lastname" class="',e={hash:{},inverse:m.program(2,g,b),fn:m.noop,data:b},(d=c.isIE)?d=d.call(a,e):(d=a.isIE,d=typeof d===n?d.apply(a):d),c.isIE||(d=o.call(a,d,e)),(d||0===d)&&(f+=d),f+='">Last:</label>    <input type="text" name="lastName" id="mim-lastname" placeholder="Last" value="',(d=c.lastName)?d=d.call(a,{hash:{},data:b}):(d=a.lastName,d=typeof d===n?d.apply(a):d),f+=p(d)+'"/>    '}function i(a,b){return'disabled="disabled" '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m=this,n="function",o=c.blockHelperMissing,p=this.escapeExpression;return l+='<form id="mim-edit-contact">    ',k={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(j=c.lastNameFirst)?j=j.call(b,k):(j=b.lastNameFirst,j=typeof j===n?j.apply(b):j),c.lastNameFirst||(j=o.call(b,j,k)),(j||0===j)&&(l+=j),l+="    ",k={hash:{},inverse:m.program(4,h,e),fn:m.noop,data:e},(j=c.lastNameFirst)?j=j.call(b,k):(j=b.lastNameFirst,j=typeof j===n?j.apply(b):j),c.lastNameFirst||(j=o.call(b,j,k)),(j||0===j)&&(l+=j),l+='    <label for="mim-email">Email:</label><input name="email" id="mim-email" value="',(j=c.email)?j=j.call(b,{hash:{},data:e}):(j=b.email,j=typeof j===n?j.apply(b):j),l+=p(j)+'"/><br/>    <label for="mim-user">Instant Message:</label><input type="text" id="mim-user" name="user" ',k={hash:{},inverse:m.noop,fn:m.program(6,i,e),data:e},(j=c.user)?j=j.call(b,k):(j=b.user,j=typeof j===n?j.apply(b):j),c.user||(j=o.call(b,j,k)),(j||0===j)&&(l+=j),l+='value="',(j=c.user)?j=j.call(b,{hash:{},data:e}):(j=b.user,j=typeof j===n?j.apply(b):j),l+=p(j)+'"/>    <br/>    <label for="mim-mobileno">Mobile:</label><input name="mobileno" id="mim-mobileno" value="',(j=c.mobileno)?j=j.call(b,{hash:{},data:e}):(j=b.mobileno,j=typeof j===n?j.apply(b):j),l+=p(j)+'"/></form>'}),a.Tictac.mim.rollups.emoticon_item=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<li unselectable="on" class="mim-emoticon" tabindex="0" title="',(f=c.emoteSmiley)?f=f.call(b,{hash:{},data:e}):(f=b.emoteSmiley,f=typeof f===h?f.apply(b):f),g+=i(f)+" ",(f=c.emoteLabel)?f=f.call(b,{hash:{},data:e}):(f=b.emoteLabel,f=typeof f===h?f.apply(b):f),g+=i(f)+'" data-emotekey="',(f=c.emotekey)?f=f.call(b,{hash:{},data:e}):(f=b.emotekey,f=typeof f===h?f.apply(b):f),g+=i(f)+'"></li>'})},"1.0.0",{requires:["handlebars-base"]});YUI.add("tictac-base-dialogview",function(a){"use strict";var b,c=a.Tictac.base.View,d=a.Tictac.base.ViewUtils,e=a.Tictac.base.rollups,f=a.Tictac.base.strings;b=c.extend({render:function(){var b=this;c.prototype.render.apply(b,arguments),"undefined"==typeof b.options.limitToViewport&&(b.options.limitToViewport=!0),b.options.resizable&&(b.minHeight=b.options.minHeight||100,b.minWidth=b.options.minWidth||100,b._enableResize()),b.options.movable&&b._enableMove(),"undefined"==typeof b.options.modal&&("undefined"==typeof b.modal?b.options.modal=!0:b.options.model=b.modal),"undefined"==typeof b.options.centerOnShow&&(b.options.centerOnShow=!0),b._listeners.push(b.node.on("mousedown",function(){b.onActivate()})),b._listeners.push(b.node.on("keydown",function(a){27===a.keyCode&&(b.hide(),a.halt()),a.stopPropagation()})),b.options.limitToViewport&&b._listeners.push(a.on("resize",function(){b.visible&&d.limitToViewport(b.node)},window))},createDOMNode:function(){var b=this,c={title:b.title||"",hideClose:b.hideClose||!1,description:b.description||"",hasDescription:!!b.description,hideButtons:b.hideButtons||!1,hideCancel:b.hideCancel||!1,okLabel:b.okLabel||f.str_ok,cancelLabel:b.cancelLabel||f.str_cancel,resizable:b.options.resizable,movable:b.options.movable},d=a.Node.create(e.dialog_view(c));return b.renderContent(d.one(".modal-bd")),b._listeners.push(d.all('[data-action="cancel"]').on("click",function(){b.trigger("cancel",b),b.hide()})),b._listeners.push(d.all('[data-action="continue"]').on("click",function(){b.trigger("continue",b),b.hide()})),b._listeners.push(d.on("keydown",b._jailFocus,b)),d.setAttribute("tabindex",0),d},renderContent:function(){},show:function(){var b,e,f=this;f._refocusNode=document.activeElement,c.prototype.show.apply(f,arguments),f.options.centerOnShow&&(b=-f.node.get("offsetWidth")/2,e=-f.node.get("offsetHeight")/2,f.node.setStyle("marginTop",e+"px"),a.Tictac.base.isRTL?(f.node.setStyle("marginRight",b+"px"),f.node.setStyle("right","50%")):(f.node.setStyle("marginLeft",b+"px"),f.node.setStyle("left","50%")),f.node.setStyle("top","50%")),f.options.limitToViewport&&d.limitToViewport(f.node),f.options.modal&&d.showModalBacker(),f.onActivate(),f.focusOnFirstTextNode()},hide:function(){var a=this;c.prototype.hide.call(a),a.options.modal&&d.hideModalBacker(),a._refocusNode&&a._refocusNode.focus()},_showBackingDiv:function(){var c;b._backingDiv||(c=a.Node.create("<div class='mim-backing-div'></div>"),a.one(document.body).append(c),b._backingDiv=c.getDOMNode()),b._backingDiv.style.display="block"},_hideBackingDiv:function(){b._backingDiv.style.display="none"},_enableResize:function(){this.viewResizing=!1,this._listeners.push(this.node.delegate("mousedown",a.bind(this._startResize,this),"[data-resizer]"))},_startResize:function(b){var c,e,f=this;f.viewResizing||(c=f.node.getDOMNode(),e=a.UA.ie?document:window,f.viewResizing=!0,f._showBackingDiv(),d.disableSelection(a.one(document.body)),f.node.addClass("mim-disable-selection"),f.viewInitialX=b.clientX,f.viewInitialY=b.clientY,f.viewInitialWidth=c.offsetWidth,f.viewInitialHeight=c.offsetHeight,f.viewMoveListener=a.on("mousemove",a.bind(f._resize,f),e),f.viewUpListener=a.on("mouseup",a.bind(f._stopResize,f),e),f.winWidth=c.parentElement&&c.parentElement.offsetWidth,f.winHeight=c.parentElement&&c.parentElement.offsetHeight,c.style.opacity=.8)},_resize:function(b){var c=this,d=c.node.getDOMNode(),e=c.node.get("region"),f=b.clientX-c.viewInitialX,g=b.clientY-c.viewInitialY,h=a.Tictac.base.isRTL?c.viewInitialWidth-f:c.viewInitialWidth+f,i=c.viewInitialHeight+g,j=a.Tictac.base.isRTL?e.right:c.winWidth-e.left,k=c.winHeight-e.top;h=Math.max(Math.min(h,j),c.minWidth),i=Math.max(Math.min(i,k),c.minHeight),d.style.width=h+"px",d.style.height=i+"px",c.trigger("resize",{width:h,height:i})},_stopResize:function(){var b=this,c=b.node.getDOMNode();b._hideBackingDiv(),d.enableSelection(a.one(document.body)),b.node.removeClass("mim-disable-selection"),b.viewMoveListener.detach(),b.viewUpListener.detach(),d.limitToViewport(b.node),c.style.opacity=1,b.viewResizing=!1,b.trigger("stopResize")},_enableMove:function(){this.viewMoving=!1,this._listeners.push(this.node.delegate("mousedown",a.bind(this._startMove,this),"[data-mover]"))},_startMove:function(b){var c=this;if(!c.viewMoving&&"false"!==b.target.getAttribute("data-move")&&1===b.button){var e=c.node.getDOMNode(),f=a.UA.ie?document:window,g=c.node.get("region");if("a"===b.target.get("nodeName").toLowerCase())return;c.viewMoving=!0,c._showBackingDiv(),d.disableSelection(a.one(document.body)),c.node.addClass("mim-disable-selection"),c.moveViewPrevX=b.clientX,c.moveViewPrevY=b.clientY,c.moveListener=a.on("mousemove",a.bind(c._move,c),f),c.upListener=a.on("mouseup",a.bind(c._stopMove,c),f),e.style.opacity=.8,e.style.top=g.top-document.body.scrollTop+"px",e.style.left=g.left+"px",e.style.right="auto",e.style.bottom="auto",e.style.marginLeft=0,e.style.marginTop=0,c.winWidth=e.parentElement&&e.parentElement.offsetWidth,c.winHeight=e.parentElement&&e.parentElement.offsetHeight}},_move:function(a){var b=a.clientX-this.moveViewPrevX,c=a.clientY-this.moveViewPrevY,d=this.node.getDOMNode(),e=d.offsetLeft+b,f=d.offsetTop+c;a.clientX>=0&&(!this.winWidth||a.clientX<this.winWidth)&&(this.moveViewPrevX=a.clientX,d.style.left=e+"px"),a.clientY>=0&&(!this.winHeight||a.clientY<this.winHeight)&&(d.style.top=f+"px",this.moveViewPrevY=a.clientY),this.trigger("move")},_stopMove:function(){var b=this.node.getDOMNode();d.limitToViewport(this.node),this._hideBackingDiv(),d.enableSelection(a.one(document.body)),this.node.removeClass("mim-disable-selection"),this.moveListener.detach(),this.upListener.detach(),b.style.opacity=1,this.viewMoving=!1,this.trigger("stopMove")},focusOnFirstTextNode:function(){var a=this.node.one(this.options.focusNodeSelector)||this.node.one("a, button, input, textarea")||this.node;a.focus()},onActivate:function(){var a=this;"undefined"==typeof this.options.zindex?d.bringToFront(a.node):a.node.setStyle("zIndex",this.options.zindex)},_jailFocus:function(a){if(9===a.keyCode){var b=this.node.one("input, textarea, button, a"),c=this.node.one('.modal-ft [data-action="cancel"]')||this.node.one('.modal-ft [data-action="continue"]');c&&document.activeElement===c.getDOMNode()&&!a.shiftKey?((b||this.node).focus(),a.halt()):b&&document.activeElement===b.getDOMNode()&&a.shiftKey&&((c||this.node).focus(),a.halt())}}}),a.Tictac.base.DialogView=b},"@VERSION@",{requires:["tictac-base-view","tictac-base-viewutils","tictac-base-rollups","tictac-base-strings"]});YUI.add("tictac-mim-strings",function(a){a.namespace("Tictac.mim").strings={str_add_error_noval:"You must enter a Yahoo Messenger ID or a phone number.",str_add_error_phone:"The phone number you entered is invalid.",str_branding_messenger_generic_lower:"messenger",str_branding_messenger_generic:"Messenger",str_branding_messenger_generic_upper:"MESSENGER",str_branding_messenger:"Yahoo Messenger",str_click_to_hide_contacts:"Click to hide messenger contacts",str_click_to_show_contacts:"Click to show messenger contacts",str_comp_send_error:"Sorry, there was a problem sending your message. Please try again.",str_cont_add_contact_error_id_already_in_list:"{{user}} already exists in your Yahoo Messenger List.",str_cont_add_contact_error_invalid_email:"Please enter a valid email address format: name@domain.com.",str_cont_add_contact_error_invalid_id:"{{user}} is not a valid {{network}} ID.",str_cont_add_request_denied_body:"{{user}} has denied your request to add them to your Yahoo Messenger List.",str_cont_add_request_denied_header:"Add to Yahoo Messenger List Request Denied",str_cont_add_to_cont:"Add to Contacts",str_cont_edit_cont:"Edit Contact",str_cont_list_default_group_empty:"Send IM and SMS from Yahoo Messenger. <a href",str_cont_list_default_group_sign_out_msg_fresh:"You're signed out of Yahoo Messenger. Click {{bttn_img}}to sign in.",str_cont_list_default_group_sign_out_msg:"You are signed out of Yahoo Messenger. Click the{{bttn_img}}to sign in.",str_cont_list_status_away:"Away",str_cont_list_status_be_right_back:"Be right back",str_cont_list_status_busy:"Busy",str_cont_list_status_idle:"Idle",str_cont_list_status_not_at_home:"Not at home",str_cont_list_status_not_at_my_desk:"Not at my desk",str_cont_list_status_not_in_the_office:"Not in the office",str_cont_list_status_on_the_phone:"On the phone",str_cont_list_status_on_vacation:"On vacation",str_cont_list_status_out_to_lunch:"Out to lunch",str_cont_list_status_stepped_out:"Stepped out",str_conv_accepted_add_req:"<strong>{{conversation_user}}</strong> has been added to your Messenger list.",str_conv_add_requests:"Add Requests",str_conv_add_requests_desc:"These people would like to add you to their {{str_msgr_messenger}} list.",str_conv_btn_accept:"Accept",str_conv_btn_accept_attr:"Allow {{conversation_yid}} to add me and see when I'm online",str_conv_btn_add_to_contacts:"Add to Contacts",str_conv_btn_add_to_contacts_attr:"Add {{conversation_yid}} to your Contacts",str_conv_btn_block_user_attr:"Add to Blocked List",str_conv_btn_block_user:"Block User",str_conv_btn_decline_attr:"Don't allow {{conversation_yid}} to add me or see when I'm online",str_conv_btn_decline_block:"Decline and Block",str_conv_btn_decline:"Decline",str_conv_btn_hide_recent_conv:"Hide Recent Conversations",str_conv_btn_show_recent_conv:"Show Recent Conversations",str_conv_btn_unblock_user_attr:"Remove {{conversation_yid}} from your Blocked List",str_conv_btn_unblock_user:"Unblock User",str_conv_close_confirm:"You have unread messages. Are you sure you want to close the window?",str_conv_default_group:"Friends",str_conv_enter_phone_number_label:"Enter a mobile phone number for <b>{{conversation_user}}</b>:",str_conv_enter_phone_number_label_no_user:"a mobile phone number for <b>{{conversation_user}}</b>:",str_conv_error_empty_general:"All fields are required.",str_conv_imconv_new_hint:"Enter a Messenger ID for this user.",str_conv_new_hint:"Start a new instant message or SMS message.<br>Enter a Messenger ID, email, or mobile number.",str_conv_new_message_browser_title:"{{conversation_user}} sent you a new message.",str_conv_no_contact_add_request:"<b>{{conversation_yid}}</b> would like to add you to his or her Yahoo Messenger List.",str_conv_prompt_tab:"View Yahoo Messenger Conversations in a tab!",str_conv_report_abuse_attr:"Report Abuse",str_conv_report_abuse_description:"Report this user for threats, harassment, harm to minors, or indecent content.  The transcript of your conversation with this person will be included in your report.",str_conv_report_abuse_radio:"Report Threats or Harassment",str_conv_report_abuse:"Report Abuse",str_conv_report_abuse_title:"Yahoo Messenger Report Abuse",str_conv_report_spam_description:"Stop receiving messages with bad links, phishing attempts, or any unwanted communication.",str_conv_report_spam_radio:"Report Spam",str_conv_self_objective:"Me",str_conv_show_all_history:"Show Full History",str_conv_signed_out_hint:"You are not signed in to Yahoo Messenger. Please sign in to start a new conversation.",str_conv_sms_input_title:"Compose SMS",str_conv_spam_reported_description_bl:"To permanently block this contact from sending you messages, add {{user}} to your Block list in Messenger Settings.",str_conv_spam_reported_description_bottom:"<strong>{{userid}}</strong> has also been blocked, and you will no longer receive messages from this user.",str_conv_spam_reported_description_top:"Thank you. Every IM you report as spam helps SpamGuard work better.",str_conv_tab_close_confirm:"You have unread messages, are you sure you want to close this conversation?",str_conv_typing:"{{conversation_user}} is typing...",str_conv_user_notification_ssa_button:"Open Yahoo Messenger Settings",str_conv_user_notification_ssa_dismiss_button:"Dismiss",str_conv_user_offlineMessage_notice:"Messages sent to you while you were signed out:",str_conv_user_sms_edit_number_attr:"Edit number",str_conv_user_sms_edit_number:"Edit number",str_conv_user_sms_notice_error_failed_to_deliver:"SMS could not be sent to <b>{{number}}</b>. It may be an invalid mobile number, formatted incorrectly, or no longer in service.",str_conv_user_sms_notice_error_ration_breached:"<b>{{user}}</b> must reply to one of your messages before you can send any more.",str_conv_user_sms_notice_error_system_busy:"SMS could not be sent to {{number}}. The system is currently busy. Please try again later.",str_conv_user_statexfer_notice:"Your ongoing conversation with {{conversation_user}}...",str_conv_wrn_interop_add_request_pending:"To IM with {{user}}, they must first accept your request to add them to your Messenger List contacts. Your request is still pending.",str_conv_wrn_unblock_user:"<em>You have blocked <span><strong>{{userid}}</strong></span>.</em>  You cannot send and receive instant messages from blocked users.",str_conv_wrn_unknown_interop_user:"To send IM to {{user}}, they must first accept your request to add them to your Messenger List contacts.",str_conv_wrn_unknown_user:"<em><span><strong>{{userid}}</strong></span> is not in your contacts.</em>  Be careful when corresponding with people you don't know. Never share private information with them.",str_country_argentina:"Argentina",str_country_australia:"Australia",str_country_brazil:"Brazil",str_country_canada:"Canada",str_country_chile:"Chile",str_country_china:"China",str_country_denmark:"Denmark",str_country_finland:"Finland",str_country_france:"France",str_country_germany:"Germany",str_country_greece:"Greece",str_country_hong_kong:"Hong Kong",str_country_india:"India",str_country_indonesia:"Indonesia",str_country_ireland:"Ireland",str_country_italy:"Italy",str_country_kuwait:"Kuwait",str_country_malaysia:"Malaysia",str_country_mexico:"Mexico",str_country_netherlands:"Netherlands",str_country_new_zealand:"New Zealand",str_country_norway:"Norway",str_country_pakistan:"Pakistan",str_country_peru:"Peru",str_country_philippines:"Philippines",str_country_poland:"Poland",str_country_romania:"Romania",str_country_singapore:"Singapore",str_country_south_korea:"South Korea",str_country_spain:"Spain",str_country_sweden:"Sweden",str_country_taiwan:"Taiwan",str_country_thailand:"Thailand",str_country_turkey:"Turkey",str_country_united_kingdom:"United Kingdom",str_country_united_states:"United States",str_country_venezuela:"Venezuela",str_country_vietnam:"Vietnam",str_custom_status_title:"Custom Status",str_del_contact_msg_ab_only_desc:"Are you sure you want to delete {{contact_highlighted}} from your Online Contacts?{{line_spacing}}This is a contact shared by Messenger and Mail. Deleting {{contact}} will also delete this contact from Mail.{{line_spacing}}Instead of deleting, you can change Online Contacts to show only Messenger List contacts in {{open_msg_link}}{{str_messenger_options}}{{close_msg_link}}.",str_del_contact_msg_header:"Delete Contact",str_del_contact_msg_messenger_desc:"Are you sure you want to delete {{contact_highlighted}} from your Messenger contacts?",str_del_contact_msg_not_deleted_ab:"Because {{contact_highlighted}} is a contact shared by Messenger and Mail, {{contact_highlighted}} may continue to show in Online Contacts.{{line_spacing}}You can change Online Contacts to show only Messenger List contacts in {{open_msg_link}}{{str_messenger_options}}{{close_msg_link}}.",str_error_disconnected_error:"You have been disconnected from Yahoo Messenger.",str_error_recent_messages_empty:"You have no recent conversations with {{contact}}.",str_label_sign_in_messenger:"Sign In to Yahoo Messenger button",str_menu_appear_offline:"Appear Offline to {{contact_name}}",str_menu_appear_online:"Appear Online to {{contact_name}}",str_menu_available:"Available",str_menu_busy:"Busy",str_menu_idle:"Idle",str_menu_invisible:"Invisible",str_menu_messenger_options:"Messenger Settings",str_menu_offline:"Offline",str_menu_sign_in_messenger:"Sign In to Yahoo Messenger",str_menu_sign_out_messenger:"Sign Out of Yahoo Messenger",str_msgr_cl_sign_in:"Sign In to Messenger",str_msgr_cl_sign_in_who_is_online:"Sign in to Messenger to see who's online.",str_msgr_cl_sign_out:"Sign Out of Messenger",str_msgr_em_angel:"angel",str_msgr_em_angry:"angry",str_msgr_em_applause:"applause",str_msgr_em_batting_eyelashes:"batting eyelashes",str_msgr_em_big_grin:"big grin",str_msgr_em_big_hug:"big hug",str_msgr_em_blushing:"blushing",str_msgr_em_broken_heart:"broken heart",str_msgr_em_call_me:"call me",str_msgr_em_catch:"catch",str_msgr_em_cheer:"cheer",str_msgr_em_clown:"clown",str_msgr_em_cold:"cold",str_msgr_em_confused:"confused",str_msgr_em_cook:"cook",str_msgr_em_cool:"cool",str_msgr_em_cowboy:"cowboy",str_msgr_em_crying:"crying",str_msgr_em_daydreaming:"day dreaming",str_msgr_em_devilish:"devilish",str_msgr_em_dizzy:"dizzy",str_msgr_em_doh:"d'oh!",str_msgr_em_down_on_luck:"down on luck",str_msgr_em_drooling:"drooling",str_msgr_em_eat:"eat",str_msgr_em_exercise:"exercise",str_msgr_em_fight:"fight",str_msgr_em_gift:"gift",str_msgr_em_give_up:"give up",str_msgr_em_high_five:"high five",str_msgr_em_hot:"hot",str_msgr_em_hypnotized:"hypnotized",str_msgr_em_kiss:"kiss",str_msgr_em_label:"{{shortcut}} {{description}}",str_msgr_em_laughing:"laughing",str_msgr_em_liar:"liar",str_msgr_em_loser:"loser",str_msgr_em_lovestruck:"lovestruck",str_msgr_em_music:"music",str_msgr_em_nail_biting:"nail biting",str_msgr_em_nerd:"nerd",str_msgr_em_not_talking:"not talking",str_msgr_em_on_the_phone:"on the phone",str_msgr_em_party:"party",str_msgr_em_phbbbt:"phbbbt",str_msgr_em_play_game:"play game",str_msgr_em_puke:"puke",str_msgr_em_raised_eyebrow:"raised eyebrow",str_msgr_em_rofl:"rolling on the floor laughing",str_msgr_em_rolling_eyes:"rolling eyes",str_msgr_em_sad:"sad",str_msgr_em_searching:"searching",str_msgr_em_shh:"don't tell anyone shh!",str_msgr_em_sick:"sick",str_msgr_em_sigh:"sigh",str_msgr_em_silly:"silly",str_msgr_em_sing:"sing",str_msgr_em_sleepy:"sleepy",str_msgr_em_smile:"smile",str_msgr_em_smug:"smug",str_msgr_em_spooky:"spooky",str_msgr_em_straight_face:"straight face",str_msgr_em_studying:"studying",str_msgr_em_surprise:"surprise",str_msgr_em_talk_to_the_hand:"talk to the hand",str_msgr_em_thinking:"thinking",str_msgr_em_time_out:"time out",str_msgr_em_tongue:"tongue",str_msgr_em_tv:"tv",str_msgr_em_unlucky:"unlucky",str_msgr_em_waiting:"waiting",str_msgr_em_wave:"wave",str_msgr_em_whew:"whew!",str_msgr_em_wink:"wink",str_msgr_em_wits_end:"at wits' end",str_msgr_em_worried:"worried",str_msgr_em_yawn:"yawn",str_msgr_server_error_10:"The operation failed because you have reached the maximum number of ignored users.",str_msgr_server_error_12:"The operation failed because the user is in your Contact List.",str_msgr_server_error_1:"There was a problem handling your request, please retry the operation.",str_msgr_server_error_28:"Your session has expired, please login and try again.",str_msgr_server_error_2:"The operation failed because the user already exists.",str_msgr_server_error_32:"The operation failed because the Group ID is invalid.",str_msgr_server_error_33:"The operation failed because the user is in your Ignore List.",str_msgr_server_error_3:"The operation failed because the user does not exist.",str_msgr_server_error_42:"The operation failed because you have reached the maximum number of pending Add Requests.",str_msgr_server_error_4:"Authentication failed.",str_msgr_server_error_53:"The login failed because you have reached the maximum number of simultaneous sessions.",str_msgr_server_error_59:"The operation failed because the user appears to be offline.",str_msgr_server_error_6:"The operation failed because you have reached the maximum number of contacts.",str_msgr_server_error_7:"The operation failed because you have reached the maximum number of groups.",str_msgr_server_error_8:"The operation failed because the group already exists.",str_msgr_server_error_self:"The operation failed because this is the signed in user.",str_nav_opt_msg_title:"Messenger Settings",str_opt_conv_win_style:"This is how your Yahoo Messenger conversation window will be displayed.",str_opt_msg_blocked_ignorelist_offline:"You must be signed in to Yahoo Messenger to manage your block list.",str_opt_msg_general_heading_history:"Conversation History",str_opt_msg_general_heading_logout:"Sign Out",str_opt_msg_general_history_description:"Yahoo Messenger can keep a history of all your conversations. You can browse and search your history from any computer you sign in to.",str_opt_msg_list_show_buddyonly:"Show only Yahoo Messenger List Contacts",str_opt_msg_phonecountry_label:"{{country_name}} (+{{country_code}})",str_session_display_name_order:"{{firstName}} {{lastName}}",str_session_title_order:"{{displayName}} ({{user}})",str_signout_msg_general_description:"You are signed in to Yahoo Messenger in multiple places. Where do you want to sign out?",str_unread_messages_plural:"You have {{count}} new messages.",str_unread_messages_single:"You have a new message.",str_urls_report_abuse_no_trans:"http://help.yahoo.com/l/us/yahoo/messenger/forms/abusetranscript.html",str_window_btn_popin:"Pop in conversation back to Yahoo Messenger",str_window_title_addcontact:"Yahoo Messenger Add Contact Dialog",str_window_title_alert:"Yahoo Messenger Confirm Dialog",str_window_title_conversation:"Yahoo Messenger Conversation Window",str_window_title_main:"Yahoo Messenger Contact List",str_window_title_options:"Yahoo Messenger Settings Dialog",str_window_title_signout:"Yahoo Messenger Sign Out Confirmation Dialog",str_window_title_smsinput:"Yahoo Messenger SMS Number Input Dialog",last:null}},"1.0.0");YUI.add("base-bidi",function(A){A.mix(A.namespace("Tictac.base.bidi"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(B,C){if(B!==undefined){this._rtlChars=B;}if(C!==undefined){this._neutralChars=C;}this._initializeBidiPatterns();},detectDirection:function(C,B){if(this._rtlPattern.test(C)){return"rtl";}else{if(B==="ltr"){return"ltr";}else{if(this._neturalPattern.test(C)){if(B==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});A.Tictac.base.bidi._initializeBidiPatterns();A.mix(A.namespace("Tictac.base.bidi"),{bidiDirection:A.Tictac.base.bidi.detectDirection});},"1.0.0");
