YUI.add("_shared_module_compose_attach_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_attach_item={base:'<li role="presentation" class="disposition-{{disposition}}"> <span aria-hidden="true" class="filename {{isViewable}}">{{filename}}</span> <div class="options" role="presentation"> <a role="button" class="remove" aria-label="{{str_comp_remove}} {{filename}}" href="#">{{str_comp_remove}}</a> <a role="button" class="download" aria-label="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}"> {{str_comp_attach_btn_download}} <i class="icon icon-chevron-down" aria-haspopup="true"></i> </a> </div> <div class="progress-bar" aria-hidden="true"> <span class="progress"> <span class="progress-content"></span> </span> </div></li>'}},"1.0.0");
YUI.add("_shared_module_compose_thumbnail_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_thumbnail_item={base:'<li class="thumbnail-item disposition-{{disposition}}"> <div class="options" role="presentation"> <div role="button" aria-label="{{str_comp_remove}} {{image_name}}" class="remove icon icon-small-close" tabindex="0"></div> <div class="download photo-overlay" role="presentation"> <a role="button" tabindex="0" title="{{str_comp_attach_btn_download}} {{image_name}}" href="{{download_url}}">{{str_comp_attach_btn_download}}<i aria-haspopup="true" class="icon icon-chevron-down"></i></a> </div> </div> <div class="progress-bar"> <span class="progress"> <span class="progress-content"></span> </span> </div></li>'}},"1.0.0");
YUI.add("mail-services-attach-io",function(F){F.namespace("Mail.ComposeV3");function A(H){var G=[window.location.protocol+"//",window.location.host,"/ws/mail/v2.0/jsonrpc?","appid="+"YahooMailNeo","&m="+H,"&wssid="+NeoConfig.wssid,"&windowid="+NeoConfig.windowId,"&r="+new Date().getTime()].join("");return G;}function B(G){return{"fid":"Draft","aid":G.contentId(),"filename":G.file(),"mid":G.mid(),"pid":G.partId(),"size":G.size()};}function E(){var G=new Date();return"Attachments_"+G.getFullYear()+(G.getMonth()+1)+G.getDate();}function D(G,I,H){F.io(G,{method:"POST",data:F.JSON.stringify(I),headers:{"Content-Type":"application/json"},on:H});}var C={getDownLoadUrl:function(I){var J="VirusScanAttachments",G=A(J),H={"method":J,"params":[{"downloadInfo":[B(I)],"archiveName":E(),"archive":false}]};return new Promise(function(M,L){var K={"success":function(P,O){try{var N=F.JSON.parse(O.response||O.responseText).result.attachInfoResult[0];if(N.virusFound.length===0){M(N.downloadUrl);}else{L(Error("virusfound"));}}catch(Q){L(Q);}},"failure":function(N){L(N);}};D(G,H,K);});}};F.namespace("Mail.Services").AttachIO=C;},"1.0.0",{requires:["io","json-parse","json-stringify"]});YUI.add("mail-ui-tray",function(e){function c(){this.isInternal=!0,this.label=strings.str_comp_attachment_save_to_computer,this.iframes=[]}function h(e){this.model=e.model,this.container=e.container,this.filesView=e.filesView,this.thumbnailsView=e.thumbnailsView,this.localDownloader=new c}function p(e){var t=e.map(function(e,t){return'<li role="presentation"><a role="menuitem" data-action="'+t+'" tabindex="-1">'+e.label+"</a>"});return t.unshift("<ul>"),t.push("</ul>"),t.join("")}var t=e.common.ui.MenuHelper,n=e.Mail.Services.Plugins,r=e.common.Utils,i=r.substitute,s=r.escapeHtml,o=r.unescapeHtml,u=e.Mail.Services.AttachIO,a=e.ui.Templates._shared_module_compose_attach_item.base,f=e.ui.Templates._shared_module_compose_thumbnail_item.base,l="in-progress";c.prototype={deleteIframe:function(){var e=0;for(e=0;e<this.iframes.length;e++)document.body.removeChild(this.iframes[e]);this.iframes=[]},download:function(e){var t=this;t.deleteIframe(),e.forEach(function(e){var n=document.createElement("iframe");n.src=e.url,n.width=0,n.height=0,n.style.display="none",document.body.appendChild(n),t.iframes.push(n)},this)},destroy:function(){this.deleteIframe()}},h.prototype={constructor:h,render:function(){var t=this.model,r=this;t.attachments.length>0&&(this.container.removeClass("hidden"),t.attachments.length>1&&this.container.one(".attachments-header").removeClass("hidden"),t.attachments.forEach(this.sync,this)),this.filesView.removeClass("hidden"),t.on("attachmentAdded",this.sync,this),this.container.one(".removeAll").on("click",function(e){e.preventDefault(),t.attachments.forEach(function(e){e.setState("deleted")}),this.fire("attachmentRemoved")},this),this._createMenu(),n.on("added:attachmentDownloader",this._createMenu,this),this.container.one(".error").one(".dismiss").on("click",function(e){e.target.ancestor(".error").addClass("hidden"),e.preventDefault(),e.stopPropagation()}),this.showMessageInfo=function(e){var t=null,n;return n=function(r,i,s){if(!e.getDOMNode())return;s=s||1e4,i=i||"",e.setContent(r),r===""?e.addClass("hidden"):e.removeClass("hidden"),t&&clearTimeout(t),t=setTimeout(function(){if(i===""){e&&e.getDOMNode()&&e.addClass("hidden");return}n(i,"",2e3)},s)},n}(this.container.one(".self-close-msg")),this.hidMessageInfo=function(){r.showMessageInfo("","",0)},t.on("stateChanged",e.bind(this.handleAttachmentProgress,this))},handleAttachmentProgress:function(e){var t=9999e3,n=this.model.attachments,r=e.next==="saving"&&!!n&&n.filter(function(e){return e.state()==="uploading"||e.state()==="pending"}).length,i='<span class="spinner">'+strings.str_comp_attach_upload_progress+"</span>";r?this.showMessageInfo(i,strings.str_comp_attach_reattach_failure_title,t):this.hidMessageInfo()},sync:function(t){function h(e,t){var n=new Image;n.onload=function(){if(!e.getDOMNode())return;var n=e.getStyle("backgroundImage"),r;typeof n=="string"&&c&&(r=n.match(/url\((.+)\)|^(blob:.+)/),r&&c.revokeObjectURL(r[1]||r[2])),e.setStyle("backgroundImage","url("+t+")")},n.src=t}function p(){var e=this.container.one(".error");e.removeClass("hidden"),r.one(".remove").setStyle("display","block"),r.one(".download").addClass("hidden"),r.addClass("attach-fail"),this.updateUI()}function d(){e.one("#attachment-button-input")&&e.one("#attachment-button-input").set("value","")}var n=this,r,u=t.getThumbnailUrl(),c=window.URL||window.webkitURL;t.isImage()?(r=e.Node.create(i(f,{image_name:t.getFilename(),download_url:"#",disposition:t.isInline()?"inline":"attachment"},0,0,strings)),c&&t.file()&&r.setStyle("backgroundImage","url("+c.createObjectURL(t.file())+")"),t.state()==="saved"||t.state()==="uploaded"?u&&h(r,t.getThumbnailUrl()):t.on("changedState",function(){if(!r.getDOMNode())return;if(this.state()==="saved"||this.state()==="uploaded")h(r,this.getThumbnailUrl()),r.removeClass(l)}),this.thumbnailsView.append(r)):(r=e.Node.create(i(a,{filename:s(o(t.getFilename())),download_url:"#",disposition:t.isInline()?"inline":"attachment",isViewable:e.common.Utils.features.enabled("slideshowInCompose")&&t.isViewable()?"viewable":""},0,0,strings)),this.filesView.append(r)),(t.state()==="pending"||t.state()==="uploading")&&r.addClass(l),e.common.Utils.features.enabled("slideshowInCompose")&&r.on("click",function(){t.isViewable()&&t.openSlideshow(n.localDownloader)}),r.one(".remove").on("click",function(e){e.halt(),t.setState("deleted"),this.fire("attachmentRemoved")},this),r.one(".download").on("click",function(e){this._download(t,this.localDownloader),e.halt()},this),r.one('.download [aria-haspopup="true"]').on("click",function(e){this._showDownloadMenu(e.target,t),e.halt()},this),t.on("saved",d,this),t.on("failed",p,this),t.on("infected",p,this),t.on("deleted",function(){r.remove().destroy(),this.updateUI()},this),t.on("progress",function(e){if(!r.getDOMNode())return;var t=r.one(".progress");e<1?(e=100*e,t&&t.setStyle("width",e+"%")):r.removeClass(l)}),this.updateUI({scrollToAttachmentTray:t.state()!=="saved"})},updateUI:function(t){var n=this,r=this.container,s=t||{},o=this.model.attachments.filter(function(e){return!e.isInline()}),u=r.one(".attachments-header"),a=o.filter(function(e){return e.state()!=="deleted"}).length,f=u.one(".info"),l,c,h="";a<1?(f.addClass("hidden"),r.addClass("hidden"),u.addClass("hidden")):a>1?f.removeClass("hidden"):(f.addClass("hidden"),r.removeClass("hidden"),u.removeClass("hidden")),r.one(".totalAttached").set("text",a),l=o.filter(function(e){return e.state()==="failed"}),c=o.filter(function(e){return e.state()==="infected"}),l.length===0&&c.length===0?this.container.one(".error").addClass("hidden"):(c.length===1?h=strings.str_rte_attachments_virus_single:c.length>1?h=i(strings.str_rte_attachments_virus_mult,{num_virus_files:c.length}):h=strings.str_comp_attach_upload_error,this.container.one(".error span").setContent(h)),s.scrollToAttachmentTray&&this.container.scrollIntoView&&setTimeout(function(){n.container.getDOMNode()&&(n.container.scrollIntoView(),e.fire("attachmentsChanged",n.container))},200)},
showError:function(){this.container.one(".error").removeClass("hidden"),this.updateUI()},destroy:function(){var e=this;e._menuContainer&&e._menuContainer.remove(!0),e.localDownloader&&e.localDownloader.destroy(),e.model.attachments&&e.model.attachments.forEach(function(e){e.destroySlideshow()})},_createMenu:function(){var t=this,r=n.get("attachmentDownloader");if(r.length===0)return;r.unshift(this.localDownloader),t._downloaders=r,t._menuContainer&&t._menuContainer.remove(!0),t._menuContainer=e.Node.create('<div class="optionMenu"></div>'),t._menuContainer.append(p(t._downloaders)),e.one("body").append(t._menuContainer)},_showDownloadMenu:function(e,n){var r=this;t.create(e,{menu:r._menuContainer,blur:!0},function(){r._menuContainer.on("menuSelected",function(e){r._downloadMenuOptionSelected(e.dataAction,n)})})},_download:function(e,t){var n=this;n.showMessageInfo(strings.str_comp_attach_scanning,strings.str_comp_attach_download_network_error),u.getDownLoadUrl(e).then(function(r){return n.hidMessageInfo(),t.download([{filename:s(o(e.getFilename())),url:r,showMessageInfo:n.showMessageInfo}])})["catch"](function(e){n.showMessageInfo(strings.str_error_DownloadError)})},_downloadMenuOptionSelected:function(e,t){this._download(t,this._downloaders[e])}};var d=!0,v=null,m={prefix:"attachmentsTray"};e.augment(h,e.EventTarget,d,v,m),e.Tray=h},"0.0.1",{requires:["node","comms-utils","event-custom","common-ui-menu-helper","mail-services-plugins","_shared_module_compose_attach_item","_shared_module_compose_thumbnail_item","mail-services-attach-io","mail-common-utils-features"]});
/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("swfdetect",function(e,t){function c(e){return parseInt(e,10)}function h(e){i.isNumber(c(e[0]))&&(r.flashMajor=e[0]),i.isNumber(c(e[1]))&&(r.flashMinor=e[1]),i.isNumber(c(e[2]))&&(r.flashRev=e[2])}var n=0,r=e.UA,i=e.Lang,s="ShockwaveFlash",o,u,a,f,l;if(r.gecko||r.webkit||r.opera){if(o=navigator.mimeTypes["application/x-shockwave-flash"])if(u=o.enabledPlugin)a=u.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."),h(a)}else if(r.ie){try{f=new ActiveXObject(s+"."+s+".6"),f.AllowScriptAccess="always"}catch(p){f!==null&&(n=6)}if(n===0)try{l=new ActiveXObject(s+"."+s),a=l.GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(","),h(a)}catch(d){}}e.SWFDetect={getFlashVersion:function(){return String(r.flashMajor)+"."+String(r.flashMinor)+"."+String(r.flashRev)},isFlashVersionAtLeast:function(e,t,n){var i=c(r.flashMajor),s=c(r.flashMinor),o=c(r.flashRev);return e=c(e||0),t=c(t||0),n=c(n||0),e===i?t===s?n<=o:t<s:e<i}}},"3.16.0",{requires:["yui-base"]});
YUI.add("mail-service-uploader-utils",function(A){A.namespace("Y.mail.UploaderUtils");A.mail.UploaderUtils={getUploadCredential:function(C){var D=NeoConfig.launch_protocol+document.location.host+"/ya/upload_get_cred",B=A.mail.UploaderService,E={success:function(F){var G;if(F&&F.responseText){G=A.JSON.parse(F.responseText).Response.cred;}B.UPLOAD_CREDENTIAL=G||"failed";if(!G){}C&&C();},failure:function(){B.UPLOAD_CREDENTIAL="failed";},suppressCodes:"*"};A.common.net.SessionMgr.request(D,null,E,"GET",null,true);},checkLimits:function(J){var K=J.files||[],O=J.cdo,H=J.uploader,C=A.common.persist.UserData,E=C.get("userFeaturePref.attachTotalSize"),B=C.get("userFeaturePref.attachFiles"),D,F,I,M=O&&O._getAttachmentsSize(),N=O&&O._getAttachmentsCount(),G,L=0;if(!K||!O||!H){return true;}for(G in K){D=K[G];F=D.get&&D.get("size")||D.size;I=D.get&&D.get("id")||D.id+"-"+D.name;if(((F>E)||(M+F>E))&&(!H.processedFiles[I]&&!H.removedFiles[I])){H.removedFiles[I]=1;L=1;delete K[G];}else{if(!H.processedFiles[I]&&!H.removedFiles[I]){M+=F;N++;}}}A.mail.UploaderService.logIt("checkLimits found totalSize = "+M+", totalCount="+N);if(N>B){for(G in K){if(N<=B){break;}D=K[G];I=D.get&&D.get("id")||D.id+"-"+D.name;if(!H.processedFiles[I]&&!H.removedFiles[I]){H.removedFiles[I]=1;delete K[G];N--;}}O.fire("CDO_ATTACHMENT_COUNT_VIOLATION");return false;}if((M>E)||L){O.fire("CDO_ATTACHMENT_SIZE_VIOLATION");return false;}return true;},handlePostRedirectResponse:function(B){var F=this,E=A.common.Utils.parseQueryString(B),D=A.mail.UploaderService.uploadersCreated[E.uploaderID],C=F.parseFormResponse(E,D);D.handlePostRedirectResponse(C);},parseFormResponse:function(D,G){var C=[],E,I,L=parseInt(D.cdoidx,10),H=(D.filename+"").split(","),K=(D.mimetype+"").split(","),J=(D.filesize+"").split(","),B=(D.diskfilename+"").split(","),F=(D.errorcode+"").split(",");for(I=0;I<F.length;I++){E={cdoIndex:L+I,filename:H[I],mimetype:K[I],size:{original:parseInt(J[I],10)},serverID:B[I],thumbData:null};this.setAttachmentState({item:E,state:F[I],uploader:G});C.push(E);}return C;},setAttachmentState:function(B){var F=B.item,D=B.state||F.attachCode,H=B.uploader,G=H.type||H.uploaderType,C={attachcode:D,resampled:false,cancelled:false,rotated:false,uploaded:false,scanned:false,failed:false},E=0;switch(D){case"uploadAVNoVirus":case"uploadAVCleaned":C.scanned=true;C.uploaded=true;break;case"uploadAVInternalError":case"uploadAVError":case"uploadAVNotScannable":case"uploadAVServerDown":C.uploaded=true;C.failed=false;C.failCause="averror";break;case"uploadFileSizeError":case"uploadNoFileError":C.failed=true;if(D==="uploadFileSizeError"){C.failCause="size";}else{C.failCause="nofile";}E=1;break;case"uploadAVCannotClean":case"uploadAVHasVirus":C.scanned=true;C.uploaded=true;C.failed=true;C.failCause="virus";E=1;break;case"uploaderFormUploadNoResponse":C.failed=true;C.failCause="form_upload_no_response";E=1;break;case"uploaderFormUploadUnexpectedResponse":C.failed=true;C.failCause="form_upload_unexpected_response";E=1;break;case"uploaderFormUploadTimeout":C.failed=true;C.failCause="form_upload_timeout";E=1;break;case"uploaderFormUserCancelled":C.cancelled=true;C.failCause="form_upload_cancelled";break;case"uploaderYUIUploadError":case"uploaderHTML5UploadError":C.failed=true;C.failCause=G+"_upload_error";E=1;break;case"uploaderYUIResponseTimeout":case"uploaderHTML5ResponseTimeout":C.failed=true;C.failCause=G+"_response_timeout";E=1;break;case"uploaderYUIUploadStartTimeout":case"uploaderHTML5UploadStartTimeout":C.failed=true;C.failCause=G+"_uploadstart_timeout";E=1;break;case"uploaderYUIProgressTimeout":case"uploaderHTML5ProgressTimeout":C.failed=true;C.failCause=G+"_progress_timeout";E=1;break;case"uploaderYUIUploadCompleteTimeout":case"uploaderHTML5UploadCompleteTimeout":C.failed=true;C.failCause=G+"_uploadcomplete_timeout";E=1;break;case"uploaderYUIUserCancelled":case"uploaderHTML5UserCancelled":C.cancelled=true;C.failCause=G+"_upload_cancelled";break;case"uploaderYUIAutoRetryAll":case"uploaderHTML5AutoRetryAll":C.failed=true;C.failCause=G+"_upload_error_retry";break;case"uploaderYUIAutoRetry2038":case"uploaderHTML5AutoRetry2038":C.failed=true;C.failCause=G+"_upload_error2038";break;case"uploaderYUIError2049":case"uploaderHTML5Error2049":C.failed=true;C.failCause=G+"_upload_error2049";E=1;break;case"uploaderYUICredExpired":case"uploaderHTML5CredExpired":C.failed=true;C.failCause=G+"_upload_302";break;case"uploadInternalError":C.failed=true;C.failCause="internal_server_error";E=1;break;case"uploadMailboxError":C.failed=true;C.failCause="mailbox_error";E=1;break;case"uploadPartialFileError":C.failed=true;C.failCause="partial_file_error";E=1;break;case"uploadAuthError":C.failed=true;C.failCause="upload_auth_error";E=1;break;default:C.failed=true;C.failCause="generic_"+D;E=1;}if(C.failed){A.use("common-utils-error",function(I){I.common.Utils.error.report(D+":"+C.failCause,"ATTACH_UPLOAD_ERR",1,0,1);});}F.state=C;},createMenuNode:function(I){var B=parseInt(NeoConfig.switchAttachModeEnabled,10),E=I.node,H=I.uploader,J=I.cdo,C=I.attView,F=E.one("span.attach-btn-menu"),D=E.one(".attachment-button-html5")||E.one(".attachment-button-attach");if(B!==1){return;}H.handles.push(D.on("click",function(){F&&F.menu&&F.menu.hide&&F.menu.hide();J.fire("compose:restoreFocus");},H));var G="#attachment-button-input";A.one(G).on("click",function(){A.fire("mt:click",{action:"cmps_attfl",append:{t1:"cmpsTb"}});});F.on("click",this.createAttachOptionMenu,H,J,C);D&&D.removeClass("right");F&&F.removeClass("hidden");},selectDefaultMenuType:function(){var B=A.one("#menu-attach-options"),C=B?B.one(".active"):0;if(C&&C.get("id")==="switch-form"){A.fire("compose:toggleUploaderType",{form:1,node:B,destroy:0});}},createAttachOptionMenu:function(D,C,G){var H=this,F=D.currentTarget,B=A.mail.UploaderService,E="hidden";A.fire("mt:click",{action:"cmps_attflmnu",append:{t1:"cmpsTb"}});D.preventDefault();if(!F.menu){A.use("common-ui-menu-helper","_shared_module_offscreen_bin_menus_compose_attach",function(L){var J=L.ui.Templates._shared_module_offscreen_bin_menus_compose_attach,K={html5_active:(G.type===B.UPLOADER_TYPE_HTML5?"active":""),flash_active:(G.type===B.UPLOADER_TYPE_FLASH?"active":""),form_active:(G.type===B.UPLOADER_TYPE_FORM?"active":"")},I=L.one("#menu-attach-options");
if(!I){I=L.one("body").appendChild(L.common.Utils.substitute(J.base,K,0,0,strings));I.appendChild(H.attView.attachLargeBtn);}if(G.type===B.UPLOADER_TYPE_HTML5){I.one("#switch-flash").addClass(E);I.one("#switch-html5").removeClass(E);}L.common.ui.MenuHelper.create(F,{menu:I,blur:true},function(){F.menu.getMenuNode().on("menuSelected",function(M){switch(M.dataAction){case"switch-html5":L.fire("compose:toggleUploaderType",{html5:1,node:I});break;case"switch-flash":L.fire("compose:toggleUploaderType",{flash:1,node:I});break;case"switch-form":L.fire("compose:toggleUploaderType",{form:1,node:I,destroy:0});break;}C.fire("compose:restoreFocus");});});});}},verifyCrossDomainAccess:function(E){E=E||NeoConfig.attachmentServer;var D=A.mail.UploaderService,B=NeoConfig.launch_protocol+E+"/crossdomain.xml",C={success:function(){if(NeoConfig.attachmentServer!==E){NeoConfig.attachmentServer=E;D.UPLOAD_URL_BASE=NeoConfig.launch_protocol+(NeoConfig.attachmentServer?NeoConfig.attachmentServer+"/":"")+((NeoConfig.isSSL&&!NeoConfig.isAttachSSL)?window.location.host:(strings.str_cfg_base_intl+"."+NeoConfig.farm+".mail.yahoo.com"))+"/ya/upload";}D.CROSS_DOMAIN_VERIFIED=true;},failure:function(){if(E!==NeoConfig.attachmentServerBackup&&NeoConfig.attachmentServerBackup){A.mail.UploaderUtils.verifyCrossDomainAccess(NeoConfig.attachmentServerBackup);}else{D.DEFAULT_UPLOADER=D.UPLOADER_TYPE_FORM;A.fire("compose:toggleUploaderType",{form:1,destroy:1});}},suppressCodes:"*"};A.common.net.SessionMgr.request(B,null,C,"GET",null,true);}};},"1.0.0",{requires:["common-utils-stats","common-net-sessionmgr"]});YUI.add("mail-ui-composeview-attach",function(C){C.namespace("mail");var L={"application/pdf":"pdf","application/mspowerpoint":"ppt","application/vnd.ms-powerpoint":"ppt","application/excel":"xls","application/vnd.ms-excel":"xls","application/msword":"doc","application/vnd.ms-msword":"doc","application/x-trof-msvideo":"video","video/mpeg":"video","video/x-ms-wmv":"video","video/mov":"video","video/movie":"video","video/quicktime":"video","audio/wav":"music","audio/x-wav":"music","audio/mpeg":"music","audio/mp3":"music","audio/mid":"music","audio/realaudio":"music","audio/x-pn-realaudio":"music","image/bmp":"img","image/gif":"img","image/jpe":"img","image/jpeg":"img","image/jpg":"img","image/png":"img","image/tiff":"img","application/x-compressed":"zip","application/x-stuffit":"zip","application/x-tar":"zip","application/x-gzip":"zip"},H={"LOZENGE":0,"ICON":1},A=C.ui.Templates,b=C.common.Utils,G=C.mail.UploaderUtils,m=b.substitute,W=b.escapeHtml,V=window.strings||{},n=C.common.persist.UserData,f=n.get("userFeaturePref.attachTotalSize"),Q=n.get("userFeaturePref.attachFiles"),P=Math.round(f/1048576),i="hidden",T="attachmentVisible",X,D=(parseInt(NeoConfig.uploaderVersion,10)===2);function d(o,Y){Y=Y||"str_rte_attachments_";return V[Y+o]||"";}C.mail.AttachmentView=function(w,s,o){var p=this,x,z,q,u,v,r,y;X=C.mail.UploaderService;p.cdo=w;if(!p.handles){p.handles=[];}y=p.handles;p.tab=s;p.tagPane=o&&o.tagPane?o.tagPane:".attachments-pane";p.tagWell=o&&o.tagWell?o.tagWell:".attachments-well";p.uiAttBar=s.one(p.tagPane);if(p.uiAttBar){p.uiAttRemoveAll=s.one(".attachment-button-removeall");p.uiAttCount=x=s.one(".attachments-count");p.uiAttSize=z=s.one(".attachments-size");p.uiAttAVLogo=s.one(".file-count img");p.uiAttMessage=s.one(".error");p.uiAttBtnForm=p.uiAttBar.one(".attachment-button-form")||null;p.uiAttBtnDisabled=p.uiAttBar.one(".attachment-button-disabled");}p.uiAttPane=s.one(p.tagWell);var t=p.uiAttPane;if(t){}if(p.uiAttPane){p.uiAttList=q=p.uiAttPane.one(".file-attach");p.uiAttWelcome=p.uiAttPane.one(".attachments-welcome");}if(q&&x&&z){var Y=s.one("div.rte li.active a");q.setAttrs({"aria-labelledby":(Y?Y.generateID():""),"aria-describedby":(x.generateID()+" "+z.generateID())});}p.errorFlags={tooMany:false,tooBig:false};p.attachPaneHidden=false;p.attachXY=null;p.uploaderConfig={"attView":p,"tab":s,"cdo":w,"attForm":p.uiAttBtnForm,"attInput":p.tab.one(".attachment-button-file")};p.toggleUploaderHandle=C.on("compose:toggleUploaderType",k,p);if(D){r=X.getDefaultUploaderType();switch(r){case X.UPLOADER_TYPE_HTML5:u="mail-uploader-html5";break;case X.UPLOADER_TYPE_FLASH:u="uploader-flash";break;default:u="mail-service-uploader-form";r=X.UPLOADER_TYPE_FORM;}p.type=r;}v=function(AA){p.uploader=AA;AA.updateUI&&AA.updateUI();p.updateSizeAndCount();if(AA.uploaderType!==C.mail.UploaderService.UPLOADER_TYPE_FORM&&parseInt(NeoConfig.switchAttachModeEnabled,10)===1){G.createMenuNode({uploader:AA,node:p.tab,cdo:p.cdo,attView:p});G.selectDefaultMenuType();}};C.use(u,function(){X.create(p.uploaderConfig,v,o?o.type:null);});y.push(p.cdo.on("CDO_ATTACHMENT_ADDED",function(AB,AA){p.addNewAttachment(AA);}));y.push(p.cdo.on("CDO_ATTACHMENT_DELETED",function(AB,AA){p.removeAttachment(AA);p.updateSizeAndCount();}));y.push(p.cdo.on("CDO_ATTACHMENT_PROCESSED",function(AC,AA){p.enableAttachment(AA);p.updateSizeAndCount();function AB(AD){var AE=AD.state;return(AE&&!AE.processed&&!AE.uploaded&&!AE.cancelled);}if(!p.cdo._getAttachmentsCount(AB)){p.checkOverLimit();}}));y.push(p.cdo.on("CDO_ATTACHMENT_SIZE_VIOLATION",function(){p.attachError("size");}));y.push(p.cdo.on("CDO_ATTACHMENT_COUNT_VIOLATION",function(){p.attachError("count");}));y.push(p.cdo.on("CDO_ATTACHMENT_UPLOAD_PROGRESS",function(AC,AB,AA){p.updateAttachmentProgress(AB,AA);}));y.push(p.cdo.on("CDO_THUMBNAIL_GENERATED",function(AD,AA,AC){var AB=p.uiAttList.all(".file-container").item(AA),AE=AB.one("div");if(!AE){AB.insert(C.Node.create("<div></div>"),0);AE=AB.one("div");}AE.setStyle("background","url('"+AC.src+"') no-repeat 0px "+((63-AC.height)/2)+"px");AB.ancestor("li").addClass("image");}));y.push(p.cdo.on("CDO_UPLOADER_CLEANUP",function(){var AA=p.cdo.get("attachments"),AC,AB;for(AC=0;AA&&AC<AA.length;AC++){AB=AA[AC];if(AB&&AB.timeout){clearTimeout(AB.timeout);AB.timeout=null;}if(AB&&AB.state&&!AB.processed&&!AB.state.cancelled){AB.processed=true;AB.state.failed=1;p.enableAttachment(AC);}}p.updateSizeAndCount();}));if(p.uiAttRemoveAll){y.push(p.uiAttRemoveAll.on("click",function(AA){p.cdo._removeAllAttachments();AA.preventDefault();}));}if(p.uiAttBtnDisabled){y.push(p.uiAttBtnDisabled.on("click",function(){p.checkOverLimit(1);}));}if(p.uiAttAVLogo){y.push(p.uiAttAVLogo.on("click",function(){window.open(NeoConfig.avTargetUrl);}));}};function O(Y){var o=this;if(Y==="icon"){o.iconType=H.ICON;o.uiAttList.addClass("icons");o.uiAttList.removeClass("lozenges");}else{o.iconType=H.LOZENGE;o.uiAttList.removeClass("icons");o.uiAttList.addClass("lozenges");}}function a(q,o){var t=this,s=C.mail.AttachmentView.attachErrorSize,p=o?C.all(".file-attach li").item(o):null,Y={"count":m(d("num_files_exceeded","str_comp_attach_"),{},{max_allowed:function(){return Q;}}),"size":m(d("size_exceeded","str_comp_attach_"),{},{max_size_MB:function(){return P;}}),"averror":d("noAVScanWarning")+(p?p.get("title"):""),"virus":d("alert_virus")},r=Y[q];if(p){p.set("title",r||"");}t.updateSizeAndCount();if(q==="size"&&s&&s(t.cdo)){}else{if(r){C.use("common-ui-dialog-helper",function(u){u.common.ui.DialogHelper.alert({hd:(q==="virus")?d("alert_virus_title"):d("error","str_comp_attach_"),bd:r,restoreFocusNode:t.uiAttBar});});}}}function J(Y){var o=this;o.addAttachment(Y);o.updateSizeAndCount();}function e(){var r=this,q=r.cdo._getAttachmentsCount(),Y=(q===1)?d("file_single"):m(d("num_files"),{},{file_attach_num_files:function(){return q;}}),v=r.cdo._getAttachmentsSize(),x=0,u=0,y,p,t,s,o,w=(q===1)?V.str_comp_remove:V.str_comp_removeall;if(q){if(r.uiAttWelcome){r.uiAttWelcome.addClass(i);
}r.uiAttList.removeClass(i);if(r.uiAttRemoveAll){r.uiAttRemoveAll.removeClass(i).one("a").setContent(w).set("title",w);}r.uiAttPane.removeClass(i);if(r.uiAttCount){r.uiAttCount.removeClass(i);}if(r.uiAttSize){r.uiAttSize.removeClass(i);}}else{r.uiAttList.addClass(i);if(r.uiAttRemoveAll){r.uiAttRemoveAll.addClass(i);}if(r.uiAttMessage){r.uiAttMessage.addClass(i);}r.uiAttPane.addClass(i);if(r.uiAttCount){r.uiAttCount.setContent("");}if(r.uiAttSize){r.uiAttSize.setContent("");}r.toggleOverLimit(0);if(r.uiAttWelcome){r.uiAttWelcome.removeClass(i);}return;}if(r.uiAttCount){r.uiAttCount.setContent(Y);}if(r.uiAttSize){var z="sizes_fresh";r.uiAttSize.setContent(m(d(z),{},{transferred_size:function(){return h(v);},total_size:function(){return P+" "+V.str_rte_attachments_megabyte;}}));}r.errorFlags.tooMany=q>Q;r.errorFlags.tooBig=v>f;if(v>f){r.toggleOverLimit(2);}else{if(q>=Q||v===f){r.toggleOverLimit(1);}else{r.toggleOverLimit(0);}}y=r.uiAttPane.all(".file-attach .transfer-error")._nodes;for(p=0,o=y.length;p<o;p++){t=C.one(y[p]);s=t.hasClass("lozenge")?t.get("parentNode"):t;if(!s.hasClass(i)){x++;if(t.hasClass("transfer-virus")){u++;}}}if(r.uiAttMessage){if(u){r.uiAttMessage.setContent((u===1)?d("virus_single"):m(d("virus_mult"),{},{num_virus_files:function(){return u;}}));r.uiAttMessage.removeClass(i);}else{if(x){r.uiAttMessage.setContent((x===1)?d("error_single"):m(d("error_mult"),{},{num_error_files:function(){return x;}}));r.uiAttMessage.removeClass(i);}else{r.uiAttMessage.addClass(i);}}}}function I(Y){var o=this;if(o.errorFlags.tooBig){o.attachError("size");}else{if(o.errorFlags.tooMany||Y){o.attachError("count");}else{return false;}}return true;}function R(v,x){var u=this,w=u.uiAttList||u.tab.one(".file-attach"),s=u.cdo.get("attachments")[v],Y=s.state||{},r=s.size||{},o,t,z,p,y,q=C.mail.UploaderService;r=Y.resampled?r.sampled:r.original;r=h(r);if(u.cdo.get("passive")){s.original=s.size.original;}if(s.original&&Y.uploaded){s.processed=true;}if(NeoConfig.bidi){C.use("comms-intl-bidi",function(AA){o=AA.Intl.detectDirection(unescape(s.filename));});}x=x||(u.uploader&&u.uploader.uploaderType)||q.DEFAULT_UPLOADER;t="_shared_module_rte_well_content_attach_item";z=A[t].browser_plus_attach_else;p=C.Node.create(m(z,s,{filename:function(AA){return W(AA.filename.split("\\").pop());},in_progress1:function(){return s.original?"":A[t].in_progress1;},transfer_error1:function(){return Y.failed?A[t].transfer_error1:"";},transfer_warn1:function(){return Y.failCause?A[t].transfer_warn1:"";},retry:function(){return m(A[t].retry,0,0,0,V);}},null,V));p.one("a").set("title",(s.filename.split("\\").pop()||"")+" ("+r+")");u.handles.push(p.one(".lozengeremove").on("click",function(){var AA=v;if(p.hasClass("downloading")&&u.uploader.cancelUpload){if(D){AA=u.cdo.get("attachments")[v].uploaderInternalID;}u.uploader.cancelUpload(AA);}u.cdo._removeAttachment(v);}));y=p.one(".lozengeretry");if(y){if(!C.UA.webkit&&x===q.UPLOADER_TYPE_FORM){y.addClass("hidden");}else{u.handles.push(y.on("click",function(){var AA=y.getAttribute("retries")||0;y.setAttribute("retries",++AA);u.retryOrSwitchAttachmentMode(v,AA);}));}}if(o){p.one(".btn").setAttribute("dir",o).addClass(o);}u.handles.push(p.on("click",function(){if(!p.hasClass("downloading")){u.downloadAttachment(v);}}));w.append(p);if(q.debug){u.handles.push(p.on("click",function(AA){if(AA.altKey){q.logIt(u.cdo.get("attachments")[v]);}}));}u.dirty=true;}function E(Y){var p=this,o;o=p.uiAttList.all("li")&&p.uiAttList.all("li").item(Y);if(o){o.addClass(i);o.removeClass(T);}p.uploader&&p.uploader.removeAttachment&&p.uploader.removeAttachment(Y);}function M(o,Y){var s=this,r,q,p;r=s.uiAttList.all("li")&&s.uiAttList.all("li").item(o);if(r){q=!!r.one(".lozenge");p=q?".lozengeProgress":".progress";r.one(p).setStyle("width",Y+"%");r.one(p).set("aria-valuenow",Y);}}function j(o){var x=this,z="",v="",s="",t=x.uiAttList.all("li")&&x.uiAttList.all("li").item(o),y,AB,r,u,AE,q,w,Y="",AD,AA,p=C.mail.UploaderService;if(!t){return;}y=!!t.one(".lozenge");if(y){t=t.one(".lozenge").get("parentNode");}else{t.one(".file-container").removeClass("processing");t.one(".prog-indicator").addClass(i);}AB=x.cdo.get("attachments")[o];u=AB.state||{};AE=u.failCause;if(u.failed){t.addClass("transfer-error");if(y){t.all(".lozenge").addClass("lozengeerror");}if(AE==="virus"){t.addClass("transfer-virus");z=d("virusWarning");}else{if(AE==="size"){t.removeClass("downloading");t.one(".lozenge a").set("title",d("alert_size"));}else{if(!y){t.one(".retry").removeClass(i);}z=d("attachFailedWarning");}}if((C.UA.webkit||p.type!==p.UPLOADER_TYPE_FORM)&&AE!=="virus"&&(AA=t.one(".lozengeretry"))){AA.removeClass(i);}x.attachError(AE,o);}else{if(AE){if(y){r=t.one("a");r.addClass("lozengewarn");z=d("noAVScanWarning");}else{t.addClass("transfer-warning");if(p.DEFAULT_UPLOADER!==p.UPLOADER_TYPE_FORM||C.UA.webkit){t.one(".lozengeretry").removeClass(i);}x.attachError(AB.state.failCause,o);}}else{if(y){if(t.hasClass("transfer-error")){t.removeClass("transfer-error");}if((AD=t.all(".lozenge"))&&AD.hasClass("lozengeerror")){AD.removeClass("lozengeerror");AA=t.one(".lozengeretry");if(AA){AA.addClass("hidden");}if(u.retry){t.addClass("downloading");}}}}}if(y){q=AB.size;w=AB.filename;if(!u.retry){t.removeClass("downloading");}q=u.resampled?q.sampled:q.original;q=h(q);try{Y=decodeURIComponent(w||"");}catch(AC){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-mail-ui-composeview-compose-attach:1",AC,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-ui-composeview-compose-attach:1");Y=decodeURIComponent(escape(w)||"")||"";}if(AE==="yui_progress_timeout"){v=" YUI Upload Progress Timeout.";}if(NeoConfig.bidi&&V.str_tog_loadRTLCss){s=z+" "+Y+" \u202b("+q+")\u202c.";}else{s=z+" "+Y+" ("+q+").";}AD=t.one(".lozenge");AD&&AD.one("a").set("title",s);}else{C.use("event-mouseenter",function(){x.handles.push(t.on("mouseenter",function(){t.addClass("over");}));x.handles.push(t.on("mouseleave",function(){t.removeClass("over");
}));});}if(t.hasClass(i)){x.cdo._removeAttachment(o);}}function g(p,Y,q){var s=this,r,o=!(C.UA.webkit);if(s.uploader.uploaderType!==C.mail.UploaderService.UPLOADER_TYPE_FORM&&Y>1){C.use("common-ui-dialog-helper","_shared_module_offscreen_bin_modal_btn_ok",function(t){t.common.ui.DialogHelper.custom({hd:V.str_comp_attach_reattach_title,bd:V.str_comp_attach_reattach_body,ft:m(A._shared_module_offscreen_bin_modal_btn_ok.base,0,0,0,V,A)},{"ok":{handler:function(){t.fire("compose:toggleUploaderType",{form:1,destroy:q});r=s.uiAttList.all(".lozengeretry");if(r&&o){r.addClass("hidden");}}}});});}else{if(Y>3){C.use("common-ui-dialog-helper",function(t){t.common.ui.DialogHelper.alert({hd:V.str_comp_attach_reattach_failure_title,bd:V.str_comp_attach_reattach_failure_body},{"ok":{handler:function(){s.cdo._removeAttachment(p);}}});});}else{s.uploader.retryAttachment&&s.uploader.retryAttachment(p);}}}function c(v){var t=this,o=t.tab.one("#upload_file_selection"),p=D&&o&&o.one(".attachment-button-html5")||D&&o&&o.one(".attachment-button-attach")||t.tab.one(".attachment-button-attach"),q=C.mail.UploaderService,w,u=t.uploaderConfig,r=v.flashCrash||0,x=v.destroy||0,y=v.callback||0,s=v.skipDefault||0,Y;if(s){u.skipDefault=s;}if(x){p.fire("yuiuploader:destroy");}else{if(!s){t.reposAttachObj("offscreen");}}if(y){w=y;}else{w=function(z){t.uploader=z;z.updateUI&&z.updateUI();};}if(t.prevUploader&&t.prevUploader.uploaderType===q.UPLOADER_TYPE_FORM){Y=t.uploader;t.uploader=t.prevUploader;t.prevUploader=Y;q.type=q.UPLOADER_TYPE_FORM;w(t.uploader);q.logIt("compose-attach: Switch to "+q.type+" uploader (found existing)");}else{t.prevUploader=t.uploader;u.forceForm=1;u.previousType=t.prevUploader&&t.prevUploader.uploaderType;C.use("mail-service-uploader-form",function(){q.create(u,w,q.UPLOADER_TYPE_FORM);});q.type=q.UPLOADER_TYPE_FORM;q.logIt("compose-attach: Switch to "+q.type+" uploader, creating new uploader");}t.prevUploader&&t.prevUploader.detachEvents&&t.prevUploader.detachEvents();}function B(o){var r=this,p=C.mail.UploaderService,Y,q=0;o=o||p.UPLOADER_TYPE_FLASH;if(r.prevUploader&&r.prevUploader.uploaderType===o){Y=r.uploader;r.uploader=r.prevUploader;r.prevUploader=Y;p.logIt("compose-attach: Switch to "+o+" uploader");p.type=o;r.uploader.bindEvents&&r.uploader.bindEvents();q=1;}else{p.logIt("compose-attach: switch to "+o+", ERROR - existing uploader not found!!");}return q;}function K(p,Y,o){p.addClass("active");Y&&Y.hasClass("active")&&Y.removeClass("active");o&&o.hasClass("active")&&o.removeClass("active");}function S(){var q=this,p=C.mail.UploaderService,o=q.type,Y=q.tab;p.logIt("updateAttachButtonUI");if(o===p.UPLOADER_TYPE_FLASH&&Y.getStyle("visibility")==="visible"){q.reposAttachObj("restore");}else{q.reposAttachObj("offscreen");}if(D){p.toggleUploaderUI({type:o,tab:Y,attView:q});}}function k(u){var t=this,p=C.mail.UploaderService,q="#switch-form",Y="#switch-flash",x="#switch-html5",v,o=u.node||C.one("#menu-attach-options"),s=u.flashCrash||0,w=u.destroy||0,r,y,z;p.logIt("toggleUploaderType: form="+u.form+", flash="+u.flash+",html5="+u.html5);if(u.form&&t.type!==p.UPLOADER_TYPE_FORM){t.type=p.UPLOADER_TYPE_FORM;t.switchToFormUploader({flashCrash:s,destroy:w});t.updateAttachButtonUI({text:V.str_comp_attach_singular});if(!C.UA.webkit){v=t.tab.all(".lozengeretry");v&&v.addClass("hidden");}o&&K(o.one(q),o.one(Y),o.one(x));}else{if((u.flash&&t.type!==p.UPLOADER_TYPE_FLASH)||(u.html5&&t.type!==p.UPLOADER_TYPE_HTML5)){if(u.flash){r=Y;y=x;z=p.UPLOADER_TYPE_FLASH;}else{r=x;y=Y;z=p.UPLOADER_TYPE_HTML5;}o&&K(o.one(r),o.one(q),o.one(y));t.type=z;if(t.switchToUploader(z)){t.updateAttachButtonUI({text:V.str_comp_attach});}else{o&&K(o.one(q),o.one(Y),o.one(x));t.type=p.UPLOADER_TYPE_FORM;}}}}function h(o){var Y=V.str_rte_attachments_bytes;if(o>1048575){o/=1048576;Y=V.str_rte_attachments_megabyte;}else{if(o>1023){o/=1024;Y=V.str_rte_attachments_kilobyte;}}if(isNaN(o)){o=0;}return Math.round(o)+" "+Y;}function N(Y){var q=this,o=q.cdo.get("attachments")[Y],p=o&&o.state||0;if(p.uploaded&&!p.failed&&!p.cancelled){q.cdo.fire("compose:downloadAttachment",Y);}}function l(t){var s=this,q=s.saveUiBtnStyle,p=t===2?"addClass":"removeClass",r=t>0?"addClass":"removeClass",Y=t>0?"removeClass":"addClass",o=C.one(".yuiUploadBox")||null;if(!s.uploader){return;}if(s.uiAttBtnDisabled&&s.uploader.uploaderType===C.mail.UploaderService.UPLOADER_TYPE_FLASH){s.uiAttBtnDisabled[Y](i);}if(s.uiAttSize){s.uiAttSize[p]("overlimit");}if(s.uiAttBtnForm){s.uiAttBtnForm[r](i);}if(o){if(t>0){if(!q){s.saveUiBtnStyle=o.getAttribute("style");}o.setAttribute("style","position:absolute;top:0;left:0;width:1px;height:1px;");}else{if(typeof q!=="undefined"){o.setAttribute("style",q);}}}}function Z(p){var o=p&&p.state||{},q=p.mimetype||"",Y="";q=unescape(q);if(o.failed){Y="transfer-error ";if(o.failCause==="virus"){Y+="virus ";}}if(q){if(L[q]){Y+=L[q];}else{Y+="no-type";}}else{Y+="no-type";}return Y;}function F(r,u){var v=this,q=C.mail.UploaderService,w=v.uploader&&v.uploader.uploaderType,p=q&&q.UPLOADER_TYPE_FLASH,t="offscreen",Y="restore",o,s=v.uiAttBar.one("#upload_file_selection");if(q&&w===p&&v.uiAttBar){o=v.uiAttBar.one("span.attachment-button-attach");if(o.hasClass(i)){o=s;}u=u||o.getXY();if(r===t||v.attachPaneHidden){if(!v.attachXY||v.attachXY[0]!==0||v.attachXY[1]!==0){v.attachXY=[0,0];o.fire("compose:reposAttachObj",{x:0,y:0,resize:true,width:"1px",height:"1px"});D&&o.setStyle("position","absolute");}}else{if((!v.attachXY||u[0]!==v.attachXY[0]||u[1]!==v.attachXY[1])&&(v.type===p||!v.type)){if(D){s.setStyle("position","relative").setStyle("top","auto").setStyle("left","auto");return;}v.attachXY=[u[0],u[1]];if(r===Y){o.fire("compose:reposAttachObj",{x:u[0],y:u[1],resize:true,height:o.getStyle("height"),width:o.getStyle("width")});}else{o.fire("compose:reposAttachObj",{x:u[0],y:u[1],resize:false});}}}}}function U(){var o=this,Y=o.uploader;C.each(o.handles,function(p){p.detach&&p.detach();});o.handles=[];if(Y&&Y.handles){C.each(Y.handles,function(p){p.detach&&p.detach();
});Y.handles=[];Y.attView=null;Y.tab.uploader=null;Y.tab=null;delete X.uploadersCreated[Y.id];}if(Y&&Y.checkFlashTimeout){clearTimeout(Y.checkFlashTimeout);}o.toggleUploaderHandle&&o.toggleUploaderHandle.detach();o.toggleUploaderHandle=null;o.uploader=null;o.uiAttForm=null;o.tab=null;o.uiAttBar=null;o.uiRemoveAll=null;o.uiAttCount=null;o.uiAttSize=null;o.uiAttAVLogo=null;o.uiAttMessage=null;o.uiAttBtnForm=null;o.uiAttBtnDisabled=null;o.uiAttPane=null;o.uiAttList=null;o.uiAttWelcome=null;o.uploaderConfig=null;if(o.attachLargeBtn){o.attachLargeBtn.remove().destroy(true);o.attachLargeBtn=null;}}C.mail.AttachmentView.prototype={setAttachmentStyle:O,addAttachment:R,addNewAttachment:J,removeAttachment:E,enableAttachment:j,downloadAttachment:N,toggleOverLimit:l,updateAttachmentProgress:M,updateSizeAndCount:e,getIconClass:Z,attachError:a,checkOverLimit:I,retryOrSwitchAttachmentMode:g,switchToFormUploader:c,switchToUploader:B,toggleUploaderType:k,updateAttachButtonUI:S,reposAttachObj:F,cleanUp:U};},"1.0.0",{requires:["swfdetect","mail-service-uploader-utils"]});/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-para-base",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="> p",s="p",o="<br>";e.extend(n,e.Base,{_getRoot:function(){return this.get(r).getInstance().EditorSelection.ROOT},_fixFirstPara:function(){var e=this.get(r),t=e.getInstance(),n,u,a=this._getRoot(),f=a.getHTML(),l=f.length?!0:!1;f===o&&(f="",l=!1),a.setHTML("<"+s+">"+f+t.EditorSelection.CURSOR+"</"+s+">"),u=a.one(i),n=new t.EditorSelection,n.selectNode(u,!0,l)},_afterEditorReady:function(){var e=this.get(r),t=e.getInstance(),n;t&&(t.EditorSelection.filterBlocks(),n=t.EditorSelection.DEFAULT_BLOCK_TAG,i="> "+n,s=n)},_afterContentChange:function(){var e=this.get(r),t=e.getInstance();t&&t.EditorSelection&&t.EditorSelection.filterBlocks()},_afterPaste:function(){var t=this.get(r),n=t.getInstance();e.later(50,t,function(){n.EditorSelection.filterBlocks()})},initializer:function(){var t=this.get(r);if(t.editorBR){e.error("Can not plug EditorPara and EditorBR at the same time.");return}t.after("ready",e.bind(this._afterEditorReady,this)),t.after("contentChange",e.bind(this._afterContentChange,this)),e.Env.webkit&&t.after("dom:paste",e.bind(this._afterPaste,this))}},{NAME:"editorParaBase",NS:"editorParaBase",ATTRS:{host:{value:!1}}}),e.namespace("Plugin"),e.Plugin.EditorParaBase=n},"3.16.0",{requires:["editor-base"]});
/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-para",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="nodeChange",s="parentNode",o="> p",u="p",a="<br>",f="firstChild",l="li";e.extend(n,e.Plugin.EditorParaBase,{_getRoot:function(){return this.get(r).getInstance().EditorSelection.ROOT},_onNodeChange:function(t){var n=this.get(r),i=n.getInstance(),c,h,p,d,v,m=i.EditorSelection.DEFAULT_BLOCK_TAG,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=":last-child",H,B,j,F,I,q=!1,R=this._getRoot(),U;switch(t.changedType){case"enter-up":H=this._lastPara?this._lastPara:t.changedNode,B=H.one("br.yui-cursor"),this._lastPara&&delete this._lastPara,B&&(B.previous()||B.next())&&B.ancestor(u)&&B.remove(),H.test(m)||(N=H.ancestor(m),N&&(H=N,N=null));if(H.test(m)){C=H.previous();if(C){F=C.one(D);while(!q)F?(I=F.one(D),I?F=I:q=!0):q=!0;F&&n.copyStyles(F,H)}}break;case"enter":e.UA.webkit&&t.changedEvent.shiftKey&&(n.execCommand("insertbr"),t.changedEvent.preventDefault()),t.changedNode.test("li")&&!e.UA.ie&&(c=i.EditorSelection.getText(t.changedNode),c===""&&(p=t.changedNode.ancestor("ol,ul"),j=p.getAttribute("dir"),j!==""&&(j=' dir = "'+j+'"'),p=t.changedNode.ancestor(i.EditorSelection.BLOCKS),d=i.Node.create("<p"+j+">"+i.EditorSelection.CURSOR+"</p>"),p.insert(d,"after"),t.changedNode.remove(),t.changedEvent.halt(),v=new i.EditorSelection,v.selectNode(d,!0,!1)));if(e.UA.gecko&&n.get("defaultblock")!=="p"){p=t.changedNode;if(!p.test(l)&&!p.ancestor(l)){p.test(m)||(p=p.ancestor(m)),d=i.Node.create("<"+m+"></"+m+">"),p.insert(d,"after"),v=new i.EditorSelection;if(v.anchorOffset){g=v.anchorNode.get("textContent"),h=i.one(i.config.doc.createTextNode(g.substr(0,v.anchorOffset))),y=i.one(i.config.doc.createTextNode(g.substr(v.anchorOffset))),w=v.anchorNode,w.setContent(""),E=w.cloneNode(),E.append(y),S=!1,T=w;while(!S)T=T.get(s),T&&!T.test(m)?(x=T.cloneNode(),x.set("innerHTML",""),x.append(E),b=T.get("childNodes"),U=!1,b.each(function(e){U&&x.append(e),e===w&&(U=!0)}),w=T,E=x):S=!0;y=E,v.anchorNode.append(h),y&&d.append(y)}d.get(f)&&(d=d.get(f)),d.prepend(i.EditorSelection.CURSOR),v.focusCursor(!0,!0),c=i.EditorSelection.getText(d),c!==""&&i.EditorSelection.cleanCursor(),t.changedEvent.preventDefault()}}break;case"keyup":e.UA.gecko&&R&&R.getHTML().length<20&&(R.one(o)||this._fixFirstPara());break;case"backspace-up":case"backspace-down":case"delete-up":e.UA.ie||(k=R.all(o),A=R,k.item(0)&&(A=k.item(0)),L=A.one("br"),L&&(L.removeAttribute("id"),L.removeAttribute("class")),h=i.EditorSelection.getText(A),h=h.replace(/ /g,"").replace(/\n/g,""),M=A.all("img"),h.length===0&&!M.size()&&(A.test(u)||this._fixFirstPara(),O=null,t.changedNode&&t.changedNode.test(u)&&(O=t.changedNode),!O&&n._lastPara&&n._lastPara.inDoc()&&(O=n._lastPara),O&&!O.test(u)&&(O=O.ancestor(u)),O&&!O.previous()&&O.get(s)&&O.get(s).compareTo(R)&&(t.changedEvent.frameEvent.halt(),t.preventDefault())),e.UA.webkit&&t.changedNode&&(t.preventDefault(),A=t.changedNode,A.test("li")&&!A.previous()&&!A.next()&&(c=A.get("innerHTML").replace(a,""),c===""&&A.get(s)&&(A.get(s).replace(i.Node.create(a)),t.changedEvent.frameEvent.halt(),i.EditorSelection.filterBlocks())))),e.UA.gecko&&this._fixGeckoOnBackspace(i)}e.UA.gecko&&t.changedNode&&!t.changedNode.test(m)&&(O=t.changedNode.ancestor(m),O&&(this._lastPara=O))},_fixGeckoOnBackspace:function(e){var t=new e.EditorSelection,n,r;if(!t.isCollapsed||t.anchorNode.get("nodeName")!=="P"||t.anchorOffset===0)return;r=t.anchorNode.get("childNodes"),n=t.anchorNode.get("lastChild");if(t.anchorOffset!==r.size()||n.get("nodeName")!=="BR")return;if(t.anchorOffset===1){t.selectNode(t.anchorNode,!0);return}n=n.get("previousSibling");if(n.get("nodeType")!==Node.TEXT_NODE)return;offset=n.get("length"),t.getEditorOffset()===offset&&t.selectNode(n,!0,offset)},initializer:function(){var t=this.get(r);if(t.editorBR){e.error("Can not plug EditorPara and EditorBR at the same time.");return}t.on(i,e.bind(this._onNodeChange,this))}},{NAME:"editorPara",NS:"editorPara",ATTRS:{host:{value:!1}}}),e.namespace("Plugin"),e.Plugin.EditorPara=n},"3.16.0",{requires:["editor-para-base"]});
/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-br",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="li";e.extend(n,e.Base,{_onKeyDown:function(t){if(t.stopped){t.halt();return}if(t.keyCode===13){var n=this.get(r),s=n.getInstance(),o=new s.EditorSelection;o&&(e.UA.ie&&(!o.anchorNode||!o.anchorNode.test(i)&&!o.anchorNode.ancestor(i))&&(n.execCommand("inserthtml",s.EditorSelection.CURSOR),t.halt()),e.UA.webkit&&(!o.anchorNode||!o.anchorNode.test(i)&&!o.anchorNode.ancestor(i))&&(n.frame._execCommand("insertlinebreak",null),t.halt()))}},_afterEditorReady:function(){var t=this.get(r).getInstance(),n;try{t.config.doc.execCommand("insertbronreturn",null,!0)}catch(i){}if(e.UA.ie||e.UA.webkit)n=t.EditorSelection.ROOT,n.test("body")&&(n=t.config.doc),t.on("keydown",e.bind(this._onKeyDown,this),n)},_onNodeChange:function(e){switch(e.changedType){case"backspace-up":case"backspace-down":case"delete-up":var t=this.get(r).getInstance(),n=e.changedNode,i=t.config.doc.createTextNode(" ");n.appendChild(i),n.removeChild(i)}},initializer:function(){var t=this.get(r);if(t.editorPara){e.error("Can not plug EditorBR and EditorPara at the same time.");return}t.after("ready",e.bind(this._afterEditorReady,this)),e.UA.gecko&&t.on("nodeChange",e.bind(this._onNodeChange,this))}},{NAME:"editorBR",NS:"editorBR",ATTRS:{host:{value:!1}}}),e.namespace("Plugin"),e.Plugin.EditorBR=n},"3.16.0",{requires:["editor-base"]});
YUI.add("mail-controller-html-processor",function(e){function t(){}e.mix(t.prototype,{_convertAmpersand:function(e){return e.replace(/&amp;/g,"&")},_addTrackingParams:function(e){var t=/^https?:\/\/[a-zA-Z]+\.yahoo\.*/,n=/^https?:\/\/.*\.yahoo\.co\.jp.*/,r=/^https?:\/\/[a-zA-Z]+\.tumblr\.*/,i=e.getDOMNode(),s,o,u,a;s=i.href,o=i.search;if(!n.test(s)&&(t.test(s)||r.test(s)))if(!o)s=i.origin+i.pathname+"?soc_src=mail&soc_trk=ma"+i.hash;else{o=o.substring(1),u=o.split("&"),o="";for(a=0;a<u.length;a++)u[a].indexOf("soc_src=")!==0&&u[a].indexOf("soc_trk=")!==0&&(o+=u[a]+"&");s=i.origin+i.pathname+"?"+o+"soc_src=mail&soc_trk=ma"+i.hash}return s},_processAnchors:function(e){var t=e.all("a"),n=this;return t.each(function(e){var t;try{t=e.get("href")}catch(r){t=""}typeof t=="string"&&(t=n._addTrackingParams(e),t=n._convertAmpersand(t),e.set("href",t))}),e},_insertEmptyLineBeforeQuotedText:function(t){var n=t.one(".yahoo_quoted"),r="qtdSeparateBR",i=r.length,s,o;n=n?n:t.one("div[class*='yqt']"),n&&(s=n.previous(function(e){return o=e.get("className"),o&&o.indexOf(r,o.length-i)!==-1}),!s&&n.insert(e.Node.create(e.ui.Templates._shared_module_compose_reply.forward_rich_body),"before"))},_expandQuotedText:function(e,t){var n,r,i;if(e.one(".yahoo_quoted")&&e.one(".yahoo_quoted").getStyle("display")!=="block"||t){n=e.one(".yahoo_quoted"),this._insertEmptyLineBeforeQuotedText(e),n&&n.setStyle("display","block");if(t)for(i=0;i<t.length;i++)r=e.one("."+t[i]+"yahoo_quoted"),r&&r.setStyle("display","block")}return e.get("innerHTML")},_removeControlCharacters:function(e){var t=e,n=/[\x01-\x08\x0B-\x0C\x0E-\x1F\x7F-\x84\x86-\x9F]/ig;return t=t.replace(n,""),t},_removeOriginalMessageDelimiter:function(e){var t=e;return t=t.replace("<!-- ORIGINAL -->",""),t},_removeCursor:function(e){var t=e;return t=t.replace(/<br\b([^>]*?)\bclass="yui-cursor"(.*?)>/ig,""),t},_removeParagraphTags:function(e){var t=e;return t=t.replace(/<p\b([^>]*)>/ig,"<div$1>"),t=t.replace(/<\/p\b[^>]*>/ig,"</div>"),t},_wrapWithUserFontInfo:function(e,t){var n=e;return n=["<html><body>",'<div style="color:',t.foreColor,"; background-color:",t.backColor,"; font-family:",t.fontFamily,";font-size:",t.fontSize,'">',n,"</div></body></html>"].join(""),n},process:function(t,n){var r=t,i=e.Node.create("<div>"+r+"</div>");return i=this._processAnchors(i),r=this._expandQuotedText(i,n),r=this._removeOriginalMessageDelimiter(r),r=this._removeControlCharacters(r),r=this._removeCursor(r),r=this._removeParagraphTags(r),r},wrap:function(e,t){return this._wrapWithUserFontInfo(e,t)}}),e.namespace("mail.Controller").HtmlProcessor=new t},"1.0.0",{requires:["_shared_module_compose_reply"]});
YUI.add("comms-intl-bidi",function(A){A.mix(A.namespace("Intl"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(B,C){if(B!==undefined){this._rtlChars=B;}if(C!==undefined){this._neutralChars=C;}this._initializeBidiPatterns();},detectDirection:function(C,B){if(this._rtlPattern.test(C)){return"rtl";}else{if(B==="ltr"){return"ltr";}else{if(this._neturalPattern.test(C)){if(B==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});A.Intl._initializeBidiPatterns();A.mix(A.namespace("Intl"),{bidiDirection:A.Intl.detectDirection});},"1.0.0");YUI.add("comms-node-setdir",function(B){var A={ltr:"rtl",rtl:"ltr"};B.Node.addMethod("setDirection",function(E,F){var D,C;if(F==="ltr"||F==="rtl"){D=B.one(E);C=D.getStyle("direction");D.setAttribute("dir",F);D.setStyle("direction","");D.removeClass(B.ClassNameManager.getClassName(A[F]));D.addClass(B.ClassNameManager.getClassName(F));if(F!==C){B.fire("directionChange",{target:D,dir:F});}}return D;});},"1.0.0",{requires:["classnamemanager","node-base","node-style"]});YUI.add("comms-bidi-textentry",function(B){function A(){A.superclass.constructor.apply(this,arguments);}A.NS="bidiTextEntry";A.NAME="bidiTextEntry";B.extend(A,B.Plugin.Base,{initializer:function(C){var E=this.get("host"),D;E.BIDI_DISABLED=false;E.PREVIOUS_DIRECTION=E.getStyle("direction");if(!E.PREVIOUS_DIRECTION){E.PREVIOUS_DIRECTION=E.getAttribute("dir");}E.DETECT_DEFAULT_DIRECTION=(C&&C.detect_default_direction===true);if(!E.DETECT_DEFAULT_DIRECTION){E.setDirection(E.PREVIOUS_DIRECTION);}else{D=B.Intl.detectDirection(E.get("value"));E.setDirection(D);E.PREVIOUS_DIRECTION=D;}this.afterHostEvent("valueChange",function(H){var G=this.get("host"),J,I=G.BIDI_DISABLED,F=G.PREVIOUS_DIRECTION,K;if(I){return;}K=G.getAttribute("dir");if(F!==K){G.BIDI_DISABLED=true;return;}J=B.Intl.detectDirection(H.newVal);if(J==="rtl"||J==="ltr"){G.PREVIOUS_DIRECTION=J;}G.setDirection(J);});}});B.namespace("Plugin");B.Plugin.BidiTextEntry=A;B.Plugin.BidiTextInput=A;},"1.0.0",{requires:["plugin","event-valuechange","comms-intl-bidi","comms-node-setdir"]});YUI.add("comms-editor-autobidi",function(D){var B=function(){B.superclass.constructor.apply(this,arguments);},A="host",C="text";D.extend(B,D.Base,{autoBidiOff:false,watchForAction:true,redetectDirection:false,disableAutoBidi:false,throttledFindEmptyParas:null,findEmptyParas:function(){var F=this.get(A).getInstance();if(F){var E=F.Selection.DEFAULT_BLOCK_TAG;if(F.all(E).size()===0){E=B.PARAGRAPHS;}F.all(E).each(function(H){var G=H.get(C);if(G===""||G===" "||G==="\u00A0"){H.setData(B.AUTO_BIDI,true);}});}},_onKeyDown:function(E){if(this.watchForAction&&!(E.crtlKey||E.metaKey)){this.throttledFindEmptyParas();this.watchForAction=false;}},autoBidi:function(J){var I,H,G,F,E;if(((J&&J.keyCode&&!B.NODETECT_KEYS[J.keyCode])||(J&&J.type&&J.type==="paste"))&&!this.autoBidiOff&&!this.disableAutoBidi){I=this.get(A).getInstance();E=I.Selection.DEFAULT_BLOCK_TAG;H=new I.Selection();G=H.anchorNode;if(G&&!(G.test(B.PARAGRAPHS))){G=G.ancestor(B.PARAGRAPHS);}if((G&&G.getData(B.AUTO_BIDI))||(G&&this.redetectDirection)){F=D.Intl.detectDirection(G.get(C));if(F){G.setAttribute("dir",F);G.setData(B.AUTO_BIDI,false);this.redetectDirection=false;}}}},_afterNodeChange:function(E){if(E.changedType==="mouseup"||(E.changedType==="keydown"&&(E.changedEvent.crtlKey||E.changedEvent.metaKey))){this.watchForAction=true;this.redetectDirection=true;}if(B.AFFECTING_EVENTS[E.changedType]){this.watchForAction=true;this.disableAutoBidi=false;}else{if(B.REDIRECTING_EVENTS[E.changedType]&&!this.disableAutoBidi){this.redetectDirection=true;}else{if(E.changedType!=="keydown"&&E.changedType!=="keyup"){D.later(50,this,this.autoBidi,E.changedEvent);}}}},_disableAutoBidi:function(){this.watchForAction=false;this.disableAutoBidi=true;},_turnAutoBidiOff:function(E){this.autoBidiOff=E.status;},initializer:function(){var E=this.get(A);E.on("ready",function(){E.after("nodeChange",D.bind(this._afterNodeChange,this));E.frame.on("dom:keydown",D.bind(this._onKeyDown,this));E.on("disableautobidi",D.bind(this._disableAutoBidi,this));E.on("turnautobidioff",D.bind(this._turnAutoBidiOff,this));this.throttledFindEmptyParas=D.throttle(D.bind(this.findEmptyParas,this),150);},this);}},{PARAGRAPHS:"P, DIV, UL, OL",AUTO_BIDI:"autobidi",AFFECTING_EVENTS:{"enter":true,"backspace":true,"delete":true},REDIRECTING_EVENTS:{"home":true,"left":true,"right":true},NODETECT_KEYS:{8:"backspace",9:"tab",13:"enter",16:"shift",18:"alt",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete"},NAME:"editorAutoBidi",NS:"editorAutoBidi",ATTRS:{host:{value:false}}});D.namespace("Plugin");D.Plugin.EditorAutoBidi=B;},"1.0.0",{requires:["editor-base","comms-intl-bidi"]});/*
YUI 3.16.0 (build 3.16.0-ym16)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-bidi",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="dir",s="nodeChange",o="bidiContextChange",u="style";e.extend(n,e.Base,{lastDirection:null,firstEvent:null,_checkForChange:function(){var e=this.get(r),t=e.getInstance(),i=new t.EditorSelection,s,u;i.isCollapsed?(s=n.blockParent(i.focusNode,!1,t.EditorSelection.ROOT),s&&(u=s.getStyle("direction"),u!==this.lastDirection&&(e.fire(o,{changedTo:u}),this.lastDirection=u))):(e.fire(o,{changedTo:"select"}),this.lastDirection=null)},_afterNodeChange:function(e){if(this.firstEvent||n.EVENTS[e.changedType])this._checkForChange(),this.firstEvent=!1},_afterMouseUp:function(){this._checkForChange(),this.firstEvent=!1},initializer:function(){var t=this.get(r);this.firstEvent=!0,t.after(s,e.bind(this._afterNodeChange,this)),t.after("dom:mouseup",e.bind(this._afterMouseUp,this))}},{EVENTS:{"backspace-up":!0,"pageup-up":!0,"pagedown-down":!0,"end-up":!0,"home-up":!0,"left-up":!0,"up-up":!0,"right-up":!0,"down-up":!0,"delete-up":!0},BLOCKS:e.EditorSelection.BLOCKS,DIV_WRAPPER:"<DIV></DIV>",blockParent:function(t,r,i){var s=t,o,u;return i=i||e.EditorSelection.ROOT,s||(s=i),s.test(n.BLOCKS)||(s=s.ancestor(n.BLOCKS)),r&&s.compareTo(i)&&(o=e.Node.create(n.DIV_WRAPPER),s.get("children").each(function(e,t){t===0?u=e:o.append(e)}),u.replace(o),o.prepend(u),s=o),s},_NODE_SELECTED:"bidiSelected",addParents:function(t,r){var i,s,o;tester=function(e){if(!e.getData(n._NODE_SELECTED))return o=!1,!0},r=r||e.EditorSelection.ROOT;for(i=0;i<t.length;i+=1)t[i].setData(n._NODE_SELECTED,!0);for(i=0;i<t.length;i+=1)s=t[i].get("parentNode"),!r.compareTo(s)&&!s.getData(n._NODE_SELECTED)&&(o=!0,s.get("children").some(tester),o&&(t.push(s),s.setData(n._NODE_SELECTED,!0)));for(i=0;i<t.length;i+=1)t[i].clearData(n._NODE_SELECTED);return t},NAME:"editorBidi",NS:"editorBidi",ATTRS:{host:{value:!1}},RE_TEXT_ALIGN:/text-align:\s*\w*\s*;/,removeTextAlign:function(e){return e&&(e.getAttribute(u).match(n.RE_TEXT_ALIGN)&&e.setAttribute(u,e.getAttribute(u).replace(n.RE_TEXT_ALIGN,"")),e.hasAttribute("align")&&e.removeAttribute("align")),e}}),e.namespace("Plugin"),e.Plugin.EditorBidi=n,e.Plugin.ExecCommand.COMMANDS.bidi=function(t,s){var o=this.getInstance(),u=new o.EditorSelection,a=this.get(r).get(r).editorBidi,f,l,c,h=o.EditorSelection.ROOT,p,d,v;if(!a){e.error("bidi execCommand is not available without the EditorBiDi plugin.");return}return o.EditorSelection.filterBlocks(),u.isCollapsed?(l=n.blockParent(u.anchorNode,!1,h),l||(l=h.one(o.EditorSelection.BLOCKS)),l=n.removeTextAlign(l),s||(v=l.getAttribute(i),!v||v==="ltr"?s="rtl":s="ltr"),l.setAttribute(i,s),e.UA.ie&&(c=l.all("br.yui-cursor"),c.size()===1&&l.get("childNodes").size()===1&&c.remove()),f=l):(p=u.getSelected(),d=[],p.each(function(e){d.push(n.blockParent(e,!1,h))}),d=o.all(n.addParents(d,h)),d.each(function(e){var t=s;e=n.removeTextAlign(e),t||(v=e.getAttribute(i),!v||v==="ltr"?t="rtl":t="ltr"),e.setAttribute(i,t)}),f=d),a._checkForChange(),f}},"3.16.0",{requires:["editor-base"]});
YUI.add("_shared_module_message_loading_error",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_loading_error={base:'<div id="loadingpane" class="msg-loadingpane"> {{loading_error}} {{diff_folder_error}} {{loading_error_else}}</div>',msg_deleted_error:'<div class="message"> {{str_msg_deleted_error}} </div> ',is_perm:"{{str_comp_loading_error_perm}} ",multi_retry:"{{str_comp_multi_retry}} ",multi_retry_else:"{{str_comp_loading_error}} ",is_perm_else:"{{multi_retry}} {{multi_retry_else}} ",can_retry:"<div class='message'> <span class='retry' data-action=\"retry-msg-load\">{{str_try_again}}</span> </div> ",show_tae:'<div class="message error_code">{{str_error_code}} {{tae_code}}</div>',msg_deleted_error_else:"<div class='message'> {{is_perm}} {{is_perm_else}} </div> {{can_retry}} {{show_tae}} ",loading_error:"{{msg_deleted_error}} {{msg_deleted_error_else}} ",diff_folder_error:"<div class='message'>{{str_error_msg_diff_folder_switch}}</div> ",loading_slow_else:'<div class="msg-loading s-loader"></div> ',loading_slow:"<div class='message'> {{str_comp_slow_loading}} </div> <div class='message'> <span class='retry' data-action=\"retry-msg-load\">{{str_try_again}}</span> </div> ",loading_error_else:"{{loading_slow_else}} {{loading_slow}} "};},"1.0.0");YUI.add("_shared_module_rte_well_content_attach_item",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_attach_item={base:"{{browser_plus_attach}}{{browser_plus_attach_else}}",transfer_error:"transfer-error",waiting:"in-queue ",image:'<div style="background-image:url({{thumbnailurl}});"></div> ',in_progress:'<div class="prog-indicator"> <div class="progress" style="width:{{progress}}%"></div> </div> ',browser_plus_attach:'<li role="presentation" class="attachmentVisible {{transfer_error}} {{waiting}} {{type}}"> <div class="file-container"> {{image}} <b/></b> </div> <span class="fname">{{filename}}</span> {{in_progress}}</li>',waiting1:"in-queue ",in_progress1:"downloading ",transfer_error1:"lozengeerror",transfer_warn:"lozengewarn",retry:'<span role="presentation" class="btn lozenge lozengeretry small hidden"><a role="presentation" tabindex="-1" title="{{str_btn_retry_file_attr}}">&nbsp;<b></b></a></span>',transfer_error2:"lozengeerror-remove",browser_plus_attach_else:'<li role="presentation" class="attachmentVisible {{waiting1}} {{in_progress1}} {{type}}"><div tabindex="-1" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="lozengeProgress"></div> <span role="presentation" class="btn lozenge {{transfer_error1}} left small"><a role="option" title="{{filesize}}" tabindex="-1" class="{{transfer_warn}}">{{filename}}</a></span>{{retry}}<span role="presentation" class="btn lozenge lozengeremove {{transfer_error2}} right small"><a role="presentation" tabindex="-1" title="{{str_btn_remove_file_attr}}">&nbsp;<b></b></a></span></li>'};},"1.0.0");YUI.add("_shared_module_rte_well_content_attachments_well_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_attachments_well_fresh={base:'<div tabindex="0" aria-label="{{str_aria_label_attachments}}" class="attachments-well {{page_compose_email_else}} {{browser_plus_attach_else}}"> <div class="attachments-welcome"> {{browser_plus_attach}} </div> <div class="attachments-header hidden"> <div class="error hidden"> <span>{{str_comp_attach_upload_error}}</span> <a role="button" href="#" class="dismiss">{{str_comp_attach_dismiss}}</a> </div> <div class="self-close-msg hidden"> <span></span> </div> <ul class="info hidden"> <li> <h3 id="total-attached"><span class="totalAttached">0</span> {{str_comp_attachments}}</h3> </li> <li> <a class="removeAll" role="button" href="#" aria-labelledby="total-attached" title="{{str_comp_attach_removeall}}">{{str_comp_attach_removeall}}</a> </li> </ul> </div> <ul role="list" aria-label="{{str_aria_label_image_attachments}}" aria-live="polite" class="thumbnails-attach"></ul> <ul role="list" aria-label="{{str_aria_label_file_attachments}}" aria-live="polite" class="file-attach hidden"> {{file_attach_files}} </ul> <div role="alert" class="error transfer-error hidden"> <span class="attachmenterror"> {{attachments_error}} </span> </div></div>',page_compose_email_else:"hidden",attached_files_else:"hidden",browser_plus_attach_else:"simple-upload {{attached_files_else}} ",browser_plus_attach:"<h2>{{str_rte_attachments_attach_files}}</h2> <h3>{{str_rte_attachments_drag_files}}</h3> ",file_attach_files:"{{_shared_module_rte_well_content_attach_item}} ",multiple_files_failed:"{{str_rte_attachments_error_mult}}",multiple_files_failed_else:"{{str_rte_attachments_error_single}}",attachments_error:"{{multiple_files_failed}} {{multiple_files_failed_else}} "}},"1.0.0",{requires:["_shared_module_rte_well_content_attach_item"]});
YUI.add("_shared_module_compose_message_body",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_message_body={base:'<div class="inner"> <label for="msg" class="offscreen">{{str_comp_messagebody}}</label> <div id="plaintext" class="cm-plaintext"> {{conversation_body_else}} </div> {{_shared_module_message_loading_error}} <div id="rtetext" class="cm-rtetext undoreset" role="document" aria-label="{{str_comp_messagebody}}" spellcheck="true" autocorrect="false" style="visibility:hidden;"> {{conversation_body}} </div> {{has_quote}} <div id="pastebuffer" style="display:none" contenteditable="false"></div> {{_shared_module_rte_well_content_attachments_well_fresh}} </div> ',conversation_body_else:'<textarea id="msg"></textarea> ',conversation_body:'<div class="msg"> {{conversation_body}} </div> ',has_quote:'<div class="compose-quoted-text unselectable hidden" contenteditable="false" onselectstart="return false;" title="{{str_qtd_expand}}"> <span class="icon icon-chevron-right qtd-expansion-icon unselectable" data-action="quoted-text"></span> <span tabindex="0" role="button" class="qtd-expansion-text unselectable" data-action="quoted-text">{{str_qtd_expand}}</span> </div> '}},"1.0.0",{requires:["_shared_module_message_loading_error","_shared_module_rte_well_content_attachments_well_fresh"]});
YUI.add("_shared_module_rte_well_content_attachments_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_attachments_fresh={base:'<div role="presentation" class="attachments-pane gwell rte-pane-fresh shaded" > <div role="group"> <form method="post" enctype="multipart/form-data" class="attachment-button-form" target="" action=""> <span class="icon icon-attachment attachment-button-attach" title="{{str_comp_attach_singular}}"> <input type="file" id="attachment-button-input" multiple="true" name="uploadfile" class="attachment-button-file" role="button" aria-label="{{str_comp_attach_singular}}" tabindex="0"/> </span> <span id="upload_file_selection" aria-hidden="true" class="hidden" title="{{str_comp_attach_singular}}"> <span id="uploader-v2"></span> </span> <span id="attach-btn-menu" aria-hidden="true" class="hidden icon icon-chevron-down attach-btn-menu" title="{{str_comp_attach_menu_title_fresh}}" data-action="menu"></span> </form> <span class="btn left right menu attachment-button-disabled hidden"> <a role="button" href="#" tabindex="-1" >{{str_comp_attach}}</a> </span> <span role="alert" class="switch-to-basic-link hidden"> {{str_rte_attachments_basic_message}} <a role="button" href="#">{{str_rte_attachments_basic_link_text}}</a>. </span> </div></div>'}},"1.0.0");
YUI.add("_shared_module_rte_well_content_format_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_format_fresh={base:'<div role="presentation" class="rte-pane-fresh format-pane gwell shaded"> <div role="group" class="format-inner"> <span id="btn-fontnamesize" class="icon icon-choose-font" data-action="menu" tabindex="-1" role="button" title="{{str_comp_font_menu_attr_fresh}}"> </span> <span data-action="bold" class="icon icon-bold" tabindex="-1" role="button" title="{{str_rte_bold_attr}}" > </span> <span data-action="italic" tabindex="-1" role="button" class="icon icon-italic" title="{{str_rte_italic_attr_fresh}}"> </span> {{is_underline}} <span id="btn-forecolor" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" aria-label="{{str_rte_color_attr_fresh}}" class="icon icon-text-highlight" title="{{str_rte_color_attr_fresh}}"></span> <span id="btn-insertunordered" data-action="menu" tabindex="-1" role="button" class="icon icon-list-bullets" title="{{str_rte_list_menu_attr_fresh}}"></span> <span id="btn-indent" data-action="menu" tabindex="-1" role="button" class="icon icon-indent" title="{{str_rte_indentation_menu_attr_fresh}}"></span> <span id="btn-text-align" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-align-left" title="{{str_rte_text_alignment_menu_attr_fresh}}"></span> {{bidi}} <span data-action="insertlink" tabindex="-1" role="button" class="icon icon-link" title="{{str_rte_link_attr_fresh}}"> </span> <span id="emoticon" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-emoticons" title="{{str_comp_emoticons}}"> </span> <span class="om-buttons"></span> {{spellCheckEnabled}} <span id="switchtext-plain" class="switchtext btn-isPlain last icon icon-chevron-double-right" tabindex="-1" role="button" title="{{str_rte_richtext}}" target="plain-text"> </span> <span id="switchtext-rich" class="switchtext btn-isRich last hidden icon icon-chevron-double-left" role="button" title="{{str_rte_plaintext}}" target="rich-text"> </span> </div> </div> ',is_underline:'<span data-action="underline" tabindex="-1" role="button" class="icon icon-underline" title="{{str_rte_underline_attr}}"> </span> ',is_rtl:'<span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> ',is_rtl_else:'<span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> ',bidi:"{{is_rtl}} {{is_rtl_else}} ",spellCheckEnabled:'<span id="btn-spellchk" data-action="spellcheck" tabindex="-1" role="button" class="icon icon-check-spelling" title="{{str_rte_check_spelling_attr_fresh}}"> </span> <span id="btn-spell-langs" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" title="{{str_toolbar_spelling_menu_toggle_attr_fresh}}" class="icon icon-chevron-down"> </span> '};},"1.0.0");YUI.add("_shared_module_rte_well_content_format_pop_out",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_format_pop_out={base:'<div role="presentation" class="rte-pane-fresh format-pane gwell shaded"><div role="group" class="format-popout"> <a role="presentation" tabindex="-1" class="tool format-tool" href="#"> <span class="format-popout-icon tool-icon" tabindex="-1" role="button" aria-haspopup="true" title="{{str_rte_formating_options}}">Aa</span> <div class="format-popout popout"> <div class="popout-inner"> <span id="btn-fontnamesize" class="icon icon-choose-font" data-action="menu" tabindex="-1" role="button" title="{{str_comp_font_menu_attr_fresh}}"> </span> <span data-action="bold" class="icon icon-bold" tabindex="-1" role="button" title="{{str_rte_bold_attr}}" > </span> <span data-action="italic" tabindex="-1" role="button" class="icon icon-italic" title="{{str_rte_italic_attr_fresh}}"> </span> {{is_underline}} <span id="btn-forecolor" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" aria-label="{{str_rte_color_attr_fresh}}" class="icon icon-text-highlight" title="{{str_rte_color_attr_fresh}}"> </span> <span class="seperator"></span> <span data-action="insertunorderedlist" class="icon icon-list-bullets" title="{{str_rte_bullet_list_attr}}" role="button" > </span> <span data-action="insertorderedlist" class="icon icon-list-numbers" title="{{str_rte_numbered_list_attr}}" role="button" > </span> <span class="seperator"></span> <span data-action="indent" class="icon icon-indent" title="{{str_menu_indent}}" role="button" > </span> <span data-action="outdent" class="icon icon-outdent" title="{{str_menu_outdent}}" role="button"> </span> <span class="seperator"></span> <span data-action="align-l" class="icon icon-align-left" title="{{str_rte_align_l}}" role="button"> </span> <span data-action="align-c" class="icon icon-align-center" title="{{str_rte_align_c}}" role="button"> </span> <span data-action="align-r" class="icon icon-align-right" title="{{str_rte_align_r}}" role="button"> </span> {{bidi}} </div> </div> <div class="notch border-notch"></div> <div class="notch"></div> </a> <span data-action="insertlink" tabindex="-1" role="button" class="icon icon-link" title="{{str_rte_link_attr_fresh}}"> </span> <span id="emoticon" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-emoticons" title="{{str_comp_emoticons}}"> </span> {{spellCheckEnabled}} <span id="switchtext-plain" class="switchtext btn-isPlain last icon icon-chevron-double-right" tabindex="-1" role="button" title="{{str_rte_richtext}}" target="plain-text"> </span> <span id="switchtext-rich" class="switchtext btn-isRich last hidden icon icon-chevron-double-left" role="button" title="{{str_rte_plaintext}}" target="rich-text"> </span></div></div>',is_underline:'<span data-action="underline" tabindex="-1" role="button" class="icon icon-underline" title="{{str_rte_underline_attr}}"> </span> ',is_rtl:'<span class="seperator"></span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> ',is_rtl_else:'<span class="seperator"></span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> ',bidi:"{{is_rtl}} {{is_rtl_else}} ",spellCheckEnabled:'<span id="btn-spellchk" data-action="spellcheck" tabindex="-1" role="button" class="icon icon-check-spelling" title="{{str_rte_check_spelling_attr_fresh}}"> </span> <span id="btn-spell-langs" data-action="menu" tabindex="-1" role="button" aria-haspopup="true" title="{{str_toolbar_spelling_menu_toggle_attr_fresh}}" class="icon icon-chevron-down"> </span> '}},"1.0.0");
YUI.add("_shared_module_ca_openhide",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_ca_openhide={base:"<div class='ca-showhide-ctrl' aria-hidden=\"true\"> <button class='btn-ca-showhide icon icon-add ca-content-visible'></button></div>"}},"1.0.0");
YUI.add("_shared_module_rte_well_fresh_conv",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_fresh_conv={base:'<div class="rte-well-container" role="toolbar">{{show_attachment_icon}}{{show_formatter_well}}{{show_popout_toolbar}}</div>{{ca_icon}}',show_attachment_icon:"{{_shared_module_rte_well_content_attachments_fresh}}",show_formatter_well:"{{_shared_module_rte_well_content_format_fresh}}",show_popout_toolbar:"{{_shared_module_rte_well_content_format_pop_out}}",ca_icon:"{{_shared_module_ca_openhide}}"}},"1.0.0",{requires:["_shared_module_rte_well_content_attachments_fresh","_shared_module_rte_well_content_format_fresh","_shared_module_rte_well_content_format_pop_out","_shared_module_ca_openhide"]});
YUI.add("_shared_module_compose_fresh_conv",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_fresh_conv={base:'<div tabindex="0" role="widget" aria-label="{{str_btn_compose_email}}" class="compose {{smartscroll}} {{ca_active}}"><div class = "composeshim hidden"></div><table border="0" style="margin:0;width:100%;border-spacing:0; border-collapse:collapse;table-layout:fixed"> <tbody role="presentation"> <tr role="presentation"> <td role="presentation"> {{_shared_module_compose_message_header_fresh}} </td> </tr> <tr role="presentation"> <td role="presentation"> <div class="compose-message {{page_well_is_open}}">{{_shared_module_compose_message_body}}</div> </td> </tr> <tr role="presentation"> <td role="presentation" class="footer-separator"> <div role="alert" tabindex="0" aria-labelledby="notification" class="bottomNotification"> <span class="s-loader"></span> <span class="notification">{{str_comp_sending}}</span> </div> <div class="bottomToolbar"> <span class="btn default" data-action="send" role="button"> <a tabindex="0" href="#" role="button" title="{{str_comp_send_attr}}">{{str_comp_send}}</a> </span> {{show_autocompose_well}} {{_shared_module_rte_well_fresh_conv}} {{show_delete_draft_icon}} <span class="save-draft-msg hidden" tabindex="0" role="note" data-action="savedraft">{{lastsaved}}</span> <span id="enhancr-spinner" class="hidden"></span> </div> </td> </tr> </tbody></table></div>{{inConvReplyBucketBorder}}',smartscroll:"smartscroll",ca_active:"ca-active",page_well_is_open:"rich-text ",show_autocompose_well:'<span class="autocompose-well"> <span class="btn left btn-secondary" title="Autocompose" data-action="randomize"> <i class="icon {{icon}}" style="color: {{icon_color}}"></i> Autocompose </span><span class="btn right btn-secondary" data-action="menu"><i class="icon icon-chevron-down"></i></span> </span> ',show_delete_draft_icon:'<span id="btn-draft-delete" class="draft-delete-btn icon icon-delete" data-action="delete" role="button" title="{{str_delete_draft}}"></span> ',lastsaved:"{{str_comp_autosave}}",inConvReplyBucketBorder:'<div class="focusBorderDiv"></div>'}},"1.0.0",{requires:["_shared_module_compose_message_header_fresh","_shared_module_compose_message_body","_shared_module_rte_well_fresh_conv"]});
YUI.add("_shared_module_toolbar_compose_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_toolbar_compose_fresh={base:'<div id="pagetoolbar" class="{{msgliststate}}"> <a class="btn" href="#" data-action="send" title="{{str_comp_send_attr}}">{{str_comp_send}}</a> <a class="btn btn-cancel-compose" href="#" data-action="cancelcompose" title="{{str_comp_cancel_attr}}">{{str_comp_cancel}}</a> <a class="btn savedraft {{isDirty}}" href="#" data-action="savedraft" title="{{str_comp_savedraft_attr}}">{{str_comp_savedraft}}</a></div>',isDirty:"disabled"};},"1.0.0");YUI.add("_shared_module_compose_loading",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_loading={base:'<div id="loadingpane" class="cm-loadingpane"> {{start}} {{slow}} {{error}} {{populate}}</div>',start:"<h2>{{str_comp_loading}}</h2> ",slow:'<h2>{{str_comp_loadslow}} <span class="btn left right small"><a href="#" class="retryOrigin">{{str_comp_loadretry}}</a></span></h2> ',can_retry:'<span class="btn left right small"><a href="#" class="retryOrigin">{{str_comp_loadretry}}</a></span> ',error:"<h2>{{str_comp_loaderr}} {{can_retry}} </h2> ",populate:"<h2>{{str_comp_loadpopulate}}</h2> "};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_spellcheck",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_spellcheck={base:'<div id="menu-spellcheck" class="optionMenu"> <ul> {{word_suggestions}} </ul> <ul> <li><a href="#" data-action="spellcheck-ignore-all" title="{{str_comp_ignore_all_attr}}"><span>{{str_comp_ignore_all}}</span></a></li> </ul></div>',word_suggestions:'<li><a href="#" data-action="spellcheck-replace"><span>{{word_suggestion}}</span></a></li> '};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_modal_cancel_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_modal_cancel_compose={base:'<div id="modal-cancel-compose" class="modal lg"> <h2 class="modal-hd"> {{str_comp_close}} {{_shared_module_offscreen_bin_modal_close_icon}} </h2> <div class="modal-bd"> <span>{{str_comp_close_confirm}}</span> </div> <div class="modal-ft"> {{url}} </div></div>',url:'<span class="btn left right default"><a href="{{url_minty_drafts}}">{{str_comp_savetodrafts}}</a></span><span class="btn left right"><a href="{{url_minty_inbox}}">{{str_comp_abandon}}</a></span><span class="btn left right"><a href="modal-cancel-compose.mu#">{{str_comp_keepwriting}}</a></span> '};},"1.0.0",{requires:["_shared_module_offscreen_bin_modal_close_icon"]});YUI.add("_shared_module_rte_well_content_emoticons_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_emoticons_fresh={base:'<div role="tabpanel" class="emoticons-pane optionMenu" id="menu-emoticon"> <ul role="toolbar"> <li role="button" data-value="emoticon_1*{{str_emoticon_happy}}" data-action="emoticon" class="emoticon_1" title="{{str_emoticon_happy}}" tabindex="0"><a></a></li> <li role="button" data-value="emoticon_2*{{str_emoticon_sad}}" data-action="emoticon" class="emoticon_2" title="{{str_emoticon_sad}}"><a></a></li> <li role="button" data-value="emoticon_3*{{str_emoticon_winking}}" data-action="emoticon" class="emoticon_3" title="{{str_emoticon_winking}}"><a></a></li> <li role="button" data-value="emoticon_4*{{str_emoticon_confused}}" data-action="emoticon" class="emoticon_4" title="{{str_emoticon_confused}}"><a></a></li> <li role="button" data-value="emoticon_5*{{str_emoticon_lovestruck}}" data-action="emoticon" class="emoticon_5" title="{{str_emoticon_lovestruck}}"><a></a></li> <li role="button" data-value="emoticon_6*{{str_emoticon_blushing}}" data-action="emoticon" class="emoticon_6" title="{{str_emoticon_blushing}}"><a></a></li> <li role="button" data-value="emoticon_7*{{str_emoticon_tongue}}" data-action="emoticon" class="emoticon_7" title="{{str_emoticon_tongue}}"><a></a></li> <li role="button" data-value="emoticon_8*{{str_emoticon_kiss}}" data-action="emoticon" class="emoticon_8" title="{{str_emoticon_kiss}}"><a></a></li> <li role="button" data-value="emoticon_9*{{str_emoticon_broken_heart}}" data-action="emoticon" class="emoticon_9" title="{{str_emoticon_broken_heart}}"><a></a></li> <li role="button" data-value="emoticon_10*{{str_emoticon_sigh}}" data-action="emoticon" class="emoticon_10" title="{{str_emoticon_sigh}}"><a></a></li> <li role="button" data-value="emoticon_11*{{str_emoticon_wits_end}}" data-action="emoticon" class="emoticon_11" title="{{str_emoticon_wits_end}}"><a></a></li> <li role="button" data-value="emoticon_12*{{str_emoticon_surprise}}" data-action="emoticon" class="emoticon_12" title="{{str_emoticon_surprise}}"><a></a></li> <li role="button" data-value="emoticon_13*{{str_emoticon_angry}}" data-action="emoticon" class="emoticon_13" title="{{str_emoticon_angry}}"><a></a></li> <li role="button" data-value="emoticon_14*{{str_emoticon_cool}}" data-action="emoticon" class="emoticon_14" title="{{str_emoticon_cool}}"><a></a></li> <li role="button" data-value="emoticon_15*{{str_emoticon_devil}}" data-action="emoticon" class="emoticon_15" title="{{str_emoticon_devil}}"><a></a></li> <li role="button" data-value="emoticon_16*{{str_emoticon_crying}}" data-action="emoticon" class="emoticon_16" title="{{str_emoticon_crying}}"><a></a></li> <li role="button" data-value="emoticon_17*{{str_emoticon_straight_face}}" data-action="emoticon" class="emoticon_17" title="{{str_emoticon_straight_face}}"><a></a></li> <li role="button" data-value="emoticon_18*{{str_emoticon_raised_eyebrows}}" data-action="emoticon" class="emoticon_18" title="{{str_emoticon_raised_eyebrows}}"><a></a></li> <li role="button" data-value="emoticon_19*{{str_emoticon_angel}}" data-action="emoticon" class="emoticon_19" title="{{str_emoticon_angel}}"><a></a></li> <li role="button" data-value="emoticon_20*{{str_emoticon_nerd}}" data-action="emoticon" class="emoticon_20" title="{{str_emoticon_nerd}}"><a></a></li> <li role="button" data-value="emoticon_21*{{str_emoticon_phbbbbt}}" data-action="emoticon" class="emoticon_21" title="{{str_emoticon_phbbbbt}}"><a></a></li> <li role="button" data-value="emoticon_22*{{str_emoticon_wave}}" data-action="emoticon" class="emoticon_22" title="{{str_emoticon_wave}}"><a></a></li> <li role="button" data-value="emoticon_23*{{str_emoticon_rolling_eyes}}" data-action="emoticon" class="emoticon_23" title="{{str_emoticon_rolling_eyes}}"><a></a></li> <li role="button" data-value="emoticon_24*{{str_emoticon_sick}}" data-action="emoticon" class="emoticon_24" title="{{str_emoticon_sick}}"><a></a></li> <li role="button" data-value="emoticon_25*{{str_emoticon_shh}}" data-action="emoticon" class="emoticon_25" title="{{str_emoticon_shh}}"><a></a></li> <li role="button" data-value="emoticon_26*{{str_emoticon_party}}" data-action="emoticon" class="emoticon_26" title="{{str_emoticon_party}}"><a></a></li> <li role="button" data-value="emoticon_27*{{str_emoticon_yawn}}" data-action="emoticon" class="emoticon_27" title="{{str_emoticon_yawn}}"><a></a></li> <li role="button" data-value="emoticon_28*{{str_emoticon_thinking}}" data-action="emoticon" class="emoticon_28" title="{{str_emoticon_thinking}}"><a></a></li> <li role="button" data-value="emoticon_29*{{str_emoticon_laughing}}" data-action="emoticon" class="emoticon_29" title="{{str_emoticon_laughing}}"><a></a></li> <li role="button" data-value="emoticon_30*{{str_emoticon_rofl}}" data-action="emoticon" class="emoticon_30" title="{{str_emoticon_rofl}}"><a></a></li> <li role="button" data-value="emoticon_31*{{str_emoticon_big_grin}}" data-action="emoticon" class="emoticon_31" title="{{str_emoticon_big_grin}}"><a></a></li> <li role="button" data-value="emoticon_32*{{str_emoticon_cowboy}}" data-action="emoticon" class="emoticon_32" title="{{str_emoticon_cowboy}}"><a></a></li> <li role="button" data-value="emoticon_33*{{str_emoticon_wasnt_me}}" data-action="emoticon" class="emoticon_33" title="{{str_emoticon_wasnt_me}}"><a></a></li> <li role="button" data-value="emoticon_34*{{str_emoticon_batting_eyelashes}}" data-action="emoticon" class="emoticon_34" title="{{str_emoticon_batting_eyelashes}}"><a></a></li> <li role="button" data-value="emoticon_35*{{str_emoticon_big_hug}}" data-action="emoticon" class="emoticon_35" title="{{str_emoticon_big_hug}}"><a></a></li> <li role="button" data-value="emoticon_36*{{str_emoticon_smug}}" data-action="emoticon" class="emoticon_36" title="{{str_emoticon_smug}}"><a></a></li> <li role="button" data-value="emoticon_37*{{str_emoticon_worried}}" data-action="emoticon" class="emoticon_37" title="{{str_emoticon_worried}}"><a></a></li> <li role="button" data-value="emoticon_38*{{str_emoticon_whew}}" data-action="emoticon" class="emoticon_38" title="{{str_emoticon_whew}}"><a></a></li> <li role="button" data-value="emoticon_39*{{str_emoticon_talk_to_the_hand}}" data-action="emoticon" class="emoticon_39" title="{{str_emoticon_talk_to_the_hand}}"><a></a></li> <li role="button" data-value="emoticon_40*{{str_emoticon_sleepy}}" data-action="emoticon" class="emoticon_40" title="{{str_emoticon_sleepy}}"><a></a></li> <li role="button" data-value="emoticon_41*{{str_emoticon_loser}}" data-action="emoticon" class="emoticon_41" title="{{str_emoticon_loser}}"><a></a></li> <li role="button" data-value="emoticon_42*{{str_emoticon_not_talking}}" data-action="emoticon" class="emoticon_42" title="{{str_emoticon_not_talking}}"><a></a></li> <li role="button" data-value="emoticon_43*{{str_emoticon_on_the_phone}}" data-action="emoticon" class="emoticon_43" title="{{str_emoticon_on_the_phone}}"><a></a></li> <li role="button" data-value="emoticon_44*{{str_emoticon_daydreaming}}" data-action="emoticon" class="emoticon_44" title="{{str_emoticon_daydreaming}}"><a></a></li> <li role="button" data-value="emoticon_45*{{str_emoticon_clown}}" data-action="emoticon" class="emoticon_45" title="{{str_emoticon_clown}}"><a></a></li> <li role="button" data-value="emoticon_46*{{str_emoticon_silly}}" data-action="emoticon" class="emoticon_46" title="{{str_emoticon_silly}}"><a></a></li> <li role="button" data-value="emoticon_47*{{str_emoticon_drooling}}" data-action="emoticon" class="emoticon_47" title="{{str_emoticon_drooling}}"><a></a></li> <li role="button" data-value="emoticon_48*{{str_emoticon_doh}}" data-action="emoticon" class="emoticon_48" title="{{str_emoticon_doh}}"><a></a></li> <li role="button" data-value="emoticon_49*{{str_emoticon_applause}}" data-action="emoticon" class="emoticon_49" title="{{str_emoticon_applause}}"><a></a></li> <li role="button" data-value="emoticon_50*{{str_emoticon_nail_biting}}" data-action="emoticon" class="emoticon_50" title="{{str_emoticon_nail_biting}}"><a></a></li> <li role="button" data-value="emoticon_51*{{str_emoticon_hypnotized}}" data-action="emoticon" class="emoticon_51" title="{{str_emoticon_hypnotized}}"><a></a></li> <li role="button" data-value="emoticon_52*{{str_emoticon_liar}}" data-action="emoticon" class="emoticon_52" title="{{str_emoticon_liar}}"><a></a></li> <li role="button" data-value="emoticon_53*{{str_emoticon_waiting}}" data-action="emoticon" class="emoticon_53" title="{{str_emoticon_waiting}}"><a></a></li> <li role="button" data-value="emoticon_54*{{str_emoticon_call_me}}" data-action="emoticon" class="emoticon_54" title="{{str_emoticon_call_me}}"><a></a></li> <li role="button" data-value="emoticon_57*{{str_emoticon_cheer}}" data-action="emoticon" class="emoticon_57" title="{{str_emoticon_cheer}}"><a></a></li> <li role="button" data-value="emoticon_58*{{str_emoticon_dizzy}}" data-action="emoticon" class="emoticon_58" title="{{str_emoticon_dizzy}}"><a></a></li> <li role="button" data-value="emoticon_59*{{str_emoticon_cook}}" data-action="emoticon" class="emoticon_59" title="{{str_emoticon_cook}}"><a></a></li> <li role="button" data-value="emoticon_60*{{str_emoticon_eat}}" data-action="emoticon" class="emoticon_60" title="{{str_emoticon_eat}}"><a></a></li> <li role="button" data-value="emoticon_61*{{str_emoticon_give_up}}" data-action="emoticon" class="emoticon_61" title="{{str_emoticon_give_up}}"><a></a></li> <li role="button" data-value="emoticon_62*{{str_emoticon_cold}}" data-action="emoticon" class="emoticon_62" title="{{str_emoticon_cold}}"><a></a></li> <li role="button" data-value="emoticon_63*{{str_emoticon_hot}}" data-action="emoticon" class="emoticon_63" title="{{str_emoticon_hot}}"><a></a></li> <li role="button" data-value="emoticon_64*{{str_emoticon_music}}" data-action="emoticon" class="emoticon_64" title="{{str_emoticon_music}}"><a></a></li> <li role="button" data-value="emoticon_65*{{str_emoticon_puke}}" data-action="emoticon" class="emoticon_65" title="{{str_emoticon_puke}}"><a></a></li> <li role="button" data-value="emoticon_66*{{str_emoticon_sing}}" data-action="emoticon" class="emoticon_66" title="{{str_emoticon_sing}}"><a></a></li> <li role="button" data-value="emoticon_67*{{str_emoticon_catch}}" data-action="emoticon" class="emoticon_67" title="{{str_emoticon_catch}}"><a></a></li> <li role="button" data-value="emoticon_68*{{str_emoticon_exercise}}" data-action="emoticon" class="emoticon_68" title="{{str_emoticon_exercise}}"><a></a></li> <li role="button" data-value="emoticon_69*{{str_emoticon_high_five}}" data-action="emoticon" class="emoticon_69" title="{{str_emoticon_high_five}}"><a></a></li> <li role="button" data-value="emoticon_70*{{str_emoticon_play_game}}" data-action="emoticon" class="emoticon_70" title="{{str_emoticon_play_game}}"><a></a></li> <li role="button" data-value="emoticon_71*{{str_emoticon_search_me}}" data-action="emoticon" class="emoticon_71" title="{{str_emoticon_search_me}}"><a></a></li> <li role="button" data-value="emoticon_72*{{str_emoticon_spooky}}" data-action="emoticon" class="emoticon_72" title="{{str_emoticon_spooky}}"><a></a></li> <li role="button" data-value="emoticon_73*{{str_emoticon_studying}}" data-action="emoticon" class="emoticon_73" title="{{str_emoticon_studying}}"><a></a></li> <li role="button" data-value="emoticon_74*{{str_emoticon_tv}}" data-action="emoticon" class="emoticon_74" title="{{str_emoticon_tv}}"><a></a></li> <li role="button" data-value="emoticon_75*{{str_emoticon_gift}}" data-action="emoticon" class="emoticon_75" title="{{str_emoticon_gift}}"><a></a></li> <li role="button" data-value="emoticon_76*{{str_emoticon_unlucky}}" data-action="emoticon" class="emoticon_76" title="{{str_emoticon_unlucky}}"><a></a></li> <li role="button" data-value="emoticon_77*{{str_emoticon_down_on_luck}}" data-action="emoticon" class="emoticon_77" title="{{str_emoticon_down_on_luck}}"><a></a></li> <li role="button" data-value="emoticon_78*{{str_emoticon_fight}}" data-action="emoticon" class="emoticon_78" title="{{str_emoticon_fight}}"><a></a></li> </ul></div>'};
},"1.0.0");YUI.add("_shared_module_rte_well_content_fontnamesize_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_fontnamesize_fresh={base:'<div id="menu-fontnamesize" class="optionMenu rte-menu multicol"> <div id="menu-fontname" class="menu-group column"> <ul> {{intl_fonts}} <li data-action="fontname" data-value="{{str_rte_font_arial_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_arial_attr}};">{{str_rte_font_modern}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_verdana_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_verdana_attr}};">{{str_rte_font_modernwide}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_times_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_times_attr}};">{{str_rte_font_classic}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_bookman_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_bookman_attr}};">{{str_rte_font_classicwide}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_courier_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_courier_attr}};">{{str_rte_font_courier}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_garamond_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_garamond_attr}};">{{str_rte_font_garamond}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_lucida_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_lucida_attr}};">{{str_rte_font_lucida}}</span></a></li> </ul> </div> <div id="menu-fontsize" class="menu-group column"> <ul class="varht"> <li data-action="fontsize" data-value="1"><i class="icon"></i><a href="#"><span style="font-size:10px;">{{str_rte_font_size_xxsmall}}</span></a></li> <li data-action="fontsize" data-value="2"><i class="icon"></i><a href="#"><span style="font-size:13px;">{{str_rte_font_size_small}}</span></a></li> <li data-action="fontsize" data-value="3"><i class="icon"></i><a href="#"><span style="font-size:16px;">{{str_rte_font_size_medium}}</span></a></li> <li data-action="fontsize" data-value="5"><i class="icon"></i><a href="#"><span style="font-size:24px;">{{str_rte_font_size_large}}</span></a></li> <li data-action="fontsize" data-value="6"><i class="icon"></i><a href="#"><span style="font-size:32px;">{{str_rte_font_size_xlarge}}</span></a></li> <li data-action="fontsize" data-value="7"><i class="icon"></i><a href="#"><span style="font-size:48px;">{{str_rte_font_size_xxlarge}}</span></a></li> </ul> </div></div> ',intl_fonts:'<li data-action="fontname" data-value="{{font_value}}"><i class="icon"></i><a href="#"><span style="font-family: {{font_value}};">{{font_name}}</span></a></li> '};},"1.0.0");