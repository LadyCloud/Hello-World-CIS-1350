YUI.add("mail-ui-workspace-ext",function(A){A.mix(A.mail.ui.Workspace,{_isComposeSaved:function(B){var E=this,D=function(){if(E.getComposeDirtyCount(1,D)===0){B&&B();}},C=this.getComposeDirtyCount(1,D);if(C!==0){return 0;}else{return 1;}},_switchDensity:function(H){var E=A.common.persist.UserData,C="userUIPref.msgListDensity",F=A.one("#msg-list"),G=A.all(".result.content"),B={"ml-regular":0,"ml-compact":1,"ml-open":2},I=H.density,D,J="";if(I){I=I.replace(/density/,"ml");if(F){for(D in B){if(F.hasClass(D)){J=D;break;}}A.Lang.later(0,0,function(){F.replaceClass(J,I);if(NeoConfig.timeChunk){A.fire("updateDensity");}});E.set(C,B[I]||0);E.saveOne(C);A.fire("messageDensityChange",{density:B[I]});}if(G){A.Lang.later(0,0,function(){G.replaceClass(J,I);});}}},setUdbKey:function(C,B){var H,D,G=document.location,F=A.common.net.SessionMgr,E=G.protocol+"//"+G.host+"/neo/mailoptions?storm=1";D='{"method":"SetUDBData","prefs":'+A.JSON.stringify(C)+"}";H={success:function(I){if(B&&B.success){B.success(I);}},failure:function(I){if(B&&B.failure){B.failure(I);}},suppressCodes:["*"]};F.request(E,D,H,"POST",null,true);},_setupNavigationSwitchForNav:function(H,G){var B=A.one("body"),E=H.type,D,F,C={"notepad":true,"calendar":true,"contacts":true,"searchNav":true,"empty-search":true,"newsfeed":true};if(C[E]){A.one("body").setAttribute("data-open",H.type);}else{A.one("body").removeAttribute("data-open");}A.fire("ToolTips:hideTooltips");}},1);},"1.0.0",{requires:["mail-ui-workspace-base"]});