"use strict";YUI.add("tictac-base",function(a){function b(){var b=!0;try{/[\&|\?]dev=1/.test(window.location.href)&&(b=!1)}catch(c){a.Tictac.base.utils.log("tictac-base caught exception setting combo looking for dev=1:",c)}return b}function c(){return a.config.groups.tictacs.base}function d(){var b=a.config.groups.tictacs.base,c=b.split("/"),d=c[c.length-1],e=b.replace(d,"zz")+"/combo?";return e}function e(){var b=a.config.groups.tictacs.base,c=b.split("/"),d=c[c.length-1];return d}function f(b,d,e){var f=c(),g=a.config.groups.tictacs.modules,h=g[d||"tictac-base"].path.split("/",3).join("/");return"/"!==b.substring(0,1)&&(h+="/"),e?f+h+b:h+b}function g(a){var b,c,d,e,f=!(NeoConfig.isAMT||NeoConfig.isInternal),g=window.location.search.substring(1).split("&"),h={},i=/[\&|\?]dev=1/.test(window.location.href)?"debug":"min";for(d=0,e=g.length;e>d;d++)c=g[d].split("="),2===c.length&&(f?(c[0]===a+"raw"||c[0]===a+"debug"||c[0]===a+"perf")&&(h[c[0]]=c[1]):h[c[0]]=c[1]);return b=!!h[a+"perf"],i=b?"min":i,h[a+"raw"]?i="raw":h[a+"debug"]?i="debug":h[a+"min"]&&(i="min"),{enablePerf:b,filter:i,urlParams:h}}function h(f,g){g="undefined"==typeof g?b():g&&b();var h={combine:g,groups:{tictacs:{combine:g,comboBase:d(),base:c(),root:e(),modules:f}}};window.YUI_config=a.mix(window.YUI_config||{},h,!0,null,0,!0)}function i(f,g,h){h="undefined"==typeof h?b():h&&b();var i={combine:h,groups:{}};g.combine=h,g.comboBase=d(),g.base=c(),g.root=e(),i.groups[f]=g,window.YUI_config=a.mix(window.YUI_config||{},i,!0,null,0,!0)}function j(f,g,h){h="undefined"==typeof h?b():h&&b();var i={combine:h,groups:{}};g.combine=h,g.comboBase=d(),g.base=c(),g.root=e(),i.groups[f]=g,a.applyConfig(i)}function k(a){return m?a.replace(/\.css$/,"_bidi.css"):a}a.namespace("Tictac.base").loader=function(){};var l=window.NeoConfig&&window.NeoConfig.lang.substring(0,2),m="ar"===l||"he"===l||"ur"===l,n=g("base"),o=f("css/");i("tictacs",{filter:n.filter,modules:{"tictac-base-formatter":{path:f("js/formatter-min.js")},"tictac-base-utils":{path:f("js/utils-min.js"),requires:["tictac-base-formatter","json","tictac-base-strings"]},"tictac-base-ywa":{path:f("js/ywa-min.js")},"tictac-base-stats":{path:f("js/stats-min.js"),requires:["tictac-base-ywa","ymma-stats","json-stringify"]},"tictac-base-strings":{path:f("js/strings/lang_"+window.NeoConfig.lang+"-min.js")},"tictac-base-rollups":{path:f("js/tictac-base-rollups_"+window.NeoConfig.lang+"-min.js"),requires:["handlebars-base"]},"tictac-base-mailutils":{path:f("js/mailutils-min.js"),requires:["tictac-base-strings","json-parse"]},"tictac-base-viewutils":{path:f("js/viewutils-min.js"),requires:["tictac-base-rollups","tictac-base-strings","comms-bidi-textentry","comms-intl-bidi","base-view-css"]},"tictac-base-view":{path:f("js/view-min.js"),requires:["node","base-view-css","tictac-base-viewutils","backbone"]},"tictac-base-dialogview":{path:f("js/dialogview-min.js"),requires:["tictac-base-view","tictac-base-viewutils","tictac-base-rollups","tictac-base-strings"]},"tictac-base-model":{path:f("js/model-min.js"),requires:["backbone"]},"tictac-base-mailpreferences":{path:f("js/mailpreferences-min.js"),requires:["mail-persist-meta-data","json"]},"tictac-base-richselect":{path:f("js/richselect-min.js"),requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]},"tictac-base-richmenu":{path:f("js/richmenu-min.js"),requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]},"tictac-base-richtexteditor":{path:f("js/richtexteditor-min.js"),requires:["base","node","tictac-base-utils","tictac-base-rollups","tictac-base-richselect","escape","base-bidi","tictac-base-strings","tictac-base-viewutils","tictac-richtexteditor-css","tictac-base-mailutils"]},"tictac-base-batch-transport":{path:f("js/batchtransport-min.js"),requires:["tictac-base-utils"]},"tictac-base-mail-io":{path:f("js/mailio-min.js"),requires:["tictac-base-utils","io","common-net-sessionmgr","common-net-error"]},"tictac-base-assist-container":{path:f("js/assistcontainer-min.js"),requires:["node","event-custom"]}}}),i("base_css",{filter:n.filter,modules:{"base-view-css":{type:"css",path:k(o+"view.css")},"tictac-richselect-css":{type:"css",path:k(o+"richselect.css")},"tictac-richtexteditor-css":{type:"css",path:k(o+"rte.css")}}},!0),i("tictacs_lib",{modules:{"base-bidi":{path:f("lib/bidi.js")},underscore:{path:f("lib/underscore.js")},backbone:{path:f("lib/backbone.js"),requires:["underscore"]}}},!0),a.mix(a.Tictac.base,{isRTL:m,getCombo:b,getBase:c,getComboBase:d,getComboRoot:e,getAssetURL:f,getTictacVersion:g,defineModules:h,defineModuleGroup:i,addModuleGroup:j})},"1.0.0",{requires:["node","event"]});require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=".ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-token{border:1px solid #1c89ff;border-radius:3px;box-shadow:0 1px 1px #cdcdcd;-moz-box-sizing:border-box;box-sizing:border-box;color:#1c89ff;cursor:pointer;display:inline-block;line-height:0;max-width:150px;padding:1px 10px;position:relative;zoom:1}.ui-token:not(.ui-token-selected):hover .icon-close,.ui-token:not(.ui-token-selected):focus .icon-close,.ui-token:not(.ui-token-selected):active .icon-close{opacity:1}.ui-token.ui-token-selected{background-color:#d5e8ff;border-color:#1567bf;box-shadow:none;color:#1567bf}.ui-token.ui-token-destroyable{padding-right:28px}.ui-token.ui-token-type-people{max-width:220px}.ui-token.icon{font-family:inherit;font-size:inherit;padding-left:28px}.ui-token.icon::before{font-family:mail;line-height:1;position:absolute;top:50%;margin-top:-6px;left:10px}.ui-token.icon-folder{max-width:150px}.ui-token>*{display:inline-block;line-height:20px;vertical-align:middle}.ui-token .icon-close{font-size:1em;line-height:1;opacity:.4;padding:3px;position:absolute;top:50%;margin-top:-9px;right:7px;-webkit-transition:opacity 200ms ease-in-out;transition:opacity 200ms ease-in-out}.ui-token .icon-close:hover,.ui-token .icon-close:focus,.ui-token .icon-close:active{opacity:1}.ui-token-thumbnail{background-position:center;background-repeat:no-repeat;background-size:cover;border-top-left-radius:2px;border-bottom-left-radius:2px;margin:0;padding:0;position:absolute;top:0;bottom:0;left:0;width:22px}.ui-token-thumbnail+*{padding-left:20px}.ui-token-text{-moz-box-sizing:border-box;box-sizing:border-box;display:block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.typeahead-list>li{overflow:hidden}.typeahead-list>li:hover{background-color:#e5e5e5}.tokenized-typeahead{-moz-box-sizing:border-box;box-sizing:border-box;position:relative}.tokenized-typeahead .typeahead-list li:last-child .menu-active-item,.tokenized-typeahead .typeahead-list li:last-child{background-color:#fff}#Stencil .typeahead-input{margin:0;border:0;box-shadow:none;bottom:0;left:0;width:100%;padding:6px 10px;font-size:1.4rem;display:inline-block;position:relative;height:32px}#Stencil .typeahead-list{border-width:1px;border-width:0;border-style:solid;border-color:#e2e2e6;box-shadow:0 5px 10px rgba(0,0,0,.36);position:absolute;background-color:white;left:1px;right:1px;z-index:1;margin-top:0;top:100%}#Stencil .adv-search-container .typeahead-content-box{position:relative}#Stencil .lt .typeahead-input-container{border:0 none}#Stencil .typeahead-input-container{position:relative;overflow:hidden}#Stencil .lt .typeahead-list{border-width:1px 0}#Stencil .adv-search-container .typeahead-content-box{border:0;margin:4px 0}#Stencil .adv-search-container .typeahead-input{padding:6px;font-size:1.3rem;border:1px solid #CCC;border-radius:2px}#Stencil .typeahead-input-usertext{position:relative;margin:0;background-color:transparent}#Stencil .typeahead-input-usertext::-webkit-input-placeholder,#Stencil .typeahead-input-usertext::-moz-placeholder,#Stencil .typeahead-input-usertext:-moz-placeholder{color:silver}#Stencil .typeahead-input-usertext:-ms-input-placeholder{color:silver}#Stencil .typeahead-input-grayhint{position:absolute;top:0;left:0;margin:0;color:silver;-webkit-text-fill-color:silver;background-color:transparent}#Stencil .typeahead-input-grayhint[dir=rtl]{text-align:left!important}#Stencil .tokenized-typeahead-container{border:1px solid #7590f5;background-color:white}#Stencil .search-autocomplete .tokenized-typeahead-container{height:32px}.tokensSelected .typeahead-input{color:transparent;text-shadow:0 0 0 #000}.typeahead-token-list{display:inline;float:left;margin:4px 0 4px 4px!important;outline:0}.typeahead-token-list li{display:inline-block;vertical-align:middle}.typeahead-token-list li+li{margin-left:5px}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.search-menu{background-color:rgba(255,255,255,.95);color:#000;box-shadow:0 5px 10px rgba(0,0,0,.36);-moz-box-sizing:border-box;box-sizing:border-box;padding:10px 0;max-height:100%;overflow:auto;overflow-x:hidden;position:relative}.search-menu-group{border-bottom:1px solid #d8d8d8;padding-bottom:10px}.search-menu-group:first-child{margin-top:-10px;padding-top:10px}.search-menu-group:last-child{border-bottom:0;padding-bottom:0}.search-menu-group+.search-menu-group,.search-menu-group+.search-menuitem{margin-top:10px}.search-menu-group.search-menu-togglable .search-menuitem{position:relative;padding-left:40px}.search-menu-group.search-menu-togglable .icon{position:absolute;top:4px}.search-menu-group.search-menu-togglable .icon.icon-checkmark{left:16px}.search-menu-group-title{color:#AAA;font-weight:700}.search-menu-group-overflow{max-height:200px;overflow:auto;overflow-x:hidden;position:relative}.search-menu-group-title,.search-menuitem{line-height:2.5rem;padding:0 20px}.search-menuitem{-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer;max-width:300px;white-space:nowrap}.search-menuitem:focus,.search-menuitem:hover:not([data-disabled]){background-color:rgba(0,0,0,.1)}.search-menuitem:active{background-color:rgba(0,0,0,.15)}.search-menuitem.selected{font-weight:700}.search-menuitem.selected::before{content:\"\\e018\";font-family:mail;font-size:21px;font-weight:400;margin-top:-.55em;position:absolute;right:-webkit-calc(100% - 36px);right:calc(100% - 36px);top:50%}.search-menuitem[data-disabled]{color:#999;pointer-events:none}.search-menuitem kbd{float:right;font-family:inherit;margin-left:20px}[dir=rtl] .search-menuitem{text-align:right}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-onboarding{font-size:12px}.ui-onboarding.convstooltip .modal.tooltips-text{border:1px solid #0078ff;border-radius:3px}.ui-onboarding .modal::before,.ui-onboarding .modal::after{content:'';position:absolute;width:0;height:0;border:8px solid transparent}.ui-onboarding .modal.top-arrow::before{top:-16px;left:20px;border-bottom-color:#0078ff}.ui-onboarding .modal.top-arrow::after{top:-15px;left:20px;border-bottom-color:#fff}.ui-onboarding .modal.bottom-arrow::before{bottom:-16px;left:20px;border-top-color:#0078ff}.ui-onboarding .modal.bottom-arrow::after{bottom:-15px;left:20px;border-top-color:#fff}.ui-onboarding .modal.left-arrow::before{left:-16px;top:20px;border-right-color:#0078ff}.ui-onboarding .modal.left-arrow::after{left:-15px;top:20px;border-right-color:#fff}.ui-onboarding .modal.right-arrow::before{right:-16px;top:20px;border-left-color:#0078ff}.ui-onboarding .modal.right-arrow::after{right:-15px;top:20px;border-left-color:#fff}.ui-onboarding .hd{font-size:16px;font-weight:700;margin-bottom:7px}.ui-onboarding .bd{line-height:16px}.ui-onboarding .modal-bd{margin-top:13px}.ui-onboarding .modal.tooltips-text .modal-ft{padding:11px 20px 17px}.ui-onboarding .modal-ft .onboarding-btn{font-size:12px;line-height:12px;height:25px;padding:0;margin:0;min-width:50px;box-shadow:none}.parens::before{content:'('}.parens::after{content:')'}.label-text{color:#7f7f7f}.button-plain{background:none repeat scroll 0 0 transparent;border:none;margin:0;outline:none;padding:0}#Stencil .custom-select select{background-color:transparent!important}#Stencil .offscreen{position:absolute;left:-9999px}.negate-font-size{font-size:0}";a("./../../../jarvis/node_modules/cssify")(d),b.exports=d},{"./../../../jarvis/node_modules/cssify":13}],2:[function(a,b,c){var d={str_dateformat_AM_l10n:"AM",str_dateformat_PM_l10n:"PM",str_dayabbr_friday:"Fri",str_dayabbr_monday:"Mon",str_dayabbr_saturday:"Sat",str_dayabbr_sunday:"Sun",str_dayabbr_thursday:"Thu",str_dayabbr_tuesday:"Tue",str_dayabbr_wednesday:"Wed",str_day_friday:"Friday",str_day_monday:"Monday",str_day_saturday:"Saturday",str_day_sunday:"Sunday",str_day_thursday:"Thursday",str_day_tuesday:"Tuesday",str_day_wednesday:"Wednesday",str_folder_chats:"Instant Messages",str_folder_drafts:"Drafts",str_folder_inbox:"Inbox",str_folder_sent:"Sent",str_folder_spam:"Spam",str_folder_trash:"Trash",str_monthabbr_april:"Apr",str_monthabbr_august:"Aug",str_monthabbr_december:"Dec",str_monthabbr_february:"Feb",str_monthabbr_january:"Jan",str_monthabbr_july:"Jul",str_monthabbr_june:"Jun",str_monthabbr_march:"Mar",str_monthabbr_may:"May",str_monthabbr_november:"Nov",str_monthabbr_october:"Oct",str_monthabbr_september:"Sep",str_month_april:"April",str_month_august:"August",str_month_december:"December",str_month_february:"February",str_month_january:"January",str_month_july:"July",str_month_june:"June",str_month_march:"March",str_month_may:"May",str_month_november:"November",str_month_october:"October",str_month_september:"September",last:null};b.exports=d},{}],3:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],4:[function(a,b,c){b.exports.leftJoiner=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0847\u0848\u084A-\u084E\u0850-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,b.exports.rightJoiner=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B2\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/},{}],5:[function(a,b,c){b.exports="[\x00-@[-`{-©«-´¶-¹»-¿×÷ʹʺ˂-ˏ˒-˟˥-˭˯-ͯʹ͵;΄΅·϶҃-҉֊֍-֏֑-ׇֽֿׁׂׅׄ؀-؇؉؊،؎-ًؚ-٬ٰۖ-ۤۧ-ۭ۰-۹ܑܰ-݊ަ-ް߫-߳߶-߹ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৲৳৻ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣ૱ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்௳-௺ఀా-ీె-ైొ-్ౕౖౢౣ౸-౾ಁ಼ೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ฿็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷-༽ཱ-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟᎐-᎙᐀ ᚛᚜ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៛៝៰-៹᠀-᠎ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻᥀᥄᥅᧞-᧿ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿᾽᾿-῁῍-῏῝-῟῭-`´῾ -‍‐-\u2029 -⁤⁨⁪-⁰⁴-⁾₀-₎₠-₽⃐-⃰℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅐-⅟↉←-⌵⍻-⎔⎖-⏺␀-␦⑀-⑊①-⒛⓪-⚫⚭-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⳥-⳪⳯-⳱⳹-⳿⵿ⷠ-⹂⺀-⺙⺛-⻳⼀-⿕⿰-⿻　-〄〈-〠〪-〭〰〶〷〽-〿゙-゜゠・㇀-㇣㈝㈞㉐-㉟㉼-㉾㊱-㊿㋌-㋏㍷-㍺㏞㏟㏿䷀-䷿꒐-꓆꘍-꘏꙯-ꙿꚟ꛰꛱꜀-꜡ꞈꠂ꠆ꠋꠥꠦ꠨-꠫꠸꠹꡴-꡷꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ﬩﴾﴿﷽︀-︙︠-︭︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･￠-￦￨-￮￹-�]|�[��-��-����-��-�]|�[��-����-��-�����-�]|�[�-�]|[��][��-��-��-��-����-��-��-�����-��-������-�����-��-�]|�[�-�������-������-�������-��]|�[�-��-�]|�[�-�]|�[���-�]|�[�-��-��-��-��-��-�]|�[������-�]|�[�-�]|�[��]|�[�-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]"},{}],6:[function(a,b,c){b.exports="[־׀׃׆א-תװ-״؈؋؍؛؜؞-ي٭-ٯٱ-ەۥۦۮۯۺ-܍܏ܐܒ-ܯݍ-ޥޱ߀-ߪߴߵߺࠀ-ࠕࠚࠤࠨ࠰-࠾ࡀ-ࡘ࡞ࢠ-ࢲ‏‫‮⁧יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼ﹰ-ﹴﹶ-ﻼ]|�[�-���-�����-��-��-��-��-���-�����-��-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-��-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]"},{}],7:[function(a,b,c){"use strict";function d(){var a;try{a=JSON.parse(window.yui.mail.persist.MetaData.get("simpleCustomViews").json)}catch(b){}return a||{}}var e,f=a("react/addons"),g=a("BridgeStore"),h=a("GlobalConstants"),i=a("SearchConstants"),j=a("GlobalActions"),k=a("StatService"),l=a("ObjectUtils"),m=a("UserSettingsConstants"),n=!1,o=window.performance,p=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd"];yui.use("mail-persist-meta-data"),e=f.createClass({displayName:"StormBridge",_initSettings:function(){this.props.context.executeAction(j.changeSettings,{customViews:{},messageDensity:NeoConfig.msgListDensity,multitask:NeoConfig.tabs?m.TAB:m.RECENT}),yui.use("mail-persist-meta-data",function(){this.props.context.executeAction(j.changeSettings,{metaData:window.yui.mail.persist.MetaData,customViews:d()})}.bind(this)),yui.on("messageDensityChange",function(a){this.props.context.executeAction(j.changeSettings,{messageDensity:a.density})}.bind(this)),yui.on("simple:customViewsChanged",function(){this.props.context.executeAction(j.changeSettings,{customViews:d()})}.bind(this)),yui.on("multitaskChange",function(a){this.props.context.executeAction(j.changeSettings,{multitask:a.option})}.bind(this)),yui.once("rum:yaftFinished",function(){n=!0})},_showNotfication:function(a){yui.use("common-ui-notification-v2",function(b){b.common.ui.NotificationV2.notify(f.renderToString(a.component),{type:a.failure?"error":"info",duration:4e3,speed:"show-fast",cbkOnDestroy:!0,cbk:function(b,c){"undo"===c&&a.undoHandler&&a.undoHandler()}})})},_clearResourceTimingBuffer:function(){n&&o&&o.getEntries&&o.getEntries().length>=150&&(o.webkitClearResourceTimings?o.webkitClearResourceTimings():o.clearResourceTimings&&o.clearResourceTimings())},_collectResourceTimingStats:function(a){var b,c,d="";n&&o&&o.getEntriesByName&&(b=o.getEntriesByName(a.url,"resource"),c=l.getValue(b,[0],!1),c&&c.duration&&(k.featureLatency("bootcamp_api_perf_"+(a.type?a.type:"others"),Math.round(c.duration)),p.forEach(function(a){d+=a+"="+c[a]+";"}),k.apiLatency("bootcamp_metrics: "+d,Math.round(c.duration),{api:"bootcamp"})))},componentDidMount:function(){this.props.context.getStore(g).on("changed",this.handleAction),this._initSettings()},componentWillUnmount:function(){this.props.context.getStore(g).removeListener("changed",this.handleAction)},handleAction:function(){var a=this.props.context.getStore(g).getActionInfo(),b=l.getValue(a,["data","data"],{});switch(a.action){case h.NOTIFICATION_SHOW:this._showNotfication(a.data);break;case i.SEARCH_START:this._clearResourceTimingBuffer();break;case i.SEARCH_SUCCESS:this._collectResourceTimingStats(b)}},render:function(){return f.createElement("span",null)}}),b.exports=e},{BridgeStore:"BridgeStore",GlobalActions:"GlobalActions",GlobalConstants:"GlobalConstants",ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StatService:"StatService",UserSettingsConstants:"UserSettingsConstants","react/addons":"react/addons"}],8:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"OnboardingText",propTypes:{},render:function(){var a=this.props,b={width:a.width+"px"},c={modal:!0,"tooltips-text":!0};return a.dir&&(c[a.dir+"-arrow"]=!0),e.createElement("div",{className:"convstooltip yui3-tooltips ui-onboarding",id:a.id},e.createElement("div",{className:e.addons.classSet(c),style:b},e.createElement("div",{className:"modal-bd"},e.createElement("div",{className:"hd"},a.title),e.createElement("div",{className:"bd"},a.body)),e.createElement("div",{className:"modal-ft"},e.createElement("button",{className:"btn left right default onboarding-btn","data-action":"ok"},a.buttonText))))}}),b.exports=d},{"react/addons":"react/addons"}],9:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"Input",propTypes:{},shouldComponentUpdate:function(a){return!f.isEqual(this.props,a)},getDefaultProps:function(){return{className:"",value:"",onCompositionStart:f.noop,onCompositionEnd:f.noop}},componentDidMount:function(){var a=this,b=a.getDOMNode();b.addEventListener("compositionstart",a.handleCompositionStart),b.addEventListener("compositionend",a.handleCompositionEnd)},componentWillUnmount:function(){var a=this,b=a.getDOMNode();b.removeEventListener("compositionstart",a.handleCompositionStart),b.removeEventListener("compositionend",a.handleCompositionEnd)},componentDidUpdate:function(){var a=this;a.props.dir||a.getDOMNode().removeAttribute("dir")},render:function(){var a=this.props;return e.createElement("input",{className:"typeahead-input "+a.className,spellCheck:"false",autoComplete:"false",placeholder:a.placeholder,disabled:a.disabled?"disabled":!1,value:a.value,onFocus:a.onFocus,onClick:a.onClick,onSelect:a.onSelect,onChange:this.handleChange,onKeyUp:a.onKeyUp,onKeyDown:a.onKeyDown,onKeyPress:a.onKeyPress,dir:a.dir})},handleChange:function(a){a.target.value!==this.props.value&&this.props.onChange(a)},handleCompositionStart:function(){this.props.onCompositionStart()},handleCompositionEnd:function(){this.props.onCompositionEnd()},setSelectionRange:function(a,b){this.getDOMNode().setSelectionRange(a,b)},getSelectionEnd:function(){return this.getDOMNode().selectionEnd},getSelectionStart:function(){return this.getDOMNode().selectionStart},focus:function(){this.getDOMNode().focus()},blur:function(){this.getDOMNode().blur()}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],10:[function(a,b,c){"use strict";b.exports=function(){function b(a){a=a||{},this.dispatcher=new c({}),this.actionContext=this.getActionContext(),this.componentContext=this.getComponentContext()}var c=a("dispatchr")();return b.prototype.getComponentContext=function(){var a=this;return{executeAction:function(b,c){b(a.actionContext,c,function(a){})},getStore:a.dispatcher.getStore.bind(a.dispatcher)}},b.prototype.getActionContext=function(){var a=this;return{dispatch:a.dispatcher.dispatch.bind(a.dispatcher),executeAction:function(b,c,d){b(a.actionContext,c,d)},getStore:a.dispatcher.getStore.bind(a.dispatcher)}},b.prototype.dehydrate=function(){return{dispatcher:this.dispatcher.dehydrate()}},b.prototype.rehydrate=function(a){this.dispatcher.rehydrate(a.dispatcher||{})},{registerStore:c.registerStore.bind(c),contextInst:new b}}},{dispatchr:"dispatchr"}],11:[function(a,b,c){"use strict";YUI.add("tictac-lib",function(b){var c=yui.common.Utils.features,d=a("Utils"),e=a("AppDispatcher"),f=a("AccountStore"),g=a("FolderStore"),h=a("GlobalMessageStore"),i=a("NotificationStore"),j=a("OnboardingStore"),k=a("TabStore"),l=a("BridgeStore"),m=a("./components/bridge/StormBridge.jsx"),n=a("UserSettingsStore"),o=[];a("../../artifacts/css/main.css"),[l,g,h,i,j,k,n,f].forEach(e.registerStore),c.enabled("react")||o.push(d.loadJS(b.config.groups.tictacs.base+b.Tictac.base.getAssetURL("/js/lib-min.js","tictac-lib"))),Promise.all(o).then(function(){var b=a("lodash"),c=document.createElement("div");b.templateSettings.escape=/{{([\s\S]+?)}}/g,b.templateSettings.interpolate=/{{{([\s\S]+?)}}}/g,window.React=window.React||a("react/addons"),window.ReactContext=window.ReactContext||a("./context.js")(),c.id="storm-bridge",document.body.appendChild(c),window.React.render(window.React.createElement(m,{context:e.context}),c)})},"1.0.0",{requires:["tictac-base","mail-common-utils-features"]})},{"../../artifacts/css/main.css":1,"./components/bridge/StormBridge.jsx":7,"./context.js":10,AccountStore:"AccountStore",AppDispatcher:"AppDispatcher",BridgeStore:"BridgeStore",FolderStore:"FolderStore",GlobalMessageStore:"GlobalMessageStore",NotificationStore:"NotificationStore",OnboardingStore:"OnboardingStore",TabStore:"TabStore",UserSettingsStore:"UserSettingsStore",Utils:"Utils",lodash:"lodash","react/addons":"react/addons"}],12:[function(a,b,c){"use strict";var d={findJavaScriptIndexEndForUTF8ByteCount:function(a,b,c){var d,e,f=a;for(d=c;d<b.length&&f>0;d+=1)e=b.charCodeAt(d),f-=128>e?1:2048>e?2:3;return 0===f?d:-1},getNextResponsePartInfo:function(a,b){for(var c,d,e;a.indexOf("\r\n",b)===b;)b+=2;return c=a.indexOf("\r\n",b),d=a.substring(b,c),e=parseInt(d,16),{startIndex:c,endIndex:this.findJavaScriptIndexEndForUTF8ByteCount(e,a,c+2)}},parse:function(a,b){for(var c,d=b||0,e=[];d<a.length-2&&(c=this.getNextResponsePartInfo(a,d),-1!==c.endIndex);)e.push(c),d=c.endIndex;return{lastStartIndex:d,data:e.map(function(b){return a.substring(b.startIndex,b.endIndex)}).map(function(a){return JSON.parse(a)})}}};b.exports=d},{}],13:[function(a,b,c){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],AccountStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,yui.on("ds:account:add",this.handleDataChanged,this),yui.on("ds:account:change",this.handleDataChanged,this),yui.on("ds:account:remove",this.handleDataChanged,this)}var e=a("lodash"),f=a("events").EventEmitter,g=yui.mail.model.DataStore.Accounts;d.prototype={constructor:d,get:function(){return g?g.get():[]},getById:function(a){return e.find(this.get(),function(b){return b.id===a})},getCurrentAccount:function(){return g.getCurrentAccount()},getPrimaryAccount:function(){return g.getPrimaryAccount()},handleDataChanged:function(){this.emit("change")}},d.storeName="AccountStore",e.mixin(d.prototype,f.prototype),b.exports=d},{events:"events",lodash:"lodash"}],AppDispatcher:[function(a,b,c){"use strict";var d,e,f,g,h=a("dispatchr")(),i=a("events").EventEmitter;d=new h({}),e={dispatch:function(){d.dispatch.apply(d,arguments)}},f={executeAction:function(){var a=[].slice.call(arguments,1),b=arguments[0];b.apply(null,[e].concat(a))},getStore:function(a){return d.getStore(a)},events:new i},g=function(a){h.registerStore.apply(null,arguments),window._stores=window._stores||{},window._stores[a.storeName]=d.getStore(a)},b.exports={registerStore:h.registerStore,context:f}},{dispatchr:"dispatchr",events:"events"}],AriaStatus:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"AriaStatus",propTypes:{},getDefaultProps:function(){return{ariaLive:"polite"}},componentDidMount:function(){var a=this;a.setText(a.props.message)},componentDidUpdate:function(){var a=this;a.setText(a.props.message)},render:function(){return e.createElement("span",{className:"offscreen",ref:"notificationNode",role:"status","aria-live":this.props.ariaLive})},setText:function(a){this.refs.notificationNode.getDOMNode().textContent=a}}),b.exports=d},{"react/addons":"react/addons"}],BidiSafeFilepath:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("StringUtils");d=e.createClass({displayName:"BidiSafeFilepath",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{tagName:"div"}},render:function(){var a,b=this.props.filepath;return"string"==typeof b?(a=f.getFileName(b),e.createElement(this.props.tagName,{className:this.props.className,title:this.props.title,dir:f.getTextDirection(a)},a,this.renderExtension(f.getFileExtension(b)))):null},renderExtension:function(a){return a?e.createElement("span",{ref:"extension",dir:"ltr"},a):void 0}}),b.exports=d},{StringUtils:"StringUtils","react/addons":"react/addons"}],BidiString:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("StringUtils");d=e.createClass({displayName:"BidiString",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{tagName:"span"}},render:function(){var a=this.props.str;return"string"==typeof a?e.createElement(this.props.tagName,f.merge({dir:g.getTextDirection(a),children:a},f.omit(this.props,["tagName","dir"]))):null}}),b.exports=d},{StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],BodyDropdown:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("Dropdown");d=e.createClass({displayName:"BodyDropdown",propTypes:{},getDefaultProps:function(){return{dropdownXOrigin:"left",dropdownYOrigin:"top"}},componentWillMount:function(){var a=this;a.container=document.createElement("div"),window.addEventListener("resize",a.props.closeDropdown,!0)},componentDidMount:function(){var a=this,b=a.props,c=a.container;a.dropdown=e.render(e.createElement(f,{className:b.className,anchorNode:b.anchorNode,parentNode:b.parentNode,closeDropdown:b.closeDropdown,onClick:b.onClick},b.children),c),document.body.appendChild(c),a.positionDropdown()},componentWillUnmount:function(){var a=this,b=a.container;e.unmountComponentAtNode(b),document.body.removeChild(b),window.removeEventListener("resize",a.props.closeDropdown,!0)},componentDidUpdate:function(){var a=this;a.dropdown.setProps({parentNode:a.props.parentNode,closeDropdown:a.props.closeDropdown,children:a.props.children})},render:function(){return e.createElement("div",null)},getRTLAwareDirection:function(a){return NeoConfig.isRTL?"left"===a?"right":"left":a},positionDropdown:function(){var a=this,b=a.container,c=a.props.coordinates,d=a.props.anchorNode;if(!c&&!d)throw new Error("Must provide coordinates or an anchorNode");c?a.positionDropdownToCoordinates(c):d&&a.positionDropdownToNode(d),b.clientHeight>=window.innerHeight&&(b.style.top="20px",b.style.bottom="20px"),b.clientWidth>=window.innerWidth&&(b.style.left="20px",b.style.right="20px")},positionDropdownToNode:function(a){var b,c=this,d=a.getBoundingClientRect(),e=c.container.style,f=c.getRTLAwareDirection(c.props.dropdownXOrigin),g=window.innerWidth;e.position="fixed",e.zIndex="100000",b=c.dropdown.getDOMNode().scrollWidth,"right"===f?d.right>g+window.scrollX?e.right=g-b-10+"px":e.right=Math.ceil(g-d.right)+"px":document.body.clientWidth-window.scrollX<d.left+b?e.left=g-b-10+"px":e.left=d.left+"px","bottom"===c.props.dropdownYOrigin?e.top=d[c.props.dropdownYOrigin]-a.offsetHeight+"px":e.top=d[c.props.dropdownYOrigin]+a.offsetHeight+"px"},positionDropdownToCoordinates:function(a){var b,c,d=this,e=d.container,f=e.style;f.position="fixed",f.zIndex="100000",a.x=a.x>0?a.x:0,a.y=a.y>0?a.y:0,b=e.clientWidth+a.x,c=e.clientHeight+a.y,b>window.innerWidth&&(a.x=a.x-(b-window.innerWidth)),c>window.innerHeight&&(a.y=a.y-(c-window.innerHeight)),f.left=a.x+"px",f.top=a.y+"px"}}),b.exports=d},{Dropdown:"Dropdown","react/addons":"react/addons"}],BootcampAPIUtilsV1:[function(a,b,c){"use strict";function d(a){var b,c=g.findIndex(n,function(b){return b.queryText===a});if(-1!==c){if(b=n[c],Date.now()-b.timestamp<m)return b.data;n.splice(c,1)}}function e(a,b){var c={timestamp:Date.now(),data:b,queryText:a};n.push(c),n.length>l&&n.shift()}var f,g=a("lodash"),h=a("IO"),i=a("EnhancedPromise"),j=a("StatService"),k=a("./BootcampResponseParser"),l=500,m=3e5,n=[];f=function(){var a,b="https://prod1.psearch.yahoo.com",c="/v1/suggestions",f=(new Date).getTimezoneOffset();return{getSuggestions:function(g){var l,m,n,o,p=g.keyword.trim(),q=Date.now();return g.suggestion||!p.length?n=i.resolve([]):(o=d(p),o?n=i.resolve(o):(l=["query="+encodeURIComponent(p),"timezoneOffset="+f],m=b+c+"?"+l.join("&"),j.featureInvoke("search_sugg_fetch_bootcamp"),n=h.post(m).then(function(b){var c,d=b.text;if(d){if(j.featureLatency("bootcamp_fetch",Date.now()-q),j.featureComplete("search_sugg_fetch_bootcamp"),c=k.parse(d).data,e(p,c),n!==a)throw b.status=800,b;return c}throw j.featureLatency("bootcamp_fetch_err",Date.now()-q),j.featureFail("search_sugg_fetch_bootcamp"),b},function(a){throw 800===a.status?j.featureComplete("search_sugg_fetch_bootcamp"):(j.featureLatency("bootcamp_fetch_err",Date.now()-q),j.featureFail("search_sugg_fetch_bootcamp")),a}))),a=n,n},connectToBootcamp:function(){var a=b+"/connect";h.get(a)}}}(),b.exports=f},{"./BootcampResponseParser":12,EnhancedPromise:"EnhancedPromise",IO:"IO",StatService:"StatService",lodash:"lodash"}],BootcampAPIUtils:[function(a,b,c){"use strict";function d(a){return a.contentBlock&&a.contentBlock.content&&Array.isArray(a.contentBlock.content.items)}function e(a){return{items:a.contentBlock.content.items,url:a.contentBlock.url,offset:a.contentBlock.content.offset,totalHits:a.contentBlock.content.totalHits}}function f(a){return u||(u=x.context.getStore(G)),a.forEach(function(a){var b;"undefined"!=typeof a.folderNumber||"undefined"!=typeof a.folderId?(b=u.findByIndex(a.folderNumber),a.fid=A.getValue(b,["folderInfo","fid"],a.folderId)):"undefined"!=typeof a.mid&&(a.fid="Inbox"),"MESSAGE"===a.itemType&&(a.mid=a.mid||a.id.slice(2),a.id=a.mid),a.creationDate>21459168e5&&(a.creationDate/=1e3)}),a}function g(a,b,c){var d=w.find(a,function(a){return A.getValue(a,"contentBlock.blockType")===b&&A.getValue(a,"contentBlock.filter")===c});return d&&f(A.getValue(d,"contentBlock.content.items")),d}function h(a){switch(a){case"to":return D.FILTER_TO;case"all":return D.FILTER_ALL;case"from":return D.FILTER_FROM;case"keyword":return D.FILTER_KEYWORD}}function i(a){return a.map(function(a){var b=a.payload,c={};return b&&(c.smtps=b.endpoints.filter(function(a){return 0===a.ep.indexOf("smtp:")}).map(function(a){return a.display=a.display||a.ep.substring(5),a}),c.phones=b.endpoints.filter(function(a){return 0===a.ep.indexOf("tel:")}),c.social=b.endpoints.filter(function(a){/(facebook|flickr|linkedin|twitter|tumblr):/.test(a.ep)}).map(function(a){var b=a.ep.split(":");return a.id=b[1],a.network=b[0],a}),w.assign(a,b.role,{prettyEndpoints:c})),a})}function j(a,b){return"keyword"===b&&a.messages?!0:"people"===b&&a.messages&&a.messages.from?!0:!1}function k(a,b,c){var k,l,m,n,o,p={type:a};if(b&&b.length&&b[0].status&&(b=b.filter(function(a){return 200===a.status}).map(function(a){return a.response})),p.srpType=b[0].srpType,k=g(b,"MAIN",null),l=g(b,"HERO",null),m=g(b,D.PEOPLE,D.FILTER_RELATED),w.chain(["messages","photos","documents","links"]).map(function(a){return["to","from","keyword","all"].map(function(c){return{section:a,subsection:c,result:g(b,a.toUpperCase(),h(c))}})}).flatten().filter(function(a){return a.result}).forEach(function(a){var b=a.section,c=a.subsection,d=a.result;p[b]=p[b]||{},p[b][c]=e(d),"messages"!==b||p.spellCorrection||(p.spellCorrection=A.getValue(d,"contentBlock.content.suggestedWords",null))}).value(),k&&d(k))if(o=k.contentBlock.content.contentType,p.primaryResultType=o,"CONTACTS"===o)p.contacts=i(k.contentBlock.content.items);else switch(o){case D.MESSAGES:p.messages=p.messages||{},p.messages.keyword=e(k),f(p.messages.keyword.items);break;case D.PHOTOS:p.photos=p.photos||{},p.photos.keyword=e(k);break;case D.DOCS:case D.DOCUMENTS:p.primaryResultType=D.DOCUMENTS,p.documents=p.documents||{},p.documents.keyword=e(k);break;case"LINKS":p.links=p.links||{},p.links.keyword=e(k)}return l&&d(l)&&(p.didYouMeanContacts=l.contentBlock.content.items.filter(function(a){return"PERSON"===a.itemType})),m&&d(m)&&(p.relatedContacts=m.contentBlock.content.items),j(p,a)&&(n=B.timerComplete("bootcampAPILatency_list"),n&&B.featureLatency("srp_bootcamp_api_list_"+(a?a:"others"),n)),p.url=c?c:"",p}function l(a){var b=0;return a&&a.length&&a.forEach(function(a){200!==a.status&&(b++,B.stat({name:"search_bootcamp_chunk_failure",tags:{message:A.getValue(a,"message",""),status:a.status,login:NeoConfig.loginId}}))}),!a||a.length===b}function m(a){var b="desc",c=a.sortType,d=a.sortOrder;switch(c){case C.MSG_SORT_TYPE_DATE:b="down"===(d||C.MSG_SORT_ORDER_DOWN)?"desc":"asc";break;case C.MSG_SORT_TYPE_ATTACHMENT:b="attachment";break;case C.MSG_SORT_TYPE_RELEVANCE:b="relevance";
}return b}function n(a){var b={data:[],lastStartIndex:a.lastStartIndex||0};return a.data.forEach(function(a){b.data.push({response:{contentBlock:a.response},status:a.status})}),b}function o(a,b,c,d){var e,f={title:null,filter:c,url:null,blockType:null},g=P+J+"items?",h=(new Date).getTimezoneOffset(),i=b.toQueryStringWithoutSuggestion(),j=b.suggestion,k=[];switch(a){case D.MAIN:e="application/vnd.yahoo.person",f.title=a,k.push("ids="+j.serviceId,"doFullLookup=true"),f.blockType=D.MAIN;break;case D.PEOPLE:e="application/vnd.yahoo.person",f.title=a,f.blockType=D.PEOPLE,k.push("relatedContacts=true","ids="+j.serviceId);break;case D.MESSAGES:e="message/text",f.title=a,f.blockType=D.MESSAGES;break;case D.DOCUMENTS:e="docs",f.title=a,f.blockType=D.DOCUMENTS;break;case D.PHOTOS:e="images",f.title=a,f.blockType=D.PHOTOS}if(j)switch(c){case D.FILTER_FROM:k.push("sharedWithMeByNative="+encodeURIComponent(j.emailAddresses.join(",")));break;case D.FILTER_TO:k.push("recipients="+encodeURIComponent(j.emailAddresses.join(",")),"sharedWithMeByNative="+encodeURIComponent(NeoConfig.emailAddress));break;case D.FILTER_ALL:k.push("senderAndRecipient="+encodeURIComponent(j.emailAddresses.join(",")))}return i&&k.push("query="+encodeURIComponent(i)),k.push("timezoneOffset="+h,"wssid="+NeoConfig.wssid,"mimeTypes="+encodeURIComponent(e),"includechats=true","order="+m(d),"limit=50"),z&&k.push("IMAPIN=1"),f.url=g+k.join("&"),f}function p(a,b){var c=P+J+"batch?",d=0,e="keyword",f=[],g=a.toQueryStringWithoutSuggestion(),h=a.suggestion,i={headers:{"Content-Type":"application/json; charset=utf-8"}};return h||g?(h?(e="people",f.push(o(D.MAIN,a,null,b),o(D.PEOPLE,a,D.FILTER_RELATED,b),o(D.MESSAGES,a,D.FILTER_ALL,b),o(D.MESSAGES,a,D.FILTER_FROM,b),o(D.MESSAGES,a,D.FILTER_TO,b),o(D.DOCUMENTS,a,D.FILTER_ALL,b),o(D.DOCUMENTS,a,D.FILTER_FROM,b),o(D.DOCUMENTS,a,D.FILTER_TO,b),o(D.PHOTOS,a,D.FILTER_ALL,b),o(D.PHOTOS,a,D.FILTER_FROM,b),o(D.PHOTOS,a,D.FILTER_TO,b))):-1!==g.indexOf("subject:")?f.push(o(D.MESSAGES,a,D.FILTER_KEYWORD,b)):f.push(o(D.MESSAGES,a,D.FILTER_KEYWORD,b),o(D.DOCUMENTS,a,D.FILTER_KEYWORD,b),o(D.PHOTOS,a,D.FILTER_KEYWORD,b)),y.post(c,f,i).then(function(a){var b=F.parse(a.text,0);return b=n(b),B.stat({name:"search",tags:{result:"success"}}),k(e,b.data)},function(a){var b="failure";800===a.status&&(b="abort"),B.stat({name:"search",tags:{result:b}})},function(a){var b=F.parse(a.text,d);return b=n(b),d<b.lastStartIndex?(d=b.lastStartIndex,k(e,b.data)):void 0})):E.resolve(O)}function q(a,b){var c=0;return B.timerStart("bootcampAPILatency"),B.timerStart("bootcampAPILatency_list"),y.get(a).then(function(a){var c=F.parse(a.text,0),d=B.timerComplete("bootcampAPILatency");return B.featureLatency("srp_bootcamp_api_"+(b?b:"others"),d),l(c.data)?B.stat({name:"search",tags:{result:"failure",login:NeoConfig.loginId,message:A.getValue(a,"text","")}}):B.stat({name:"search",tags:{result:"success"}}),k(b,c.data,a.url)},function(a){var b="failure";800===a.status&&(b="abort"),B.stat({name:"search",tags:{result:b}})},function(a){var d=F.parse(a.text,c);return c<d.lastStartIndex?(c=d.lastStartIndex,k(b,d.data)):void 0})}function r(a,b){var c,d,e,f=m(b),g=(new Date).getTimezoneOffset(),h=P+J+"srp?",i=a.toQueryStringWithoutSuggestion(),j=a.suggestion,k=a.folders,l=[];return j||i||!w.isEmpty(k)?(j&&(d=j.serviceId,l.push("contentId="+encodeURIComponent("x:"+d)),e="people"),i&&(l.push("query="+encodeURIComponent(i)),e=e||"keyword"),l.push("timezoneOffset="+g,"expand=true","order="+f,"limit=50","includechats=true"),1===A.getValue(a,"folders.length",0)&&(c=a.folders[0],c.folderIds?l.push("folders="+c.folderIds.join(",")):l.push("accountId="+c.acctIds.join(","))),z&&l.push("IMAPIN=1"),q(h+l.join("&"),e)):E.resolve(O)}function s(a){var b,c=w.findIndex(N,function(b){return b.queryText===a});if(-1!==c){if(b=N[c],Date.now()-b.timestamp<M)return b.data;N.splice(c,1)}}function t(a,b){var c={timestamp:Date.now(),data:b,queryText:a};N.push(c),N.length>L&&N.shift()}var u,v,w=a("lodash"),x=a("AppDispatcher"),y=a("IO"),z=yui.common.Utils.features.enabled("imapIn"),A=a("ObjectUtils"),B=a("StatService"),C=a("UserSettingsConstants"),D=a("SearchConstants"),E=a("EnhancedPromise"),F=a("./BootcampResponseParser"),G=a("FolderStore"),H="https://stag1.psearch.yahoo.com",I="https://prod1.psearch.yahoo.com",J="/v2/",K=/[\?&]bootcamp=([^&]+)/,L=500,M=3e5,N=[],O={messages:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}},photos:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}},documents:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}},links:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}}},P=I;"1"===NeoConfig.isInternal&&(v=K.exec(window.location.search),v?P=0===v[1].indexOf("https://")?v[1]:"https://"+v[1]:-1!==window.location.search.indexOf("dev=1")&&(P=H)),c.getItems=function(){var a,b=P+J+"items?";return function(c){var d=b+c;return a&&a.cancel(),a=y.get(d).then(function(a){return JSON.parse(a.text)})}}(),c.getBatch=function(){var a,b=P+J+"batch?",c={headers:{"Content-Type":"text/plain; charset=utf-8"}};return function(d,e){var f="string"==typeof e?b+e:b;return a&&a.cancel(),a=y.post(f,d,c).then(function(a){return F.parse(a.text,0)})}}(),c.getCollapsedSRP=function(){var a,b=P+J+"srp?";return function(c){var d=b+c+"&expand=false";return a&&a.cancel(),a=y.get(d).then(function(a){return F.parse(a.text,0)})}}(),c.getPeopleSRPByEmail=function(){var a,b=P+J+"srp?";return function(c,d,e,f){var g,h;return a&&a.cancel(),f.typeTag&&(B.stat({name:"search_source",tags:{type:f.typeTag}}),B.logRapid("mt:click",{action:f.typeTag,append:{mSrchId:e,mYid:NeoConfig.loginId,mSrchQry:c+d}})),c?(g=["contentId=smtp:"+encodeURIComponent(c),"expand=true","includechats=true"],d&&g.push("query="+encodeURIComponent(d)),z&&g.push("IMAPIN=1"),h=b+g.join("&"),a=q(h,"people")):E.resolve(O)}}(),c.getSearchResults=function(){var a;return function(b,c,d){var e=b.toQueryStringWithoutSuggestion(),f=b.suggestion;return a&&a.cancel(),b.typeTag&&(B.stat({name:"search_source",tags:{type:b.typeTag}}),B.logRapid("mt:click",{action:b.typeTag,append:{mSrchId:d,mYid:NeoConfig.loginId,mSrchQry:b.toHumanReadableString(),mSrchIdx:A.getValue(f,"idxSelected",-1)}})),a=!f&&e&&-1!==e.indexOf("subject:")?p(b,c):r(b,c)}}(),c.getMoreSearchResults=function(){var a;return function(b,c){return a&&a.cancel(),b+="&offset="+c+"&includechats=true",a=y.get(b).then(function(a){var b=JSON.parse(a.text);return{items:f(b.items),offset:b.offset}})}}(),c.getSuggestions=function(){var a=(new Date).getTimezoneOffset(),b=P+J+"suggestions?";return function(c){var d,e,f,g,h=Date.now(),i=c.keyword.trim();return c.suggestion||!i.length?g=E.resolve([]):(f=s(i),f?g=E.resolve(f):(e=["query="+encodeURIComponent(i),"timezoneOffset="+a,"ymreqid="+yui.common.net.Session.genReqID(),"wssid="+NeoConfig.wssid],d=b+e.join("&"),B.featureInvoke("search_sugg_fetch_bootcamp"),g=y.post(d).then(function(a){var b;return B.featureLatency("bootcamp_fetch",Date.now()-h),B.featureComplete("search_sugg_fetch_bootcamp"),b=F.parse(a.text).data,t(i,b),b},function(a){throw 800!==a.status&&(B.featureLatency("bootcamp_fetch_err",Date.now()-h),B.featureFail("search_sugg_fetch_bootcamp")),a}))),g}}(),c.connectToBootcamp=function(){var a=P+"/connect";return function(){y.get(a)}}()},{"./BootcampResponseParser":12,AppDispatcher:"AppDispatcher",EnhancedPromise:"EnhancedPromise",FolderStore:"FolderStore",IO:"IO",ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StatService:"StatService",UserSettingsConstants:"UserSettingsConstants",lodash:"lodash"}],BridgeStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this.payload={},this.setMaxListeners(256)}var e=a("lodash"),f=a("events").EventEmitter,g=a("GlobalConstants"),h={};d.prototype=e.merge({constructor:d,getActionInfo:function(){return this.payload},_onAction:function(a,b){this.payload={action:b,data:a},this.emit("changed")}},f.prototype),h[g.DEFAULT]="_onAction",d.storeName="BridgeStore",d.handlers=h,b.exports=d},{GlobalConstants:"GlobalConstants",events:"events",lodash:"lodash"}],Checkbox:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"Checkbox",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{disabled:!1,isMixed:!1,isSelected:!1,onChange:function(){},title:""}},render:function(){var a=e.addons.classSet({icon:!0,"ui-checkbox":!0,"icon-checkbox-mixed":this.props.isMixed,"icon-checkbox-selected":this.props.isSelected,"icon-checkbox-empty":!(this.props.isMixed||this.props.isSelected)});return e.createElement("span",{tabIndex:"0",role:"checkbox",className:a,onChange:this.props.onChange,onClick:this.handleSelectionChange,onKeyDown:this.handleSelectionChange,title:this.props.title,"aria-checked":this.getAriaCheckedStatus(),"aria-label":this.props.title,disabled:this.props.disabled})},getAriaCheckedStatus:function(){return this.props.isSelected?"true":this.props.isMixed?"mixed":"false"},handleSelectionChange:function(a){"click"!==a.type&&" "!==a.key||this.props.disabled||(a.preventDefault(),this.props.onChange(a))}}),b.exports=d},{"react/addons":"react/addons"}],Context:[function(a,b,c){"use strict";var d=a("react/addons");b.exports={contextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,events:d.PropTypes.object},childContextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,events:d.PropTypes.object},getContext:function(){return this.context.getStore&&this.context.executeAction&&this.context.events?this.context:this.props.context},getChildContext:function(){var a=this.getContext();return{executeAction:a.executeAction,getStore:a.getStore,events:a.events}},getStore:function(){var a=this.getContext();return a.getStore.apply(a,arguments)},executeAction:function(){var a=this.getContext();return a.executeAction.apply(a,arguments)}}},{"react/addons":"react/addons"}],CopyFunctionWrapper:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"CopyFunctionWrapper",propTypes:{},getDefaultProps:function(){return{onClick:f.noop}},getInitialState:function(){return{classes:"",disabled:!1}},componentDidMount:function(){this.state.disabled||this._setUpClipBoard()},componentWillUpdate:function(){this.state.disabled&&this._cleanClipBoard()},componentWillUnmount:function(){this._cleanClipBoard()},render:function(){return e.createElement("div",{className:"copy-func-wrapper"},this.props.children)},_setUpClipBoard:function(){var a=this;yui.use("swfdetect","comms-ui-clipboard-plugin",function(b){return b.SWFDetect.isFlashVersionAtLeast(10,1,0)?void(a.clipboardTimeoutHandle=setTimeout(function(){var c,d=b.comms.ui.ClipBoard;a.isMounted()&&(c=yui.one(a.getDOMNode()),c.plug(d,{moviepath:NeoConfig.copySwfMoviePath}).on("clipboard:load",function(){this.clipboard._movie.setAttribute("data-preventClose","true"),this.on("mouseenter",function(){this.setAttribute("copy",a.props.copyData)},this),this.clipboard.setEvent("mouseOver",function(){a.props.setActive(!0)}),this.clipboard.setEvent("mouseOut",function(){a.props.setActive(!1)}),a.clipboard=this.clipboard,this.clipboard.setEvent("click",function(){c.simulate("click")},!0)}))},0)):void a.props.setDisabled(!0)})},_cleanClipBoard:function(){var a=this;a.clipboardTimeoutHandle&&clearTimeout(a.clipboardTimeoutHandle),a.clipboard&&a.clipboard.hide()}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],DOMUtils:[function(a,b,c){"use strict";var d,e=a("lodash");d={cloneEvent:function(a){return e.clone(a,!0)},halt:function(a){a.stopPropagation(),a.preventDefault()},isDescendant:function(a,b){for(;b&&b!==a;)b=b.parentNode;return!!b}},b.exports=d},{lodash:"lodash"}],DateTimeFormatter:[function(a,b,c){"use strict";var d,e=a("lodash"),f=a("../../../../artifacts/lang");d={FULL:strings.str_cfg_dateformat_full_human_readable,COMPACT:strings.str_cfg_dateformat_compact,INFORMAL:strings.str_cfg_dateformat_informal,TIME:strings.str_cfg_dateformat_simple_time,transform:function(a,b){var c=this;return e.template(b,null,{interpolate:/{([\s\S]+?)}/g})({F:c.getFullMonth(a.getMonth()+1),m:c.toDoubleDigit(a.getMonth()+1),M:c.getAbbrMonth(a.getMonth()+1),n:a.getMonth()+1,d:c.toDoubleDigit(a.getDate()),D:c.getAbbrDay(a.getDay()+1),j:a.getDate(),l:c.getFullDay(a.getDay()+1),y:c.toDoubleDigit(a.getYear()%100),Y:a.getFullYear(),g:c.toInformalHours(a.getHours()),G:a.getHours(),i:c.toDoubleDigit(a.getMinutes()),s:c.toDoubleDigit(a.getSeconds()),A:c.getAMPM(a)})},getAMPM:function(a){return a.getHours()>11?f.str_dateformat_PM_l10n:f.str_dateformat_AM_l10n},getFullMonth:function(a){var b={1:f.str_month_january,2:f.str_month_february,3:f.str_month_march,4:f.str_month_april,5:f.str_month_may,6:f.str_month_june,7:f.str_month_july,8:f.str_month_august,9:f.str_month_september,10:f.str_month_october,11:f.str_month_november,12:f.str_month_december};return b[a]},getAbbrMonth:function(a){var b={1:f.str_monthabbr_january,2:f.str_monthabbr_february,3:f.str_monthabbr_march,4:f.str_monthabbr_april,5:f.str_monthabbr_may,6:f.str_monthabbr_june,7:f.str_monthabbr_july,8:f.str_monthabbr_august,9:f.str_monthabbr_september,10:f.str_monthabbr_october,11:f.str_monthabbr_november,12:f.str_monthabbr_december};return b[a]},getFullDay:function(a){var b={1:f.str_day_sunday,2:f.str_day_monday,3:f.str_day_tuesday,4:f.str_day_wednesday,5:f.str_day_thursday,6:f.str_day_friday,7:f.str_day_saturday};return b[a]},getAbbrDay:function(a){var b={1:f.str_dayabbr_sunday,2:f.str_dayabbr_monday,3:f.str_dayabbr_tuesday,4:f.str_dayabbr_wednesday,5:f.str_dayabbr_thursday,6:f.str_dayabbr_friday,7:f.str_dayabbr_saturday};return b[a]},toInformalHours:function(a){return a>12?a-12:a||12},toDoubleDigit:function(a){return String(a>9?a:"0"+a)}},b.exports=d},{"../../../../artifacts/lang":2,lodash:"lodash"}],Dropdown:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils");d=e.createClass({displayName:"Dropdown",propTypes:{},componentDidMount:function(){var a=this;window.addEventListener("mousedown",a.handleCloseEvent,!0),window.addEventListener("focus",a.handleCloseEvent,!0),window.addEventListener("keydown",a.handleKeyDown,!0),window.addEventListener("scroll",a.handleCloseEvent,!0)},componentWillUnmount:function(){var a=this;window.removeEventListener("mousedown",a.handleCloseEvent,!0),window.removeEventListener("focus",a.handleCloseEvent,!0),window.removeEventListener("keydown",a.handleKeyDown,!0),window.removeEventListener("scroll",a.handleCloseEvent,!0)},shouldComponentUpdate:function(a){return!f.isEqual(this.props,a)},render:function(){var a=this,b=a.props;return e.createElement("div",{className:b.className,onClick:b.onClick},b.children)},shouldClose:function(a){var b=this,c=b.props,d=a;if(a&&a.getAttribute&&a.getAttribute("data-preventClose"))return!1;for(;d.parentNode;){if(d.classList.contains("ui-onboarding"))return!1;d=d.parentNode}return[c.parentNode,c.anchorNode,b.getDOMNode()].filter(f.identity).every(function(b){return!g.isDescendant(b,a)})},handleCloseEvent:function(a){a.target&&this.shouldClose(a.target)&&this.props.closeDropdown(a)},handleKeyDown:function(a){27===a.keyCode&&(this.props.closeDropdown(a),a.stopPropagation())}}),b.exports=d},{DOMUtils:"DOMUtils",lodash:"lodash","react/addons":"react/addons"}],EnhancedPromise:[function(a,b,c){"use strict";var d,e=a("lodash");d=function(a,b){var c,e,f,g,h=this,i=b;h._chainedPromises=[],f="pending",a instanceof Promise?g=a:(g=new Promise(function(b,d){c=function(){f="resolved",b.apply(g,arguments)},e=function(){f="rejected",d.apply(g,arguments)},a(c,e,function(a){i=a}),h.canceled&&h.cancel()}),h.cancel=function(){var a=this;if(a._chainedPromises.forEach(function(a){a.cancel&&a.cancel()}),"pending"===f){if(e){if(i)try{i()}catch(b){}e({error:"canceled"})}a.canceled=!0}}),h.then=function(a,b,c){var e,f=function(a,b){var c=a(b);return c instanceof d&&(e.cancel=c.cancel),c};return e=new d(g.then(a?f.bind(null,a):null,b?f.bind(null,b):null)),e._onProgress=c,e.cancel=h.cancel,h._chainedPromises.push(e),e},h.progress=function(){var a=arguments;h._chainedPromises.forEach(function(b){var c=a;b._onProgress&&(c=b._onProgress.apply(b,a)),"undefined"!=typeof c&&b.progress.apply(b,[c])})}},d.prototype=Object.create(Promise.prototype),d.prototype.constructor=d,d.resolve=function(a){return new d(function(b){b(a)},e.noop)},b.exports=d},{lodash:"lodash"}],FolderStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,yui.on("ds:folder:change",this.regenerateCache,this),yui.on("ds:account:add",this.regenerateCache,this),yui.on("ds:account:change",this.regenerateCache,this),yui.on("ds:account:remove",this.regenerateCache,this),this.setMaxListeners(256)}function e(a){return k?parseInt(a.id,10):a.folderInfo.index}var f=a("lodash"),g=a("events").EventEmitter,h=a("SearchConstants"),i=a("../../../artifacts/lang"),j=a("ObjectUtils"),k=yui.common.Utils.features.enabled("folderManagement"),l=yui.mail.model.DataStore.Folders;d.prototype={constructor:d,getCache:function(){return this.cache||this.fetch()},all:function(){return this.getCache()},fetch:function(){return this.cache=l.get().filter(this.isNotInvisible).concat([{isSystem:!0,folderInfo:{fid:"@C@Chats",name:"chats",index:8},id:"8",acctId:"1",types:["CHAT"]}])},regenerateCache:function(){this.fetch(),this.emit("change")},isNotInvisible:function(a){return a&&"I"!==a.type},isSearchable:function(a){return k?!f.find(a.types,function(a){return-1!==h.UNSEARCHABLE_TYPES.indexOf(a)}):-1===h.UNSEARCHABLE_FIDS.indexOf(a.folderInfo.fid)},isMoveable:function(a){return k?!f.find(a.types,function(a){return-1!==h.UNMOVEABLE_TYPES.indexOf(a)}):-1===h.UNMOVEABLE_FIDS.indexOf(a.folderInfo.fid)},isSystem:function(a){return a.isSystem},isUserCreated:function(a){return!a.isSystem},getSystemFolders:function(){return this.getCache().filter(this.isSystem)},getSearchableSystemFolders:function(){return this.getSystemFolders().filter(this.isSearchable)},getMoveableSystemFolders:function(){return this.getSystemFolders().filter(this.isMoveable)},getMoveableSystemFoldersInOrder:function(){return this.getMoveableSystemFolders().sort(function(a,b){return a.folderInfo.index-b.folderInfo.index})},getMoveableSystemFoldersByAccount:function(a){return f.chain(this.getMoveableFoldersByAccount(a)).filter(function(a){return a.isSystem}).sortBy(e).value()},getMoveableUserFoldersByAccount:function(a){return f.chain(this.getMoveableFoldersByAccount(a)).filter(function(a){return!a.isSystem}).sortBy(e).value()},getSearchableUserFolders:function(){return this.getUserFolders().filter(this.isSearchable)},getUserFolders:function(){return this.getCache().filter(this.isUserCreated)},getSearchableFolders:function(){return f.chain(this.getCache()).filter(this.isSearchable).sortBy(e).value()},findByFID:function(a){return f.find(this.all(),function(b){return b.folderInfo.fid===a})},findByName:function(a){return f.find(this.all(),function(b){return b.folderInfo.name===a})},findByIndex:function(a){return f.find(this.all(),function(b){return k?b.id.toString()===a.toString():b.folderInfo.index.toString()===a.toString()})},getPrimaryFolderByAccount:function(a){return l.getPrimaryFolderByAccount(a)},getFoldersByAccount:function(a){return f.filter(this.getCache(),function(b){return b.acctId===a})},getSearchableFoldersByAccount:function(a){return f.filter(this.getFoldersByAccount(a),this.isSearchable)},getMoveableFoldersByAccount:function(a){return f.filter(this.getFoldersByAccount(a),this.isMoveable)},getFoldersByType:function(a){return f.filter(this.getCache(),function(b){return-1!==b.types.indexOf(a)})},getFoldersByTypeAndAccount:function(a,b){return f.filter(this.getCache(),function(c){return-1!==c.types.indexOf(a)&&c.acctId===b})},getLocalizedFolderName:function(a){var b=this.findByFID(a);if(!b)return a;switch(b.folderInfo.fid){case"Inbox":return i.str_folder_inbox;case"Draft":return i.str_folder_drafts;case"Sent":return i.str_folder_sent;case"%40B%40Bulk":return i.str_folder_spam;case"Trash":return i.str_folder_trash;case"@C@Chats":return i.str_folder_chats;default:return b.folderInfo.name}},getLocalizedFolderNameById:function(a){var b=this.findByIndex(a),c=j.getValue(b,["types",0]);switch(c){case"INBOX":return i.str_folder_inbox;case"DRAFT":return i.str_folder_drafts;case"SENT":return i.str_folder_sent;case"BULK":return i.str_folder_spam;case"TRASH":return i.str_folder_trash;case"CHAT":return i.str_folder_chats}return this.getLocalizedFolderName(b.folderInfo.fid)}},d.decode=function(a){return window.decodeURIComponent(window.unescape(a))},d.normalizeFid=function(a){var b=a.toLowerCase(),c=this.decode(b);return"@c@chats"===c?b="chats":"@b@bulk"===c&&(b="spam"),b},d.storeName="FolderStore",f.mixin(d.prototype,g.prototype),b.exports=d},{"../../../artifacts/lang":2,ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",events:"events",lodash:"lodash"}],GlobalActions:[function(a,b,c){"use strict";var d,e=a("GlobalConstants");d={showNotification:function(a,b){a.dispatch(e.NOTIFICATION_SHOW,b)},dismissNotification:function(a,b){a.dispatch(e.NOTIFICATION_DISMISSED,b)},showOnboarding:function(a,b){a.dispatch(e.ONBOARDING_SHOW,b)},dismissOnboarding:function(a,b){a.dispatch(e.METADATA_CHANGE,b),a.dispatch(e.ONBOARDING_DISMISSED)},setMetaData:function(a,b){a.dispatch(e.METADATA_CHANGE,b)},changeSettings:function(a,b){a.dispatch(e.SETTINGS_CHANGE,b)}},b.exports=d},{GlobalConstants:"GlobalConstants"}],GlobalConstants:[function(a,b,c){"use strict";var d;d={DEFAULT:"default",RESPONSE_PENDING:"RESPONSE_PENDING",RESPONSE_IS_STREAMING:"RESPONSE_IS_STREAMING",RESPONSE_RECEIVED:"RESPONSE_RECEIVED",NOTIFICATION_SHOW:"NOTIFICATION_SHOW",NOTIFICATION_DISMISSED:"NOTIFICATION_DISMISSED",ONBOARDING_SHOW:"ONBOARDING_SHOW",ONBOARDING_DISMISSED:"ONBOARDING_DISMISSED",METADATA_CHANGE:"METADATA_CHANGE",SETTINGS_CHANGE:"SETTINGS_CHANGE",FALLBACK_XOBNI_IMG_URL:"https://s1.yimg.com/dh/ap/social/profile/profile_a48.png"},b.exports=d},{}],GlobalMessageStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._cache={}}var e=a("lodash"),f=a("events").EventEmitter,g={};d.prototype=e.merge({constructor:d,get:function(a){var b=[];return a=Array.isArray(a)?a:[a],a.forEach(function(a){this._cache[a]&&b.push(this._cache[a])},this),b},_mutate:function(a,b){a=Array.isArray(a)?a:[a],a.forEach(function(a){var c,d;this._cache[a]&&(c=this._cache[a],d=Object.freeze(e.assign({},c,b)),e.isEqual(d,c)||(this._cache[a]=d,this.emit("changed",d,c)))},this)},_updateFromAPI:function(a){(a.data.messages||a.data.items)&&(a.data.messages?e.each(a.data.messages,function(a){this._processMessages(a.items)},this):a.data.items&&this._processMessages(a.data.items))},_processMutationAction:function(a){a.ymuids&&a.delta&&this._mutate(a.ymuids,a.delta)},_processMessages:function(a){a.forEach(function(b,c){var d=b.imid;this._cache[d]?this._mutate(d,b):this._cache[d]=b,a[c]=b.imid},this)},_purge:function(){this._shouldPurge()&&(this._cache={})},_shouldPurge:function(){return!0}},f.prototype),d.storeName="GlobalMessageStore",d.handlers=g,b.exports=d},{events:"events",lodash:"lodash"}],IO:[function(a,b,c){"use strict";function d(a){var b=new k(function(c,e,f){var g,h=new XMLHttpRequest;h.onreadystatechange=function(){var f,i,j,k=h.readyState;if(4===k)if(b.progress({text:h.responseText}),g&&clearTimeout(g),h.status>=200&&h.status<300)c({text:h.responseText,status:h.status,url:h.responseURL});else{try{i=JSON.parse(h.responseText)}catch(n){}if(403===h.status){if(i&&(f=l.getValue(i,"wssid")))return NeoConfig.wssid=f,yui.common.net.SessionMgr.setWssid(f),a.url=a.url.replace(/wssid=[^&]+/,"wssid="+f),void d(a).then(c,e)}else if(401===h.status)return yui.once("net:reloginSuccessful",function(){d(a).then(c,e)}),void yui.common.net.Error.simpleRelogin();if(l.getValue(i,["error","code"],!1)){try{j=JSON.parse(a.data)}catch(n){}m.statTAE({method:l.getValue(j,"method",""),ymreqid:l.getValue(a,"ymreqid",""),wssid:l.getValue(NeoConfig,"wssid","")},{error:i.error,status:h.status})}e({text:h.responseText,status:h.status})}else 3===k&&b.progress({text:h.responseText})},h.open(a.method,a.url,!0),Object.keys(a.options).forEach(function(b){var c=a.options[b];"timeout"===b?"undefined"==typeof h.timeout?g=setTimeout(function(){h.abort(),e({text:"timeout",status:801})},c):(h.timeout=c,h.ontimeout=function(){e({text:"timeout",status:801})}):"headers"===b?Object.keys(c).forEach(function(a){h.setRequestHeader(a,c[a])}):h[b]=c});try{a.cors&&(h.withCredentials=!0),"POST"!==a.method||a.data||(a.data=""),h.send(a.data)}catch(i){e({text:i.message,status:802})}f(function(){e({text:"canceled",status:800}),h.abort()})});return b}function e(a){var b={id:"BatchWrapper",uri:a.url,method:a.method};return(a.data||"POST"===a.method)&&(b.payload=a.data||"",b.payloadType="embedded"),b}function f(a){var b,c;return-1===a.indexOf("wssid=")&&(b=-1===a.indexOf("?")?"?":"&",a+=b+"wssid="+NeoConfig.wssid),-1===a.indexOf("ymreqid=")&&(c=yui.common.net.Session.genReqID().toString(),a+="&ymreqid="+c),-1===a.indexOf("appid=")&&(a+="&appid=YahooMailNeo"),{url:a,ymreqid:c}}function g(a){var b=new k(function(c,d,e){yui.use("tictac-base-batch-transport",function(f){var g=f.Tictac.base.BatchTransport.send({requests:a},{success:function(a,b,d){c({isBatch:!0,response:d})},fail:function(a,b){d({isBatch:!0,error:b})},progress:function(a,c){b.progress({isBatch:!0,error:c})}},null,"&ymreqid="+yui.common.net.Session.genReqID());e&&g&&g.abort&&e(g.abort)})});return b}function h(a){var b,c,h=window.location.protocol+"\\/\\/"+window.location.hostname,i=new XMLHttpRequest,j=!1,k=/^http(s)?:\/\//i,l=f(a.url);return a.url=l.url,a.ymreqid=l.ymreqid,b=a.url,k.test(b)&&(window.location.port&&(h+=":"+window.location.port),h+="($|[/?#])",c=new RegExp(h,"i"),c.test(b)||(j=!0,"undefined"!=typeof i.withCredentials&&(a.cors=!0))),j&&!a.cors?g([e(a)]):d(a)}function i(a,b,c){return c=c||{},"object"==typeof b&&(b=JSON.stringify(b),c.headers=c.headers||{},c.headers["Content-Type"]||(c.headers["Content-Type"]="application/json")),h({method:"POST",url:a,data:b,options:c})}function j(a,b){return h({method:"GET",url:a,options:b||{}})}var k=a("EnhancedPromise"),l=a("ObjectUtils"),m=a("StatService");b.exports={get:j,post:i,sendBatch:g}},{EnhancedPromise:"EnhancedPromise",ObjectUtils:"ObjectUtils",StatService:"StatService"}],ListItem:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"ListItem",propTypes:{},getDefaultProps:function(){return{onContextMenu:f.noop}},render:function(){var a,b=this,c=b.props,d={active:c.active};return c.className&&(d[c.className]=!0),a=e.addons.classSet(d),e.createElement("li",{style:c.style,title:c.title,tabIndex:-1,key:c.key,className:a,onClick:b.handleItemClick,onContextMenu:b.handleItemContextMenu},c.children)},componentDidUpdate:function(){var a=this;a.props.active&&(a.props.onActive?a.props.onActive(a):a.getDOMNode().focus())},handleItemClick:function(a){var b=this;b.props.onClick(a,b.props.id)},handleItemContextMenu:function(a){var b=this;b.props.onContextMenu(a,b.props.id)}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],ListNavigation:[function(a,b,c){"use strict";var d={UP_DIRECTION:-1,DOWN_DIRECTION:1,navigate:function(a){var b=this.minIndex||0,c=this.getItems().length-1,d=this.state.selectedIndex+a;return d>c?d=b:b>d&&(d=c),this.setState({selectedIndex:d}),d},navigateDown:function(){return this.navigate(this.DOWN_DIRECTION)},navigateUp:function(){return this.navigate(this.UP_DIRECTION)}};b.exports=d},{}],List:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"List",propTypes:{},render:function(){var a=this.props;return e.createElement("ul",{className:a.className,tabIndex:a.tabIndex,"data-title":a.dataTitle,onKeyDown:a.onKeyDown},a.children)},focus:function(){this.getDOMNode().focus()}}),b.exports=d},{"react/addons":"react/addons"}],MenuButton:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("Menu");d=e.createClass({displayName:"MenuButton",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{showChevron:!1}},getInitialState:function(){return{isMenuOpen:!1,menuContentConfig:{}}},componentDidMount:function(){this.setState({node:this.getDOMNode()})},render:function(){var a,b=this,c={"search-menu-button":!0,opened:b.state.isMenuOpen};return c[b.props.className]=!0,a=e.addons.classSet(c),e.createElement("button",{className:a,title:b.props.title,disabled:b.props.disabled,onMouseDown:b.handleMouseDown,onKeyDown:b.handleKeyDown},b.props.label,b.renderChevron(),b.renderMenu())},renderChevron:function(){return this.props.showChevron?e.createElement("i",{className:"icon icon-chevron-down"}):void 0},renderMenu:function(){var a=this.props;return this.state.isMenuOpen?e.createElement(f,{anchorNode:this.state.node,closeMenu:this.closeMenu,menuContentConfig:this.state.menuContentConfig,keyboardNavDisabled:a.keyboardNavDisabled,ddClassName:a.ddClassName,dropdownXOrigin:a.dropdownXOrigin,dropdownYOrigin:a.dropdownYOrigin},a.children):void 0},openMenu:function(a){var b=this;b.setState({isMenuOpen:!0,menuContentConfig:a||{}}),b.props.onOpen&&b.props.onOpen()},closeMenu:function(a){var b=this;b.setState({isMenuOpen:!1}),a&&"keydown"===a.type&&b.getDOMNode().focus()},toggleMenuVisibility:function(a){var b=this;b.state.isMenuOpen?b.closeMenu(a):b.openMenu()},handleMouseDown:function(a){this.toggleMenuVisibility(a)},handleKeyDown:function(a){a.key&&"Enter"===a.key&&this.toggleMenuVisibility(a)},isMenuOpen:function(){return this.state.isMenuOpen}}),b.exports=d},{Menu:"Menu","react/addons":"react/addons"}],MenuItemGroup:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"MenuItemGroup",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{overflow:!1,togglable:!1,title:"",value:""}},render:function(){var a=this,b=a.props,c=e.addons.classSet({"search-menu-group":!0,"search-menu-togglable":b.togglable,"search-menu-group-overflow":b.overflow});return e.createElement("section",{className:c,title:b.title,"data-value":b.value},a.renderGroupTitle(),a.props.children)},renderGroupTitle:function(){return this.props.title?e.createElement("header",{className:"search-menu-group-title"},this.props.title):void 0}}),b.exports=d},{"react/addons":"react/addons"}],MenuItem:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("StringUtils");d=e.createClass({displayName:"MenuItem",propTypes:{},getInitialState:function(){return{active:!1,disabled:void 0}},getDefaultProps:function(){return{onClick:f.noop,menuContentConfig:{}}},setDisabled:function(a){this.setState({disabled:a||void 0})},setActive:function(a){this.setState({active:a})},render:function(){var a,b=this,c=b.props,d={"search-menuitem":!0,"menu-active-item":b.state.active,selected:c.selected};return c.className&&(d[c.className]=!0),a=e.addons.classSet(d),e.createElement("div",{className:a,onClick:c.onClick,"data-value":c.value,"data-disabled":c.disabled||b.state.disabled||void 0,title:c.title,dir:g.getTextDirection(c.title),tabIndex:"-1"},e.Children.map(c.children,function(a){return e.isValidElement(a)?e.addons.cloneWithProps(a,{setDisabled:b.setDisabled,setActive:b.setActive,menuContentConfig:b.props.menuContentConfig,closeMenu:b.props.closeMenu}):a}))}}),b.exports=d},{StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],MenuNavigation:[function(a,b,c){"use strict";var d={UP_DIRECTION:-1,DOWN_DIRECTION:1,navigate:function(a){var b=this,c=b.minIndex||0,d=b.state.menuItemCount-1,e=b.state.focusIndex+a;e>d?e=c:c>e&&(e=d),b.refs[b.itemPrefix+e].getDOMNode().focus(),b.setState({focusIndex:e})},navigateDown:function(){var a=this;a.navigate(a.DOWN_DIRECTION)},navigateUp:function(){var a=this;a.navigate(a.UP_DIRECTION)}};b.exports=d},{}],Menu:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("MenuNavigation"),g=a("BodyDropdown"),h=a("DOMUtils"),i=e.addons.cloneWithProps;
d=e.createClass({displayName:"Menu",propTypes:{},mixins:[e.addons.PureRenderMixin,f],getDefaultProps:function(){return{ddClassName:"",menuContentConfig:{}}},getInitialState:function(){return{focusIndex:-1,isDropdownOpen:!1,menuItemCount:this.getMenuItemCount(this.props.children)}},componentDidMount:function(){this.props.keyboardNavDisabled||window.addEventListener("keydown",this.handleKeyDown,!0)},componentWillUnmount:function(){this.props.keyboardNavDisabled||window.removeEventListener("keydown",this.handleKeyDown,!0)},componentDidUpdate:function(){this.setState({menuItemCount:this.getMenuItemCount(this.props.children)})},groupPrefix:"group",itemPrefix:"item",render:function(){var a=this,b=a.props,c="search-menu "+a.props.ddClassName;return e.createElement(g,{className:c,anchorNode:b.anchorNode,parentNode:b.parentNode,coordinates:b.coordinates,closeDropdown:b.closeMenu,onClick:b.closeMenu,dropdownXOrigin:b.dropdownXOrigin,dropdownYOrigin:b.dropdownYOrigin},a.addMenuItemRefs(b.children,{itemIndex:-1,groupIndex:-1}))},handleKeyDown:function(a){var b=this;switch(a.keyCode){case 13:-1!==b.state.focusIndex&&(b.refs[b.itemPrefix+b.state.focusIndex].getDOMNode().click(),h.halt(a));break;case 27:b.props.closeMenu(),h.halt(a);break;case 38:b.navigateUp(),h.halt(a);break;case 40:b.navigateDown(),h.halt(a)}},isMenuItemGroup:function(a){return"MenuItemGroup"===a.type.displayName},isMenuItem:function(a){return"MenuItem"===a.type.displayName},isEnabled:function(a){return!a.props.disabled},addMenuItemRefs:function(a,b){var c=this;return e.Children.map(a,function(a){var d=c.isMenuItemGroup(a),e=c.isMenuItem(a),f=c.isEnabled(a);return d?(b.groupIndex+=1,i(a,{key:c.groupPrefix+b.groupIndex,ref:c.groupPrefix+b.groupIndex,menuContentConfig:c.props.menuContentConfig,children:c.addMenuItemRefs(a.props.children,b)})):e&&f?(b.itemIndex+=1,i(a,{key:c.itemPrefix+b.itemIndex,ref:c.itemPrefix+b.itemIndex,menuContentConfig:c.props.menuContentConfig,closeMenu:c.props.closeMenu})):e?a:void 0})},getMenuItemCount:function(a){var b=this,c=0;return e.Children.forEach(a,function(a){b.isEnabled(a)&&(b.isMenuItemGroup(a)?c+=b.getMenuItemCount(a.props.children):Array.isArray(a)?c+=b.getMenuItemCount(a):b.isMenuItem(a)&&(c+=1))}),c}}),b.exports=d},{BodyDropdown:"BodyDropdown",DOMUtils:"DOMUtils",MenuNavigation:"MenuNavigation","react/addons":"react/addons"}],MessageConstants:[function(a,b,c){"use strict";var d=a("lodash");d.forEach(["SPAM_TYPE_NORMAL","SPAM_TYPE_NOTMINE","SPAM_TYPE_PHISH","SPAM_TYPE_HACKED","MOVE","MOVE_SUCCESS","MOVE_FAILURE","DELETE","DELETE_SUCCESS","DELETE_FAILURE","MARK_READ","MARK_READ_SUCCESS","MARK_READ_FAILURE","MARK_UNREAD","MARK_UNREAD_SUCCESS","MARK_UNREAD_FAILURE","STAR","STAR_SUCCESS","STAR_FAILURE","UNSTAR","UNSTAR_SUCCESS","UNSTAR_FAILURE","REPORT_SPAM","REPORT_SPAM_SUCCESS","REPORT_SPAM_FAILURE","PRINT","QUICK_FILTER","SET_ENCODING","UNDO","MESSAGES_RESTORED","UPDATE_MESSAGES","UPDATE_CONV","PROGRESS_START","PROGRESS_SUCCESS","PROGRESS_FAILURE","PROGRESS_CANCEL","PROGRESS_UPDATE","NOTIFICATION_DESTROYED"],function(a){c[a]=a}),c.SPAM_FID="%40B%40Bulk",c.TRASH_FID="Trash",c.MIN_BULK_SIZE=30},{lodash:"lodash"}],NotificationStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this.notifications=[],this.setMaxListeners(256)}var e=a("lodash"),f=a("events").EventEmitter,g=a("GlobalConstants"),h={};d.prototype=e.merge({constructor:d,get:function(){return this.notifications},_notificationShow:function(a){var b=this;a.id=e.uniqueId(),b.notifications.push(a),b.emit("changed")},_notificationDismissed:function(a){var b=this;b.notifications=b.notifications.filter(function(b){return b.id!==a}),b.emit("changed")}},f.prototype),h[g.NOTIFICATION_SHOW]="_notificationShow",h[g.NOTIFICATION_DISMISSED]="_notificationDismissed",d.storeName="NotificationStore",d.handlers=h,b.exports=d},{GlobalConstants:"GlobalConstants",events:"events",lodash:"lodash"}],Notifications:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("Context"),h=a("NotificationStore"),i=a("GlobalActions");d=e.createClass({displayName:"Notifications",mixins:[g],getInitialState:function(){return{notification:{}}},componentDidMount:function(){this.getStore(h).on("changed",this.handleNotificationChange)},componentWillUnmount:function(){this.getStore(h).removeListener("changed",this.handleNotificationChange)},componentDidUpdate:function(){var a=this.state;f.isEmpty(a.notification)||this.stormNotifyAPI(e.renderToString(a.notification.component),a.notification)},render:function(){return e.createElement("div",{className:"offscreen"})},stormNotifyAPI:function(a,b){var c=this;yui.use("common-ui-notification-v2",function(d){d.common.ui.NotificationV2.notify(a,{type:b.failure?"error":"info",duration:4e3,speed:"show-fast",cbkOnDestroy:!0,cbk:function(a,d){"undo"===d&&b.undoHandler&&b.undoHandler(),c.executeAction(i.dismissNotification,b.id)}})})},handleNotificationChange:function(){var a,b=this,c=b.getStore(h).get();c.length?(a=b.state.notification,a.id!==c[0].id&&(b.setState({notification:c[0]}),a=c[0])):b.state.notification&&b.setState({notification:{}})}}),b.exports=d},{Context:"Context",GlobalActions:"GlobalActions",NotificationStore:"NotificationStore",lodash:"lodash","react/addons":"react/addons"}],ObjectUtils:[function(a,b,c){"use strict";var d=a("lodash"),e=function(){return{getValue:function(a,b,c){var e,f,g,h=d.isString(b)?b.split("."):b;for(f=0,g=h.length;g>f;f++){if(e=h[f],!(d.isObject(a)&&e in a))return c;a=a[e]}return a},setValue:function(a,b,c){var e;d.isString(b)&&(b=b.split(".")),b.length>1?(e=b.shift(),this.setValue(a[e]=d.isObject(a[e])?a[e]:{},b,c)):a[b[0]]=c}}}();b.exports=e},{lodash:"lodash"}],OnboardingStore:[function(a,b,c){"use strict";function d(a){var b=this;b.dispatcher=a,b.onboarding="",this.setMaxListeners(256)}var e=a("lodash"),f=a("events").EventEmitter,g=a("GlobalConstants"),h={};d.prototype=e.merge({constructor:d,get:function(){return this.onboarding},hasOnboardingInView:function(){var a=this;return a.onboarding||a._hasStormOnboardings()},_hasStormOnboardings:function(){return document.getElementsByClassName("onboardtip").length},_onboardingShow:function(a){this.onboarding=a},_onboardingDismissed:function(){this.onboarding=""}},f.prototype),h[g.ONBOARDING_SHOW]="_onboardingShow",h[g.ONBOARDING_DISMISSED]="_onboardingDismissed",d.storeName="OnboardingStore",d.handlers=h,b.exports=d},{GlobalConstants:"GlobalConstants",events:"events",lodash:"lodash"}],Onboarding:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("Context"),g=a("BodyDropdown"),h=a("GlobalActions"),i=a("./OnboardingText.jsx");d=e.createClass({displayName:"Onboarding",mixins:[f,e.addons.PureRenderMixin],_templates:{OnboardingText:i},propTypes:{},getDefaultProps:function(){return{templateType:"OnboardingText",ddClassName:""}},componentDidMount:function(){var a=this;setTimeout(function(){a.executeAction(h.showOnboarding,a.props.metaDataKey)},0),a._yuiEvents=[],a._yuiEvents.push(yui.once("tabChange",function(){setTimeout(a.dismissOnboarding,0)}),yui.once("tab:title",function(){setTimeout(a.dismissOnboarding,0)}))},componentWillUnmount:function(){this._yuiEvents.forEach(function(a){a.detach()})},render:function(){var a=this,b=a.props,c=b.ddClassName;return e.createElement(g,{className:c,anchorNode:b.anchorNode,parentNode:b.parentNode,coordinates:b.coordinates,dropdownXOrigin:b.dropdownXOrigin,dropdownYOrigin:b.dropdownYOrigin,closeDropdown:a.dismissOnboarding,onClick:a.clickOnboarding},e.createElement(a._templates[b.templateType],b))},dismissOnboarding:function(){var a=this,b={};b[a.props.metaDataKey]=!0,a.executeAction(h.dismissOnboarding,b)},clickOnboarding:function(a){-1!==a.target.className.indexOf("onboarding-btn")&&this.dismissOnboarding()}}),b.exports=d},{"./OnboardingText.jsx":8,BodyDropdown:"BodyDropdown",Context:"Context",GlobalActions:"GlobalActions","react/addons":"react/addons"}],RelativeDateFormatter:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("DateTimeFormatter");d=e.createClass({displayName:"RelativeDateFormatter",propTypes:{},mixins:[e.addons.PureRenderMixin],render:function(){var a=this,b=a.props.timestamp?new Date(a.props.timestamp):new Date;return e.createElement("time",{className:a.props.className,dateTime:b.toISOString(),title:a.getFullDateTimeString(b)},a.renderDateTime(b))},renderDateTime:function(a){var b=this;return b.props.template?f.transform(a,b.props.template):b.getRelativeDateTime(a)},getFullDateTimeString:function(a){return f.transform(a,f.FULL)},getRelativeDateTime:function(a){var b=this;return b.isToday(a)?f.transform(a,f.TIME):b.isThisYear(a)?f.transform(a,f.INFORMAL):f.transform(a,f.COMPACT)},isThisYear:function(a){return(new Date).getFullYear()===a.getFullYear()},isToday:function(a){var b=new Date;return this.isThisYear(a)&&b.getMonth()===a.getMonth()&&b.getDate()===a.getDate()}}),b.exports=d},{DateTimeFormatter:"DateTimeFormatter","react/addons":"react/addons"}],SearchConstants:[function(a,b,c){var d;d={SEARCH_KEYWORD:"SEARCH_KEYWORD",RESET_SUGGESTION:"RESET_SUGGESTION",SET_QUERY:"SET_QUERY",REMOVE_QUERY:"REMOVE_QUERY",CONTACTS_TAB:"CONTACTS_TAB",CALENDAR_TAB:"CALENDAR_TAB",NOTEPAD_TAB:"NOTEPAD_TAB",OTHER_TAB:"OTHER_TAB",SEARCH_TAB:"SEARCH_TAB",FOLDER_TAB:"FOLDER_TAB",ADV_SEARCH_CONTACT_SUGGEST_TO:"ADV_SEARCH_CONTACT_SUGGEST_TO",ADV_SEARCH_CONTACT_SUGGEST_FROM:"ADV_SEARCH_CONTACT_SUGGEST_FROM",CONTACT_SUGGESTIONS_RECEIVED:"CONTACT_SUGGESTIONS_RECEIVED",BOOTCAMP_SUGGESTIONS_RECEIVED:"BOOTCAMP_SUGGESTIONS_RECEIVED",BOOTCAMP_SUGGESTIONS_FAILURE:"BOOTCAMP_SUGGESTIONS_FAILURE",SEARCH_INIT:"SEARCH_INIT",SEARCH_START:"SEARCH_START",SEARCH_UPDATE:"SEARCH_UPDATE",SEARCH_SUCCESS:"SEARCH_SUCCESS",SEARCH_FAILURE:"SEARCH_FAILURE",WEBSEARCH_SUGGESTIONS_RECEIVED:"WEBSEARCH_SUGGESTIONS_RECEIVED",WEBSEARCH_SUGGESTIONS_FAILURE:"WEBSEARCH_SUGGESTIONS_FAILURE",SEARCH:"SEARCH",ADD_RECENT_SEARCH:"ADD_RECENT_SEARCH",REMOVE_RECENT_SEARCH:"REMOVE_RECENT_SEARCH",SEARCH_MESSAGE_VIEW:"SEARCH_MESSAGE_VIEW",SEARCH_PHOTO_VIEW:"SEARCH_PHOTO_VIEW",SEARCH_DOCUMENT_VIEW:"SEARCH_DOCUMENT_VIEW",SEARCH_LINK_VIEW:"SEARCH_LINK_VIEW",SEARCH_MESSAGE_VIEW_FETCH_MORE:"SEARCH_MESSAGE_VIEW_FETCH_MORE",SEARCH_MESSAGE_VIEW_FETCH_MORE_SUCCESS:"SEARCH_MESSAGE_VIEW_FETCH_MORE_SUCCESS",SEARCH_MESSAGE_VIEW_FETCH_MORE_FAILURE:"SEARCH_MESSAGE_VIEW_FETCH_MORE_FAILURE",SEARCH_PHOTO_VIEW_FETCH_MORE:"SEARCH_PHOTO_VIEW_FETCH_MORE",SEARCH_PHOTO_VIEW_FETCH_MORE_SUCCESS:"SEARCH_PHOTO_VIEW_FETCH_MORE_SUCCESS",SEARCH_PHOTO_VIEW_FETCH_MORE_FAILURE:"SEARCH_PHOTO_VIEW_FETCH_MORE_FAILURE",SEARCH_DOCUMENT_VIEW_FETCH_MORE:"SEARCH_DOCUMENT_VIEW_FETCH_MORE",SEARCH_DOCUMENT_VIEW_FETCH_MORE_SUCCESS:"SEARCH_DOCUMENT_VIEW_FETCH_MORE_SUCCESS",SEARCH_DOCUMENT_VIEW_FETCH_MORE_FAILURE:"SEARCH_DOCUMENT_VIEW_FETCH_MORE_FAILURE",SEARCH_LINK_VIEW_FETCH_MORE:"SEARCH_LINK_VIEW_FETCH_MORE",SEARCH_LINK_VIEW_FETCH_MORE_SUCCESS:"SEARCH_LINK_VIEW_FETCH_MORE_SUCCESS",SEARCH_LINK_VIEW_FETCH_MORE_FAILURE:"SEARCH_LINK_VIEW_FETCH_MORE_FAILURE",SET_SELECTED_ITEMS:"SET_SELECTED_ITEMS",CLOSE_CURRENT_TAB:"CLOSE_CURRENT_TAB",BOOTCAMP_DIDYOUMEAN_RECEIVED:"BOOTCAMP_DIDYOUMEAN_RECEIVED",BOOTCAMP_DIDYOUMEAN_FAILURE:"BOOTCAMP_DIDYOUMEAN_FAILURE",CLEAN_UP_SEARCH_RESULTS:"CLEAN_UP_SEARCH_RESULTS",SEARCH_IN_ALL:"SEARCH_IN_ALL",SEARCH_IN_ACCOUNT:"SEARCH_IN_ACCOUNT",SEARCH_IN_FOLDERS:"SEARCH_IN_FOLDERS",REGEX_IN:/(?:\s|^)in:("[^")]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_IS:/(?:\s|^)is:("[^")]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_SANITIZE_HAS_IS_IN_MATCH:/(is:|has:|in:|"|')/g,REGEX_HAS_IS_IN:/(?:\s|^)(has|is|in):("[^"]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_HAS_IS_IN_ACCOUNT:/(?:\s|^)(has|is|in|account):("[^"]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_AFTER_BEFORE:/(?:\s|^)(after|before):(\d{4}\/\d{1,2}\/\d{1,2})(?=\s|$)/g,REGEX_FROM_TO_SUBJECT:/(?:\s|^)(from|to|subject):('(?:[^'\\]|\\')*'|"(?:[^"\\]|\\")*"|[^\s]*)(?=\s|$)/g,UNSEARCHABLE_FIDS:["%40B%40Bulk"],UNMOVEABLE_FIDS:["%40C%40Chats","@C@Chats","Sent","Draft"],COMMON_TYPES:["INBOX","DRAFT","SENT","TRASH"],UNSEARCHABLE_TYPES:["BULK"],UNMOVEABLE_TYPES:["SENT","DRAFT","CHAT"],SMARTVIEW_CATEGORIES:["unread","starred","personal","shopping","financial","social","travel"],MESSAGES:"MESSAGES",PHOTOS:"PHOTOS",DOCUMENTS:"DOCUMENTS",DOCS:"DOCS",PEOPLE:"PEOPLE",MAIN:"MAIN",FILTER_ALL:"ALL",FILTER_FROM:"FROM",FILTER_TO:"TO",FILTER_KEYWORD:"WITH_KEYWORD",FILTER_RELATED:"RELATED",PERSON_TOKEN_FALLBACK_IMG_DATA:"'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PHBhdGggZD0iTTUuODIzIDE2Ljc5OGwxNCAuMDAydi0xLjMzNXMuMDktLjg2LTEuNzYyLTEuNjRjLS45MTMtLjM4NC0xLjk5Mi0xLjEyLTMuOTI4LTEuMzU2LjU5Ni0uNDI1Ljg1Ny0xLjMwMiAxLjM2NS0yLjUxOGwuMDIzLS4wNmMuMTE2LjAyLjIzNi4wMi4zMjItLjAzLjIzNS0uMTM4LjM3OC0uODk1LjM4Mi0xLjI2Mi4wMDYtLjU1LS4yODctLjQ5Ny0uMjg3LS40OTdsLS4wMjQtLjAwNWMuMDAyLS4wNDQuMDA1LS4wODcuMDA1LS4xMyAwLS41MTcuMTA1LTEuMzQ4LS4wMzItMS44MDQtLjIxLS43MDYtLjQ2NC0xLjQ4Ni0xLjAyMy0xLjQ4Ni0uNTIgMC0uMTY3LS42MS0uODAyLS44MTMtLjY1NS0uMjEtMS43MzYuMTYtMS45NTQuMTYtLjMxNSAwLTEuMTA4LjIzLTEuNjU1Ljc3Ni0uMzg1LjM4NS0uMzQyLjY1LS41NTQgMS4zNi0uMTQuNDY3LS4wMzIgMS4zMS0uMDMyIDEuODA4IDAgLjA0NC4wMDMuMDg4LjAwNC4xMzItLjAwOCAwLS4wMTUuMDAzLS4wMTUuMDAzcy0uMjkzLS4wNTQtLjI4Ni40OTdjLjAwNC4zNjguMTQ2IDEuMTI0LjM4MiAxLjI2LjA4My4wNS4yLjA1Mi4zMS4wMzMuMDA4LjAxOC4wMTYuMDM2LjAyLjA1NC41MDYgMS4yMDcuNzgzIDIuMDkgMS4zNzMgMi41MTctMS45NTUuMjMtMy4wNDIuOTczLTMuOTYgMS4zNTgtMS44NjMuNzc3LTEuODcgMS41MzItMS44NyAxLjUzMnYxLjQ0NHoiIGZpbGw9IiMxQzg5RkYiLz48L3N2Zz4='"},b.exports=d},{}],StatService:[function(a,b,c){"use strict";var d,e=a("lodash"),f=window.NeoConfig||{};d=function(){var a={},b={tags:{bucket:f.expBucketId,agent:f.browser}};return{stat:function(a){var c=a;e.isString(a)&&(c={name:a}),yui.use("ymma-stats",function(a){a.fire("util:ymstats",e.merge(c,b))})},statTAE:function(a,b,c){var d,e,g=this,h=b.error.code,i=b.status,j="prod"===f.mailEnv?f.hostName.split(".")[3]:"",k=a.method;yui.use("mail-errormap","mail-error",function(l){d=l.mail.Errormap.getErrorInfo({code:h,method:k,suppressStat:c&&c.suppressStat,suppressNotification:c&&c.suppressNotification}),2!==d.tae&&13!==d.tae||"SaveMessage"!==k&&"SendMessage"!==k||(d.customCode=l.mail.Error.getSendSaveCustomErrorCode(JSON.stringify(b))),g.stat({name:d.suppressStat?"client_error":"ue_client_error",tags:{api:k,tae:d.tae,code:d.customCode||h,farm:f.farm.substr(1),ymreqid:a.ymreqid,wssid:a.wssid,colo:j,httpStatusCode:i}}),g.webserviceFail(d.tae,k,h,!d.suppressStat),e={m:(d.suppressStat?"":"UE_")+"DEBUG_TAE:"+(d.tae||"null")+":"+(k||"null")+":"+(h||"null")+":"+f.farm+" ",api:(k||"null")+" ",reason:(h||"null")+" ",errinfo:d,ymreqid:a.ymreqid,wssid:a.wssid,tab:"SEARCH"},g.mailLog(e,1,"tae"+d.tae)})},lighthouseBeaconStat:function(a,b){yui.fire("lhStat:feature_latency",{message:a,duration:b})},timerStart:function(b){a[b]=Date.now()},timerCurrentDuration:function(b){return a[b]&&Date.now()-a[b]},timerComplete:function(b){var c;return a[b]&&(c=Date.now()-a[b],delete a[b]),c},featureInvoke:function(a){yui.fire("stat:feature_invoke",e.merge({message:a,feature_group:"search"},b))},featureComplete:function(a){yui.fire("stat:feature_complete",e.merge({message:a,feature_group:"search"},b))},featureFail:function(a){yui.fire("stat:feature_fail",e.merge({message:a,feature_group:"search"},b))},featureLatency:function(a,c){yui.fire("stat:feature_latency",e.merge({message:a,feature_group:"search",value:c},b))},apiLatency:function(a,b,c){yui.fire("stat:feature_latency",e.merge({message:a,feature_group:"search",value:b},c))},webserviceFail:function(a,b,c,d){yui.fire("stat:webservice_fail",{tab:"SEARCH",tae:a,api:b,message:c,visible:d?"yes":"no"})},logRapid:function(a,b){yui.use("search-ult",function(c){c.fire(a,b)})},mailLog:function(a,b,c){b&&!c&&(c="stat_service_debug"),yui.fire("MailLog",a,b,c)}}}(),b.exports=d},{lodash:"lodash"}],StringUtils:[function(a,b,c){"use strict";var d,e=a("lodash"),f=a("./RTLCharactersRegExp"),g=a("./NeutralCharactersRegExp"),h=a("./ArabicShapingRegExp"),i=h.rightJoiner,j=h.leftJoiner,k="‍";d={hashCode:function(a){var b,c;for(c=0;c<a.length;c++)b=31*b+a.charCodeAt(c)<<0;return b},escapeHtml:function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return(a||"").replace(/[&<>'"]/g,function(a){return b[a]})},startsWith:function(a,b,c){return c=c||0,a.lastIndexOf(b,c)===c},startsWithIgnoreCase:function(a,b,c){return this.startsWith(a.toLowerCase(),b.toLowerCase(),c)},contains:function(a,b,c){return-1!==a.indexOf(b,c)},containsIgnoreCase:function(a,b,c){return this.contains(a.toLowerCase(),b.toLowerCase(),c)},indexOfIgnoreCase:function(a,b,c){return c=c||0,a.toLowerCase().indexOf(b.toLowerCase(),c)},escapeRegExp:function(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},capitalize:function(a){return a[0].toUpperCase()+a.slice(1)},stripHTML:function(a){return a.replace(/<\/?.*?>/g,"")},addUrlParameters:function(a,b){var c,d=a;return d?(-1===d.indexOf("?")?d+="?":"&"!==d.charAt(d.length-1)&&(d+="&"),c=Object.keys(b).map(function(a){return[encodeURIComponent(a),encodeURIComponent(b[a])].join("=")}),d+c.join("&")):""},stringReplace:function(a,b){var c=a.split(/({{{?.*?}}}?)/);return"function"==typeof b?c.map(function(a){var c=a.match(/{{([^}]+)}}/);return c?b(c[1].trim()):a}):c.map(function(a){var c=a.match(/{{([^}]+)}}/);return c?b[c[1].trim()]:a})},getTextDirection:function(){var a=new RegExp("^(?:"+g+")*(?:"+f+")"),b=new RegExp("^(?:"+g+")*$");return function(c){var d="ltr";return a.test(c)?d="rtl":b.test(c)&&(d=null),d}}(),getBidiString:function(a,b){var c;if("string"==typeof a){if(c=this.getTextDirection(a)||b,"ltr"===c)return"‪"+a+"‬";if("rtl"===c)return"‬"+a+"‫"}return a},bidiSafeConcatenate:function(a,b){return b=b||"ltr",Array.isArray(a)?e.reduce(a,function(a,c){return a+this.getBidiString(String(c),b)},"",this):a},mightNeedJoiner:function(a){return a.charCodeAt(0)>=1568},nextNeedsJoiner:function(a){return a=a.slice(-1),a&&this.mightNeedJoiner(a)&&j.test(a)},previousNeedsJoiner:function(a){return a=a[0],a&&this.mightNeedJoiner(a)&&i.test(a)},addRTLJoiners:function(a,b){return b=b||k,e.each(a,function(a,c,d){0!==c&&this.previousNeedsJoiner(a)&&this.nextNeedsJoiner(d[c-1])&&(d[c-1]=d[c-1]+b,d[c]=b+d[c]),d[c+1]&&this.nextNeedsJoiner(a)&&this.previousNeedsJoiner(d[c+1])&&(d[c+1]=b+d[c+1],d[c]=d[c]+b)},this),a},getFileName:function(a){return"string"==typeof a?-1!==a.lastIndexOf(".")?a.slice(0,a.lastIndexOf(".")+1):a:""},getFileExtension:function(a){return"string"==typeof a&&-1!==a.lastIndexOf(".")&&a.slice(a.lastIndexOf(".")+1)||""}},b.exports=d},{"./ArabicShapingRegExp":4,"./NeutralCharactersRegExp":5,"./RTLCharactersRegExp":6,lodash:"lodash"}],TabStore:[function(a,b,c){"use strict";function d(a,b){return g.isEqual(m(a,"keyword"),m(b,"keyword"))&&g.isEqual(m(a,"refinements"),m(b,"refinements"))&&g.isEqual(m(a,"folders"),m(b,"folders"))&&g.isEqual(m(a,"suggestion.serviceId"),m(b,"suggestion.serviceId"))}function e(){var a=n.getActiveTab(),b=a.widget&&a.widget.type||a.widgetType;switch(b){case"notepadtab":return j.NOTEPAD_TAB;case"contactstab":return j.CONTACTS_TAB;case"calendartab":return j.CALENDAR_TAB;case"search":return h?a.get("id"):j.SEARCH_TAB;case"convlist":case"messagelist":return j.FOLDER_TAB;default:return j.OTHER_TAB}}function f(a){var b=this;b.setMaxListeners(256),b.dispatcher=a,b._activeTabID=e(),b._discardedSearchId=null,yui.on("tabChange",function(){b._activeTabID=e(),b.emit("changed")})}var g=a("lodash"),h=yui.common.Utils.features.enabled("searchresults"),i=a("events").EventEmitter,j=a("SearchConstants"),k=a("StatService"),l=a("StringUtils"),m=a("ObjectUtils").getValue,n=yui.mail.Tabs,o={};f.prototype=g.merge(Object.create(i.prototype),{constructor:f,getTabId:function(){return this._activeTabID},getDiscardedSearchId:function(){return this._discardedSearchId},isSearchTabActive:function(){var a=n.getActiveTab();return a.widget&&"search"===a.widget.type||"search"===a.widgetType},getTabById:n.getTabById.bind(n),selectSearchTab:function(a){var b=this,c=a.query.toHumanReadableString(),e=a.query,f=n.getByType("search"),h=g.size(f),i=a.searchId,j=n.getActiveTab().widget,m=g.find(f,function(a){return d(a.widget.query,e)});return!m&&j&&"search"===j.type?(b._discardedSearchId=j.searchId,j.searchId=i,j.query=e,void j.set("title",l.escapeHtml(c))):(!m&&h>3&&(m=g.findLast(n.tabs,function(a){return a.widget&&"search"===a.widget.type||"search"===a.widgetType})),void(m?(j=m.widget,b._discardedSearchId=j.searchId,j.searchId=i,j.query=e,j.set("title",l.escapeHtml(c)),j.preventRefresh=!0,b.selectTab(m.get("id"))):(b._createSearchTab(i,e),h>=1&&k.stat({name:"search_tab_opened",tags:{tabCount:h+1}}))))},selectTab:function(a){var b;a!==this.getTabId()&&(b=n.getTabById(a),b&&n.switchToTab(b))},getTabBySearchId:function(a){return g.find(n.getByType("search"),function(b){return b.widget.searchId===a})},getActiveSearchId:function(){var a=n.getActiveTab().widget;return a&&"search"===a.type&&a.searchId?a.searchId:e()},_createSearchTab:function(a,b){var c=new yui.mail.ui.BaseWidget;c.render=function(a){c.renderLocation=a},c.type=c.widgetType="search",c.query=b,c.searchId=a,yui.mail.ui.Workspace.addContentWidget({p_label:"Search",s_label:"Search",hideToolbar:!0,reuse:!0,widget:c,isRemovable:!0,acwHandler:function(a){var d=a.tab;d.set("hideToolbar",!0),c.set("title",b.toHumanReadableString()),d.widget=c}})},closeCurrentTab:function(){var a=n.getActiveTab();a&&a.widget.set("close",1)}}),o[j.SEARCH_INIT]="selectSearchTab",o[j.CLOSE_CURRENT_TAB]="closeCurrentTab",f.storeName="TabStore",f.handlers=o,b.exports=f},{ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StatService:"StatService",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],Template:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"Template",mixins:[e.addons.PureRenderMixin],render:function(){var a=this,b=f.template(a.props.tmpl,null)(a.props);return e.createElement("span",{dangerouslySetInnerHTML:{__html:b}})}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],TokenizedTypeahead:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils"),h=a("List"),i=a("ListItem"),j=a("Typeahead");d=e.createClass({displayName:"TokenizedTypeahead",propTypes:{},getInitialState:function(){return{selectedIndex:this.props.tokens?this.props.tokens.length:0}},getDefaultProps:function(){return{tokens:[],inputValue:"",onKeyDown:f.noop,onComplete:function(a,b){return b},tokenTemplate:"div"}},shouldComponentUpdate:function(a,b){return!(f.isEqual(this.props,a)&&f.isEqual(this.state,b))},componentDidUpdate:function(a){f.isEqual(this.props.tokens,a.tokens)||this.setState({selectedIndex:this.props.tokens.length})},render:function(){var a,b=this,c=b.props,d=c.tokens,f=d.length,g=b.state.selectedIndex,h=f>0&&f>g,i={"tokenized-typeahead":!0,tokensSelected:h},k={};return i[c.className]=!!c.className,a=e.addons.classSet(i),c.endPadding&&(NeoConfig.isRTL?k["padding-left"]=c.endPadding:k["padding-right"]=c.endPadding),e.createElement("div",{className:a,style:k},e.createElement("div",{className:"tokenized-typeahead-container"},b.renderTokens(),e.createElement(j,{ref:"typeahead",items:c.items,itemTemplate:c.itemTemplate,onClick:b.handleClick,onFocus:c.onFocus,onSelect:b.handleTextSelection,placeholder:c.placeholder,onKeyUp:c.onKeyUp,onKeyDown:b.handleKeyDown,onKeyPress:c.onKeyPress,onChange:b.handleChange,onComplete:b.handleComplete,getItemValue:c.getItemValue,getAriaCountMessage:c.getAriaCountMessage,getAriaSuggestionMessage:c.getAriaSuggestionMessage,handleInputHint:c.handleInputHint,inputValue:c.inputValue})))},renderTokens:function(){var a=this.state.selectedIndex,b=this.props.tokens;return b.length>0?e.createElement(h,{className:"typeahead-token-list",onKeyDown:this.handleKeyDown},b.map(function(b,c){var d=e.createElement(this.props.tokenTemplate,{index:c,data:b,isSelected:0>a||a===c,destroyFunc:this.destroyToken});return e.createElement(i,{key:c,id:c,onClick:this.handleTokenClick},d)},this)):void 0},focus:function(){this.refs.typeahead.focus()},blur:function(){this.refs.typeahead.blur()},handleComplete:function(a,b){this.props.onComplete(a,b)},handleKeyDown:function(a){var b=this,c=b.props.tokens,d=b.state.selectedIndex,e=a.target,f=0===e.selectionStart&&0===e.selectionEnd;if((a.ctrlKey||a.metaKey)&&65===a.keyCode)b.setState({selectedIndex:-1});else if(a.key&&(f||-1!==d))switch(a.key){case"ArrowLeft":f&&b.setState({selectedIndex:Math.max(d-1,0)});break;case"ArrowRight":-1===d?(b.setState({selectedIndex:c.length}),g.halt(a)):d<c.length&&(b.setState({selectedIndex:d+1}),g.halt(a));break;case"Backspace":-1===d?b.destroyAllTokens():c.length&&(d===c.length&&c.length&&f?b.setState({selectedIndex:b.state.selectedIndex-1}):d<c.length&&b.destroyToken(c[d]))}b.props.onKeyDown(a)},handleChange:function(a){var b=this,c=b.props.tokens;-1===b.state.selectedIndex?b.destroyAllTokens():b.state.selectedIndex<c.length&&b.destroyToken(c[b.state.selectedIndex]),b.props.onChange(a)},handleClick:function(){var a=this;a.setState({selectedIndex:a.props.tokens.length})},handleTokenClick:function(a,b){var c=this;c.refs.typeahead.focus(),c.refs.typeahead.setSelectionRange(0,0),c.setState({selectedIndex:b})},destroyToken:function(a){this.props.handleDestroyToken(a)},destroyAllTokens:function(){var a=this;a.props.tokens.forEach(function(b){a.destroyToken(b)})},isInputFullySelected:function(a){return a.value.length>0&&0===a.selectionStart&&a.selectionEnd===a.value.length},handleTextSelection:function(a){var b=this;b.isInputFullySelected(a.target)?b.setState({selectedIndex:-1}):-1===b.state.selectedIndex&&b.setState({selectedIndex:b.props.tokens.length})}}),b.exports=d},{DOMUtils:"DOMUtils",List:"List",ListItem:"ListItem",Typeahead:"Typeahead",lodash:"lodash","react/addons":"react/addons"}],Token:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"Token",propTypes:{},render:function(){var a,b=this,c=b.props,d={"ui-token":!0,"ui-token-selected":c.isSelected,"ui-token-destroyable":c.destroyFunc};return c.data.className&&(d[c.data.className]=!0),c.data.intent&&(d["ui-token-type-"+c.data.intent.trim().toLowerCase()]=!0),a=e.addons.classSet(d),e.createElement("span",{className:a,title:c.data.displayStr,"data-value":c.data.dataValue},b.renderDisplayName(),b.renderCloseButton())},renderCloseButton:function(){var a=this;return a.props.destroyFunc?e.createElement("span",{ref:"close",className:"icon icon-close",onClick:a.destroyToken}):void 0},renderDisplayName:function(){var a,b=this,c=b.props.data,d={"ui-token-text":!0};return c.innerClassName&&(d[c.innerClassName]=!0),a=e.addons.classSet(d),e.createElement("span",{className:a},b.renderThumbnail(),c.displayStr)},renderThumbnail:function(){var a=this,b=a.props.data,c=[];return[b.imageUrl,b.fallbackImageUrl].forEach(function(a){a&&c.push("url("+a+")")}),c.length?e.createElement("figure",{className:"ui-token-thumbnail",style:{"background-image":c.join(", ")}}):void 0},destroyToken:function(a){var b=this;b.props.destroyFunc(b.props.data),a.stopPropagation()}}),b.exports=d},{"react/addons":"react/addons"}],Typeahead:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils"),h=a("StringUtils"),i=a("./Input.jsx"),j=a("List"),k=a("ListItem"),l=a("Dropdown"),m=a("ListNavigation"),n=a("AriaStatus"),o="⇤";d=e.createClass({displayName:"Typeahead",propTypes:{},isComposing:!1,isInputHintVisible:!0,minIndex:-1,mixins:[m],getInitialState:function(){return{selectedIndex:-1,isDropdownOpen:!1,temporaryInputValue:""}},getDefaultProps:function(){return{inputValue:"",items:[],itemTemplate:"div",onChange:f.noop,onKeyUp:f.noop,onKeyDown:f.noop,onKeypress:f.noop,onClick:f.noop,onFocus:f.noop,getAriaCountMessage:f.noop,getAriaSuggestionMessage:f.noop}},shouldComponentUpdate:function(a,b){return!(f.isEqual(this.props,a)&&f.isEqual(this.state,b))},componentWillReceiveProps:function(a){var b,c=this,d=a.inputValue,e=a.items;c.state.temporaryInputValue?d!==c.props.inputValue&&c.setState({temporaryInputValue:"",selectedIndex:-1}):(b=c.state.isDropdownOpen&&0!==e.length?d+c.handleInputHint(d,e):d,c.setState({fullInputValue:b}))},render:function(){var a=this,b=a.props,c=a.state.temporaryInputValue||b.inputValue,d=a.state.fullInputValue,f=a.refs.input&&a.refs.input.getDOMNode(),g=f&&0===f.scrollLeft&&a.isInputHintVisible,j="",k=h.getTextDirection(c);return g&&d!==c&&(j=d),"rtl"===k&&j&&(j=o+" "+j),e.createElement("div",{className:"typeahead-content-box"},e.createElement("div",{className:"typeahead-input-container"},e.createElement(i,{className:"typeahead-input-grayhint",disabled:!0,value:j,dir:k}),e.createElement(i,{ref:"input",className:"typeahead-input-usertext",onFocus:a.handleInputFocus,onClick:a.handleInputClick,onSelect:b.onSelect,onChange:a.handleInputChange,onKeyUp:b.onKeyUp,placeholder:b.placeholder,onKeyDown:a.handleInputKeyDown,onKeyPress:b.onKeyPress,onCompositionStart:a.handleInputCompositionStart,onCompositionEnd:a.handleInputCompositionEnd,value:c,dir:k})),a.renderDropdown(),a.renderAriaSuggestionMessage(),a.renderAriaCountMessage())},renderDropdown:function(){var a=this;return a.state.isDropdownOpen&&a.props.items.length>0?e.createElement(l,{parentNode:a.getDOMNode().parentElement,closeDropdown:a.closeDropdown},e.createElement(j,{ref:"typeaheadList",className:"typeahead-list"},a.props.items.map(function(b,c){var d=e.createElement(a.props.itemTemplate,{data:b,inputValue:a.props.inputValue,isSelected:a.state.selectedIndex===c});return e.createElement(k,{key:c,id:c,onClick:a.handleItemClick},d)}))):void 0},renderAriaCountMessage:function(){var a=this;return a.state.isDropdownOpen?e.createElement(n,{message:a.getAriaCountMessage()}):void 0},renderAriaSuggestionMessage:function(){var a=this;return a.state.isDropdownOpen?e.createElement(n,{message:a.getAriaSuggestionMessage()}):void 0},getAriaCountMessage:function(){var a=this;return a.props.getAriaCountMessage(a.props.items.length)||""},getAriaSuggestionMessage:function(){var a=this;return a.props.getAriaSuggestionMessage(a.getSelectedItem())||""},getInputValue:function(){return this.refs.input.getDOMNode().value},getItemValue:function(a){var b=this;return b.props.getItemValue?b.props.getItemValue(a):a},getSelectedItem:function(a){var b=this,c="undefined"!=typeof a?a:b.state.selectedIndex;return b.props.items[c]},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},setSelectionRange:function(a,b){this.refs.input.setSelectionRange(a,b)},shouldDisplayHint:function(a,b){var c=this;return!c.isComposing&&c.isInputHintVisible&&b.length>0&&a.length>0},getMatchingPart:function(a,b){var c=this,d="",e=b[0];return e&&(c.props.handleInputHint?d=c.props.handleInputHint(a,e):h.startsWithIgnoreCase(e,a)&&(d=e)),d},handleInputHint:function(a,b){var c=this;return b=b||c.props.items,c.shouldDisplayHint(a,b)?c.getMatchingPart(a,b).slice(a.length):""},handleInputChange:function(a){var b=this;a.inputValue=b.getInputValue(),b.props.onChange(a)},handleInputKeyDown:function(a){var b,c,d,e,f=this,i=a.key,j=f.refs.input,k={key:a.key,type:a.type,altKey:a.altKey,metaKey:a.metaKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,value:f.props.inputValue,fullInputValue:f.state.fullInputValue},l=f.props,m=f.state;switch(i){case"Enter":if(a.shiftKey)break;m.isDropdownOpen&&g.halt(a),f.isInputHintVisible=!1,d=l.inputValue.length,j.setSelectionRange(d,d),f.handleInputComplete(k),f.setState({fullInputValue:l.inputValue,isDropdownOpen:!1,selectedIndex:-1});break;case"ArrowLeft":case"ArrowRight":m.temporaryInputValue.length<1&&l.inputValue.length===j.getSelectionEnd()&&l.inputValue.length===j.getSelectionStart()&&m.fullInputValue!==l.inputValue&&-1===m.selectedIndex&&(e=h.getTextDirection(l.inputValue),("ltr"===e&&"ArrowRight"===i||"rtl"===e&&"ArrowLeft"===i)&&(f.handleInputComplete(k),a.preventDefault()));break;case"End":case"Tab":!a.shiftKey&&f.handleInputHint(l.inputValue).length>0&&(g.halt(a),f.handleInputComplete(g.cloneEvent(a)));break;case"Escape":break;case"ArrowUp":case"ArrowDown":a.preventDefault(),
f.setState({isDropdownOpen:!0}),c="ArrowUp"===i?f.navigateUp():f.navigateDown(),c>=0?(b=f.getItemValue(l.items[c]),f.setState({temporaryInputValue:b,fullInputValue:b},function(){j.setSelectionRange(b.length,b.length)})):f.setState({temporaryInputValue:"",fullInputValue:l.inputValue}),a.stopPropagation();break;default:f.isInputHintVisible=!0,f.setState({isDropdownOpen:!0})}a.nativeEvent.stopPropagation(),l.onKeyDown(a)},handleInputFocus:function(){var a=this,b=a.props;a.isInputHintVisible=!0,a.setState({isDropdownOpen:!0,fullInputValue:b.inputValue+a.handleInputHint(b.inputValue)},function(){b.onFocus()})},closeDropdown:function(){var a=this;a.setState({isDropdownOpen:!1,selectedIndex:-1,temporaryInputValue:"",fullInputValue:a.props.inputValue}),a.isInputHintVisible=!1},handleInputClick:function(a){this.props.onClick(a)},handleItemClick:function(a,b){var c=this;a=g.cloneEvent(a),c.isInputHintVisible=!1,c.setState({selectedIndex:b,isDropdownOpen:!1},function(){c.handleInputComplete(a),c.setState({selectedIndex:-1})})},handleInputComplete:function(a){var b,c=this,d=c.state.selectedIndex,e=a.key;"Enter"!==e&&(d=Math.max(0,d)),b=c.getSelectedItem(d),d>-1&&(b.idxSelected=d),c.props.onComplete?c.props.onComplete(a,b):"Tab"===e?c.setProps({inputValue:d>-1?b:""}):("ArrowRight"===e||"ArrowLeft"===e)&&c.setProps({inputValue:c.state.fullInputValue})},handleInputCompositionStart:function(){this.isComposing=!0},handleInputCompositionEnd:function(){this.isComposing=!1},getItems:function(){return this.props.items}}),b.exports=d},{"./Input.jsx":9,AriaStatus:"AriaStatus",DOMUtils:"DOMUtils",Dropdown:"Dropdown",List:"List",ListItem:"ListItem",ListNavigation:"ListNavigation",StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],UserSettingsConstants:[function(a,b,c){c.MSG_DENSITY_RELAXED=0,c.MSG_DENSITY_COMPACT=1,c.MSG_DENSITY_OPEN=2,c.TAB="tab",c.RECENT="recent",c.MSG_SORT_TYPE_DATE="date",c.MSG_SORT_TYPE_ATTACHMENT="attachmentcount",c.MSG_SORT_TYPE_RELEVANCE="relevance",c.MSG_SORT_ORDER_UP="up",c.MSG_SORT_ORDER_DOWN="down"},{}],UserSettingsStore:[function(a,b,c){"use strict";function d(a){var b=this;b.setMaxListeners(256),b.dispatcher=a,b.settings={}}var e=a("lodash"),f=a("events").EventEmitter,g=a("GlobalConstants"),h=a("ObjectUtils"),i={};d.prototype=e.merge({constructor:d,getAll:function(){return this.settings},get:function(a){return h.getValue(this.settings,a,null)},getMetaData:function(a){var b=this,c=b.settings.metaData;return c.get(a)},_setUserData:function(a){var b=this,c=b.settings.metaData;Object.keys(a).forEach(function(b){c.set(b,a[b]),c.save()}),b.emit("changed")},_changeSettings:function(a){Object.keys(a).forEach(function(b){this.settings[b]=a[b]}.bind(this)),this.emit("changed")}},f.prototype),i[g.METADATA_CHANGE]="_setUserData",i[g.SETTINGS_CHANGE]="_changeSettings",d.handlers=i,d.storeName="UserSettingsStore",b.exports=d},{GlobalConstants:"GlobalConstants",ObjectUtils:"ObjectUtils",events:"events",lodash:"lodash"}],Utils:[function(a,b,c){"use strict";var d=function(){var a={};return{loadPromisesMap:a,loadCSS:function(a){return new Promise(function(b){var c=document.head,d=new Image;d.onerror=function(){var d=document.createElement("link");d.rel="stylesheet",d.href=a,d.onload=b,window.setTimeout(b,200),c.insertBefore(d,c.firstChild)},d.src=a})},loadJS:function(a){return new Promise(function(b){var c=document.createElement("script");c.onload=b,c.src=a,document.head.appendChild(c)})},loadTictac:function(b){return a[b]||(a[b]=yui.mail.ui.Tictacs.loadTictac(b)),a[b]}}}();b.exports=d},{}],"context-mixin":[function(a,b,c){"use strict";var d=a("react/addons");b.exports={childContextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,extraPayload:d.PropTypes.object},getChildContext:function(){return{executeAction:this.context.executeAction,getStore:this.context.getStore,extraPayload:this.context.extraPayload}},contextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,extraPayload:d.PropTypes.object}}},{"react/addons":"react/addons"}],"dispatchr/utils/BaseStore":[function(a,b,c){"use strict";function d(a){var b=this;b.dispatcher=a,b._hasChanged=!1,b.initialize&&b.initialize()}var e=a("inherits"),f=a("events").EventEmitter,g="change";e(d,f),d.prototype.getContext=function(){return this.dispatcher.getContext()},d.prototype.addChangeListener=function(a){this.on(g,a)},d.prototype.removeChangeListener=function(a){this.removeListener(g,a)},d.prototype.shouldDehydrate=function(){return this._hasChanged},d.prototype.emitChange=function(a){var b=this;b._hasChanged=!0,b.emit(g,a||b)},b.exports=d},{events:"events",inherits:3}],"infinite-scroll":[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=5;d=e.createClass({displayName:"InfiniteScroll",getInitialState:function(){var a=this.props,b=a.items.length*a.itemHeight,c=Math.floor(b/a.itemHeight);return{loading:!1,scrollTop:0,loadThreshold:a.loadThreshold||g,items:a.items,hasMoreItems:a.hasMoreItems,itemHeight:a.itemHeight,itemsPerPage:c,visibleStart:0,visibleEnd:c,displayStart:0,displayEnd:Math.min(2*c,a.items.length)}},componentWillReceiveProps:function(a){var b=this,c=a.itemHeight,d=a.items.length,e=b.getScrollState(c,d);b.setState(f.merge({loading:!1,items:a.items,hasMoreItems:a.hasMoreItems},e))},componentWillMount:function(){var a=this,b=15;a.setState({itemsPerPage:b,visibleEnd:b,displayEnd:Math.min(2*b,a.state.items.length)})},componentDidMount:function(){var a=this,b=a.refs.scrollable.getDOMNode().offsetHeight,c=Math.floor(b/a.state.itemHeight);a.setState({itemsPerPage:c,visibleEnd:c,displayEnd:Math.min(2*c,a.state.items.length)})},getScrollState:function(a,b){var c=this,d=c.state,e=c.refs.scrollable.getDOMNode().scrollTop,f=d.itemsPerPage,g=Math.floor(e/a),h=Math.min(g+f,b),i=Math.max(0,g-f),j=Math.min(h+f,b);return{visibleStart:g,visibleEnd:h,displayStart:i,displayEnd:j,scrollTop:e}},onScroll:function(){var a=this,b=a.state,c=b.itemHeight,d=b.items.length;a.setState(a.getScrollState(c,d),a.loadMore)},_shouldLoad:function(){var a=this.state,b=a.items.length,c=a.displayStart;return!a.loading&&a.hasMoreItems&&b-c<a.loadThreshold*a.itemsPerPage},loadMore:function(){var a=this;a._shouldLoad()&&(a.setState({loading:!0}),a.props.loadMore())},render:function(){var a,b,c,d=this,f=d.props,g=d.state,h=g.itemHeight,i=g.items,j=g.displayStart,k=g.displayEnd,l=j*h,m=Math.max((i.length-1-k)*h,0),n=d.props.LoadMoreComponent,o=[];for(o.push(e.createElement("li",{key:"top",line:"top",style:{height:l}})),a=j;k>a;a++)b=i[a],c=e.createElement("li",{key:"row-"+a,className:f.itemClass,style:{height:h}},e.createElement(b.descriptor,b.props)),o.push(c);return o.push(e.createElement("li",{key:"bottom",line:"bottom",style:{height:m}})),this.state.loading&&this.props.LoadMoreComponent&&o.push(e.createElement("li",{key:"loading"},e.createElement(n,null))),e.createElement("div",{className:this.props.className,ref:"scrollable",onScroll:this.onScroll},e.createElement("ul",{className:"Reset"},o))}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}]},{},[11]);require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d="#Stencil .search-folder-scope-dd,.search-content button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.suggestion-adv-search button{background:transparent;border:0;outline:0;margin:0;padding:0}#Stencil .search-folder-scope-dd,.search-content button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.suggestion-adv-search button{background:transparent;border:0;outline:0;margin:0;padding:0}.suggestion-adv-search,.suggestion-search-web{border-top:1px solid #e5e5e5;line-height:3rem}.suggestion-adv-search{padding-right:15px;text-align:right}.suggestion-adv-search button:hover,.suggestion-adv-search button:focus,.menu-active-item .suggestion-adv-search button{color:rgba(117,144,245,.8)}.suggestion-adv-search button:active{color:#7590f5}.suggestion-row,.suggestion-row-icon{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.suggestion-row{cursor:pointer}.suggestion-row-content,.suggestion-search-web-shortcut{color:gray}.suggestion-row-icon{width:53px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.suggestion-row-icon.icon-search-web{font-size:1.8rem;padding-right:0}.suggestion-row-content{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-overflow:ellipsis;position:relative;overflow:hidden}.suggestion-search-web-shortcut{padding-right:15px;padding-left:10px;font-family:inherit}.suggestion-row-icon,.suggestion-search-web-shortcut{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}body{background:none}.StencilRoot input,.StencilRoot select,.StencilRoot textarea{box-shadow:none}.StencilRoot table{margin:0}.parens::before{content:'('}.parens::after{content:')'}.label-text{color:#7f7f7f}.button-plain{background:none repeat scroll 0 0 transparent;border:none;margin:0;outline:none;padding:0}#mail-search-btn,#web-search-btn{background-color:#198fff;border:0;border-radius:2px;box-shadow:#063a93 0 2px 0 0;color:#FFF;line-height:32px;margin:0 0 0 6px;padding-top:0;padding-bottom:0;min-width:117px}#web-search-btn{background-color:#3775dd;box-shadow:#21487f 0 2px 0 0}#Stencil .bdc-g{border-color:#e5e5e5}#Stencil .c-s{color:silver}#Stencil .c-w{color:#fff}#Stencil .c-b{color:black}#Stencil .c-bb{color:#1c89ff}#Stencil .c-bbb{color:#1567bf}#Stencil .bgc-w{background-color:#fff}#Stencil .bgc-lg{background-color:#f2f2f2}#Stencil .bgc-g{background-color:#ededed}#Stencil .c-n{color:#000}#Stencil .c-g,.icon-light{color:#999}.icon-light:hover{color:#333}#Stencil .ff-h{font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,Lucida Grande,sans-serif}#Stencil .bgc-lb,#Stencil button.bgc-lb:hover,#Stencil button.bgc-lb:active{background-color:#198fff}#Stencil .bdrc-lb,#Stencil button.bdrc-lb:hover,#Stencil button.bdrc-lb:active{border-color:#198fff}#Stencil .bgc-db,#Stencil button.bgc-db:hover,#Stencil button.bgc-db:active{background-color:#3775dd}#Stencil .bdrc-db,#Stencil button.bdrc-db:hover,#Stencil button.bdrc-db:active{border-color:#3775dd}#Stencil .bxsh-lb{box-shadow:0 2px #063a93}#Stencil .bxsh-db{box-shadow:0 2px #21487f}#Stencil .bdrs-4{border-radius:4px}#Stencil .bxshb-1{box-shadow:0 1px 1px #cdcdcd}#Stencil .mwpx-860{max-width:860px}#Stencil .miwpx-117{min-width:117px}#Stencil .hpx-30{height:30px}#Stencil .hpx-34{height:34px}#Stencil .hpx-35{height:35px}#Stencil .hpx-36{height:36px}#Stencil .hpx-40{height:40px}#Stencil .lh-10{line-height:10px}#Stencil .lh-14{line-height:14px}#Stencil .lh-30{line-height:30px}#Stencil .lh-40{line-height:40px}#Stencil .wpx-40{width:40px}#Stencil .mt-3{margin-top:3px}#Stencil .bgr-nr{background-repeat:no-repeat}#Stencil .Py-5{padding-top:5px;padding-bottom:5px}#Stencil .pb-26{padding-bottom:26px}#Stencil .Cur-t{cursor:text}#Stencil .fz-12{font-size:1.2rem}#Stencil .fz-14,#Stencil .fz-ms{font-size:1.4rem}.search-autocomplete{-moz-box-sizing:border-box;box-sizing:border-box;z-index:3;position:relative}.search-content{display:table-row}.search-autocomplete{display:table-cell;vertical-align:middle}.search-buttons{display:table-cell}#mail-search-btn{margin-left:6px}#Stencil .adv-search-container{border:1px solid #DDD;border-radius:0 0 3px 3px;margin:0 1px}#Stencil .adv-search-container [dir]{text-align:inherit}#Stencil .lt .adv-search-container{border-width:1px 0}#Stencil #adv-search-from ul,#Stencil #adv-search-to ul{box-shadow:none;border-width:1px;max-height:250px;overflow-y:auto}#Stencil .adv-search-container .typeahead-input:focus,#Stencil .adv-search-container input:focus{border-color:#7590f5;box-shadow:none}#Stencil .adv-search-container input{border-radius:2px}#Stencil .adv-search-container .custom-select::after{margin-top:8px}#Stencil .search-autocomplete .menu-active-item .icon-small-close,#Stencil .search-autocomplete li:hover .icon-small-close{display:block}.search-autocomplete .menu-active-item .adv-search-button,.adv-search-button:hover{border-radius:3px;background-color:#e5e5e5}#Stencil .custom-select select{background-color:transparent!important}#Stencil .offscreen{position:absolute;left:-9999px}#Stencil .search-folder-scope-dd{background:#FFF;border:1px solid #7590f5;border-left:0;-moz-box-sizing:border-box;box-sizing:border-box;color:#000;outline:0;margin:0;padding:0 26px 0 0;position:absolute;right:0;top:0;z-index:1;height:34px;max-width:120px}#Stencil .search-folder-scope-dd::-moz-focus-inner{padding:0;border:0}#Stencil .search-folder-scope-dd .search-folder-name,#Stencil .search-folder-scope-dd .icon-chevron{color:#7590f5;line-height:34px}#Stencil .search-folder-scope-dd .search-folder-name{font-size:1.3rem;padding-left:10px;-moz-transform:translateY(-1px)}.search-content button:hover .icon-chevron,.search-content button:focus .icon-chevron,.search-content button:active .icon-chevron{opacity:1}.search-content button.opened .icon-chevron::before{content:\"\\e056\"}.search-content button .icon-chevron{letter-spacing:-12px;line-height:inherit;opacity:.5;padding:0;position:absolute;top:0;right:10px;-moz-transform:translateY(1px);-webkit-transition:opacity 200ms ease-in-out;transition:opacity 200ms ease-in-out}.search-content button .icon-chevron::before{content:\"\\e055\";position:relative;left:-6px;top:1px}.search-folder-name{-moz-box-sizing:border-box;box-sizing:border-box;display:block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}";a("./../../../jarvis/node_modules/cssify")(d),b.exports=d},{"./../../../jarvis/node_modules/cssify":25}],2:[function(a,b,c){var d={str_advanced_mail_search:"Advanced mail search",str_all_accounts:"All accounts",str_all_email_types:"All email types",str_all_except_trash:"All except Trash",str_all_folders:"All folders",str_all_mail:"All mail",str_any_time:"Any time",str_better:"better",str_close:"Close",str_contact_suggestion_onboarding_description:"Click this contact for a {{better}} search results.",str_contact_suggestion_onboarding_title:"Smart contacts",str_contains:"Contains",str_custom_date:"Custom date…",str_date:"Date",str_finance:"Finance",str_financial:"Finance",str_folder_bulk:"Spam",str_folder_chats:"Instant Messages",str_folder_draft:"Drafts",str_folder_drafts:"Drafts",str_folder:"Folder",str_folder_inbox:"Inbox",str_folder_search_onboarding_description:"Click the arrow to search in {{folders}} and for more search options.",str_folder_search_onboarding_title:"Search smarter",str_folder_sent:"Sent",str_folders_lowercase:"folders",str_folder_spam:"Spam",str_folder_trash:"Trash",str_from:"From",str_from_people:"From people",str_has_attachment:"Has attachment",str_has_image:"Has image",str_important:"Important",str_in_the_last_30_days:"In the last 30 days",str_in_the_last_7_days:"In the last 7 days",str_onboarding_got_it_btn:"Got it",str_personal:"People",str_search_advanced:"Press enter to open the advanced search pane",str_search_btn:"Search",str_search_calendar:"Search Calendar",str_search_contacts:"Search Contacts",str_search_for_contact:"Search mailbox for the contact {{ contactName }}",str_search_for_recent:"Search mailbox for the recent search {{ keyword }}",str_search_in_folder:"Search in:",str_search_mail_for:"Search mailbox for the keyword {{ keyword }}",str_search_mail:"Search Mail",str_search_notepad:"Search Notepad",str_search:"Search",str_search_web_for:'Search the web for "{{ keyword }}"',str_search_web:"Search Web",str_select_starred:"Starred",str_select_unread:"Unread",str_shopping:"Shopping",str_social:"Social",str_social_updates:"Social updates",str_starred:"Starred",str_subject:"Subject",str_suggestion_email_singular:"{{emailAddress}}",str_suggestion_other_email_plural:"{{emailAddress}} & {{number}} more emails",str_suggestion_other_email_singular:"{{emailAddress}} & 1 more email",str_suggestions_available:"{{ count }} suggestions are available. Use the up and down arrow keys to navigate.",str_suggestions_not_available:"No suggestions are available.",str_to_lowercase:"to",str_to:"To",str_travel:"Travel",str_type:"Type",str_unread:"Unread",str_web_search_shortcut:"Shift + Enter",str_web_search:"Web search",last:null};b.exports=d},{}],3:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("SearchConstants"),h=a("../mixins/DropdownMixin"),i=a("Context"),j=a("FolderStore"),k=a("SearchQueryStore"),l=a("./ContactTypeAhead.jsx"),m=a("../../../../artifacts/lang"),n=a("DOMUtils");d=e.createClass({displayName:"AdvancedSearch",propTypes:{},mixins:[e.addons.LinkedStateMixin,h,i],getInitialState:function(){return{dateValue:""}},componentDidMount:function(){var a=this;a.prepopulateInputs(a.props.query),a.focusFirstElement()},render:function(){var a=this,b=e.addons.classSet({Dn:"custom"!==a.state.dateValue}),c=a.getStore(j),d="Btn default miwpx-117 bgc-lb bdrc-lb Mt-14 Bgi-n c-w Mend-6 Bdrs-6 bxsh-lb Va-t Py-5 hpx-30";return e.createElement("div",null,e.createElement("button",{className:"button-plain Fl-end Mx-14 Mt-14 Mb-6",title:m.str_close,onClick:a.props.setClosed},e.createElement("span",{className:"icon icon-small-close icon-light lh-10 Pend-0"})),e.createElement("form",{className:"c-b Bgc-w Px-20 Pt-0 pb-26 adv-search-container",onKeyDown:a.handleKeyDown,onChange:a.handleChange,onSubmit:a.handleSubmit},e.createElement("table",{className:"W-100",role:"presentation"},e.createElement("col",{width:"75px"}),e.createElement("col",null),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},m.str_from),e.createElement("td",{role:"presentation",className:"Pstart-0",id:"adv-search-from",onKeyDown:a.handleFromKeyDown},e.createElement(l,{ref:"from",id:g.ADV_SEARCH_CONTACT_SUGGEST_FROM,onChange:a.handleChange}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},m.str_to),e.createElement("td",{role:"presentation",className:"Pstart-0",id:"adv-search-to"},e.createElement(l,{ref:"to",id:g.ADV_SEARCH_CONTACT_SUGGEST_TO,onChange:a.handleChange}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-subject"},m.str_subject)),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("input",{type:"text",ref:"subject",id:"adv-search-subject",className:"W-100 Py-6 My-4"}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-contains"},m.str_contains)),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("input",{type:"text",ref:"contains",id:"adv-search-contains",className:"W-100 Py-6 My-4"}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-date"},m.str_date)),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",{className:"custom-select W-100"},e.createElement("select",{className:"W-100 Py-6 My-4",ref:"date",id:"adv-search-date",valueLink:a.linkState("dateValue")},e.createElement("option",{value:""},m.str_any_time),e.createElement("option",{value:"week"},m.str_in_the_last_7_days),e.createElement("option",{value:"month"},m.str_in_the_last_30_days),e.createElement("option",{value:"custom"},m.str_custom_date))))),e.createElement("tr",{role:"presentation",className:b},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",null,e.createElement("div",{className:"D-ib"},e.createElement("input",{className:"Py-6 My-4",type:"text",size:"12",maxLength:"10",placeholder:"YYYY/MM/DD",ref:"fromDate"})),e.createElement("span",{className:"D-ib Mx-10"},m.str_to_lowercase),e.createElement("div",{className:"D-ib"},e.createElement("input",{className:"Py-6 My-4",type:"text",size:"12",maxLength:"10",placeholder:"YYYY/MM/DD",ref:"toDate"}))))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-folder"},m.str_folder)),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",{className:"custom-select W-100"},e.createElement("select",{className:"W-100 Py-6 My-4",id:"adv-search-folder",ref:"folder"},e.createElement("option",{value:"*trash"},m.str_all_except_trash),c.getSearchableFolders().map(function(a){var b=a.id||a.folderInfo.index.toString();return e.createElement("option",{key:b,"data-id":b,value:a.folderInfo.fid},c.getLocalizedFolderNameById(b))}))))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-type"},m.str_type)),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",{className:"custom-select W-100"},e.createElement("select",{id:"adv-search-type",className:"W-100 Py-6 My-4",ref:"type"},e.createElement("option",{value:""},m.str_all_email_types),e.createElement("option",{value:"unread"},m.str_select_unread),e.createElement("option",{value:"starred"},m.str_select_starred),e.createElement("option",{value:"personal"},m.str_from_people),e.createElement("option",{value:"shopping"},m.str_shopping),e.createElement("option",{value:"travel"},m.str_travel),e.createElement("option",{value:"social"},m.str_social_updates),e.createElement("option",{value:"financial"},m.str_finance))))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("label",{className:"cbox Mt-10"},e.createElement("input",{type:"checkbox",ref:"attachment",id:"adv-search-attachment"}),e.createElement("span",{className:"icon c-b"}),e.createElement("span",{className:"text"},m.str_has_attachment)))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("label",{className:"cbox Mt-10"},e.createElement("input",{type:"checkbox",ref:"image",id:"adv-search-image"}),e.createElement("span",{className:"icon c-b"}),e.createElement("span",{className:"text"},m.str_has_image)))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("button",{onKeyDown:a.handleButtonKeyDown,type:"submit",ref:"advSearchBtn",className:d},m.str_search_mail))))))},handleSubmit:function(a){var b=this;b.props.handleMailSearch("search_box_adv_search"),b.props.setClosed(),n.halt(a)},handleChange:function(){var a=this,b=a.refs,c={from:b.from.getInputValue(),to:b.to.getInputValue(),subject:b.subject.getDOMNode().value,contains:b.contains.getDOMNode().value,date:b.date.getDOMNode().value,folder:b.folder.getDOMNode().value,type:b.type.getDOMNode().value,attachment:b.attachment.getDOMNode().checked,image:b.image.getDOMNode().checked,fromDate:b.fromDate.getDOMNode().value,toDate:b.toDate.getDOMNode().value};a.setContainerValue(a.convertToQueryObject(c))},setContainerValue:function(a){var b=this,c=b.props.query;b.props.setQuery(b.getStore(k).createQuery({keyword:a.keyword,suggestion:c.suggestion,folders:a.folders?a.folders:c.folders,refinements:a.refinements?a.refinements:c.refinements,shouldParseKeyword:!1}))},handleButtonKeyDown:function(a){"Tab"!==a.key||a.shiftKey||(this.focusFirstElement(),n.halt(a))},handleFromKeyDown:function(a){"Tab"===a.key&&a.shiftKey&&(this.refs.advSearchBtn.getDOMNode().focus(),n.halt(a))},handleKeyDown:function(a){"Escape"===a.key&&this.props.setClosed(),a.stopPropagation()},appendSearchQuery:function(a,b,c){c.match(/\s/)&&b?a.push(b+'"'+c+'"'):a.push(b+""+c)},convertToQueryObject:function(a){var b,c,d,e,f,g,h=this,i=h.getStore(j),k=[];return a.from&&h.appendSearchQuery(k,"from:",a.from),a.to&&h.appendSearchQuery(k,"to:",a.to),a.subject&&h.appendSearchQuery(k,"subject:",a.subject),a.contains&&h.appendSearchQuery(k,"",a.contains),"*trash"===a.folder?d=[]:a.folder&&(b=i.findByFID(a.folder),d=[{displayName:i.getLocalizedFolderNameById(b.id||b.folderInfo.index.toString()),acctIds:null,folderIds:[b.id||b.folderInfo.index.toString()]}]),a.type&&(c=["is:"+a.type]),a.attachment&&h.appendSearchQuery(k,"has:attachment",""),a.image&&h.appendSearchQuery(k,"has:image",""),a.date&&(e=new Date,"week"===a.date?(g=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),e.setDate(e.getDate()-7),f=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()):"month"===a.date?(g=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),e.setDate(e.getDate()-30),f=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()):"custom"===a.date&&(f=a.fromDate,g=a.toDate),f&&h.appendSearchQuery(k,"after:",f),g&&h.appendSearchQuery(k,"before:",g)),{keyword:k.join(" "),folders:d,refinements:c}},focusFirstElement:function(){this.refs.from.focus()},matchFromToSubject:function(a,b){var c=this.refs;return b.match(/\s/)&&(b=b.replace(/(['"])(.*)\1/,"$2").replace(/\\(['"])/g,"$1")),"subject"===a?c[a].getDOMNode().value=b:c[a].setInputValue(b),!0},matchDates:function(a,b){var c=this.refs;return isNaN(new Date(b).getTime())?!1:(c.date.getDOMNode().value="custom","after"===a?c.fromDate.getDOMNode().value=b:c.toDate.getDOMNode().value=b,!0)},matchHas:function(a,b){var c,d=this,e=d.refs,f=[];return c=b.match(/(["'])(.*)\1/),c&&(b=c[2]),"has"===a&&(f=["attachment","image"]),f.indexOf(b)>=0?("has"===a&&(e[b].getDOMNode().checked=!0),!0):!1},runRegularExpression:function(a,b,c){for(var d=a.exec(b),e=b;d;)c(d[1],d[2])&&(e=e.replace(d[0],"")),d=a.exec(b);return e},prepopulateInputs:function(a){var b,c,d=this,e=a.keyword,h=d.getStore(j),i=d.refs;d.props.folder&&(i.folder.getDOMNode().value=d.props.folder),e=d.runRegularExpression(g.REGEX_FROM_TO_SUBJECT,e,d.matchFromToSubject),e=d.runRegularExpression(g.REGEX_AFTER_BEFORE,e,d.matchDates),e=d.runRegularExpression(g.REGEX_HAS_IS_IN,e,d.matchHas),c=f.find(a.refinements,function(a){var b=a.trim(),c=b.split(":");return"is"===c[0]}),c&&(i.type.getDOMNode().value=c.trim().split(":")[1]),b=f.find(a.folders,function(a){return!f.isEmpty(a.folderIds)}),b&&(b=h.findByIndex(b.folderIds[0]),i.folder.getDOMNode().value=b.folderInfo.fid),i.contains.getDOMNode().value=e.replace(/\s+/," ").trim(),d.handleChange()}}),b.exports=d},{"../../../../artifacts/lang":2,"../mixins/DropdownMixin":11,"./ContactTypeAhead.jsx":5,Context:"Context",DOMUtils:"DOMUtils",FolderStore:"FolderStore",SearchConstants:"SearchConstants",SearchQueryStore:"SearchQueryStore",lodash:"lodash","react/addons":"react/addons"}],4:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("StringUtils");d=e.createClass({displayName:"ContactSuggestion",render:function(){var a=e.addons.classSet({Ell:!0,"menu-active-item":this.props.isSelected});return e.createElement("div",{className:a,dir:f.getTextDirection(this.props.data.displayStr)},e.createElement("span",{className:"Mx-4"},this.boldify(f.getBidiString(this.props.data.displayStr),this.props.inputValue)),e.createElement("span",{className:"Mx-4 parens",dir:"ltr"},this.boldify(this.props.data.emailAddresses[0],this.props.inputValue)))},boldify:function(a,b){var c=f.indexOfIgnoreCase(a,b),d=c+b.length,g=a.substring(0,c),h=a.substring(c,d),i=a.substring(d),j=f.addRTLJoiners([g,h,i]);return c>=0?e.createElement("span",null,j[0],e.createElement("strong",null,j[1]),j[2]):e.createElement("span",null,a)}}),b.exports=d},{StringUtils:"StringUtils","react/addons":"react/addons"}],5:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("../../../../artifacts/lang"),h=a("SearchActions"),i=a("../../stores/ContactSuggestionsStore"),j=a("SearchQueryStore"),k=a("Typeahead"),l=a("./ContactSuggestion.jsx"),m=a("StringUtils"),n=a("Context");d=e.createClass({displayName:"ContactTypeahead",mixins:[n],getInitialState:function(){return{items:[],inputValue:""}},componentDidMount:function(){this.getStore(i).on("changed",this.updateItems)},componentWillUnmount:function(){this.getStore(i).removeListener("changed",this.updateItems)},render:function(){var a=this;return e.createElement(k,{ref:"typeahead",items:a.state.items,inputValue:a.state.inputValue,disabled:a.props.disabled,itemTemplate:l,onChange:a.handleChange,onComplete:a.handleComplete,getItemValue:a.getItemValue,getAriaCountMessage:a.getAriaCountMessage,getAriaSuggestionMessage:a.getAriaSuggestionMessage,handleInputHint:a.handleInputHint})},updateItems:function(){this.setState({items:this.getStore(i).get(this.props.id)})},handleChange:function(a){var b=this;b.executeAction(h.getContactSuggestions,{query:b.getStore(j).createQuery({keyword:a.inputValue}),searchId:b.props.id}),b.setState({inputValue:a.inputValue},b.props.onChange)},handleInputHint:function(a,b){var c="",d=b.displayStr,e=b.emailAddresses[0],f=new RegExp("^"+m.escapeRegExp(a),"i");return f.test(d)?c=d:f.test(e)&&(c=e),c},handleComplete:function(a,b){this.handleChange({inputValue:b?b.emailAddresses[0]:a.value})},getItemValue:function(a){return a.emailAddresses[0]},getInputValue:function(){return this.state.inputValue},focus:function(){this.refs.typeahead.focus()},setInputValue:function(a){this.setState({inputValue:a},this.props.onChange)},getAriaCountMessage:function(a){return a?f.template(g.str_suggestions_available,null)({count:a}):g.str_suggestions_not_available},getAriaSuggestionMessage:function(a){return a?a.displayStr:void 0}}),b.exports=d},{"../../../../artifacts/lang":2,"../../stores/ContactSuggestionsStore":16,"./ContactSuggestion.jsx":4,Context:"Context",SearchActions:"SearchActions",SearchQueryStore:"SearchQueryStore",StringUtils:"StringUtils",Typeahead:"Typeahead",lodash:"lodash","react/addons":"react/addons"}],6:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=yui.common.Utils.features.enabled("imapIn"),h=a("Context"),i=a("SearchConstants"),j=a("SearchActions"),k=a("ObjectUtils"),l=a("AccountStore"),m=a("../../stores/BootcampSuggestionsStore"),n=a("FolderStore"),o=a("UserSettingsStore"),p=a("OnboardingStore"),q=a("../../stores/RecentSearchesStore"),r=a("SearchQueryStore"),s=a("../../stores/SearchSuggestionsStore"),t=a("../../stores/WebSearchSuggestionsStore"),u=a("TabStore"),v=a(g?"../dropdown/FolderDropdownV2.jsx":"../dropdown/FolderDropdown.jsx"),w=a("./AdvancedSearch.jsx"),x=a("./SearchButton.jsx"),y=a("Token"),z=a("TokenizedTypeahead"),A=a("./Suggestion.jsx"),B=a("Onboarding"),C=a("../../../../artifacts/lang"),D=a("DOMUtils"),E=a("StringUtils"),F=a("StatService"),G=yui.common.Utils.features,H=a("../../stores/SearchSuggestion");d=e.createClass({displayName:"Container",mixins:[h],propTypes:{webSuggestionsEnabled:e.PropTypes.bool.isRequired},getDefaultProps:function(){return{webSuggestionsEnabled:!1}},getInitialState:function(){return{hasShownFolderSearchOnboarding:!0,hasShownContactSuggestionOnboarding:!0,isAdvancedPaneOpen:!1,keyword:"",tokens:[],preventSuggestionHighlight:!1,suggestions:this.getStore(s).get(this.getSearchId())}},componentDidMount:function(){var a=this,b=a.getContext();a.getStore(u).on("changed",a.handleTabChange),a.getStore(r).on("changed",a.queryUpdated),a.getStore(m).on("changed",a.updateBootcampSuggestions),a.getStore(t).on("changed",a.updateSuggestions),a.getStore(q).on("changed",a.updateSuggestions),a.getStore(o).on("changed",a.handleUserDataUpdate),b.events.on("search:advancedSearch:open",a.showAdvancedPane),b.events.on("search:advancedSearch:close",a.handleClose),b.events.on("search:advancedSearch:toggle",a.toggleAdvancedPane),a._yuiEvents.push(yui.on("search:jumpToSearch",a.handleJumpToSearch)),a._yuiEvents.push(yui.on("search:jumpToAdvancedSearch",a.handleJumpToAdvSearch)),a._yuiEvents.push(yui.on("contactDetails:contactDataFetched",a.handleContactDataFetched)),a._yuiEvents.push(yui.on("fireSearch",a.handleFireSearch)),a._yuiEvents.push(yui.on("search:setSearchQuery",a.handleSmartFolder)),a._yuiEvents.push(yui.on("search:fireBootcampSearch",a.handleBootcampSearch)),a._yuiEvents.push(yui.on("search:focus",a.refs.typeahead.focus)),a.fetchSuggestionsThrottled=f.debounce(function(b){a.fetchSuggestions(b)},200),g&&a.setCurrentAccountScope()},componentWillUnmount:function(){var a=this,b=a.getContext();a.getStore(u).removeListener("changed",a.handleTabChange),a.getStore(r).removeListener("changed",a.queryUpdated),a.getStore(m).removeListener("changed",a.updateBootcampSuggestions),a.getStore(t).removeListener("changed",a.updateSuggestions),a.getStore(q).removeListener("changed",a.updateSuggestions),b.events.removeListener("search:advancedSearch:open",a.showAdvancedPane),b.events.removeListener("search:advancedSearch:close",a.handleClose),a._yuiEvents.forEach(function(a){a.detach()})},render:function(){var a=this,b="",c=a.isACEnabled()?a.state.suggestions:[];return G.enabled("searchBoxPlaceholder")&&0===a.state.tokens.length&&(b=C.str_search),e.createElement("div",{className:"search-content"},e.createElement("div",{className:"search-autocomplete Fz-s Mend-6 W-100 ff-h Bgc-t c-n"},e.createElement(z,{ref:"typeahead",inputValue:a.state.isCollapsedQuery?"":a.state.keyword,items:c,tokens:a.state.tokens,tokenTemplate:y,itemTemplate:A,placeholder:b,onFocus:a.handleFocus,onChange:a.handleChange,onComplete:a.handleComplete,onKeyUp:a.handleKeyUp,onKeyPress:a.handleKeyPress,onKeyDown:a.handleKeyDown,getItemValue:a.getItemValue,getAriaCountMessage:a.getAriaCountMessage,getAriaSuggestionMessage:a.getAriaSuggestionMessage,handleInputHint:a.handleInputHint,handleDestroyToken:a.handleDestroyToken}),a.renderFolderDropdown(),a.renderAdvancedSearch()),a.renderButtons(),a.renderFolderSearchOnboarding(),a.renderContactSuggestionOnboarding())},renderAdvancedSearch:function(){var a=this;return a.state.isAdvancedPaneOpen&&a.isACEnabled()?e.createElement(w,{query:a.getQuery(),setQuery:a.setQuery,setClosed:a.handleClose,handleMailSearch:a.handleMailSearch}):void 0},renderButtons:function(){var a=this;return e.createElement("div",{className:"search-buttons"},e.createElement(x,{searchLabel:a.getSearchBtnText(),handleSearch:a.handleMailSearch}),e.createElement(x,{searchLabel:C.str_search_web,handleSearch:a.handleWebSearchBtn,id:"web-search-btn"}))},shouldRenderFolderSearchOnboarding:function(){var a=this;return!(a.state.hasShownFolderSearchOnboarding||a.refs.typeahead.refs.typeahead.refs.input.getDOMNode()!==document.activeElement||a.getStore(p).hasOnboardingInView()&&"hasShownFolderSearchOnboarding"!==a.getStore(p).get())},_hasPeopleSuggestion:function(){var a=this,b=a.isACEnabled()?a.getStore(m).get(a.getSearchId()):[];return b.length},shouldInitializeContactSuggestionOnboarding:function(){var a=this,b=a.getStore(o).get("metaData"),c=b.get("hasShownContactSuggestionOnboarding");return(G.enabled("contactSuggestionOnboarding")&&!c||-1!==window.location.search.indexOf("contactSuggestionTutorial")&&NeoConfig.isInternal)&&a._hasPeopleSuggestion()},shouldRenderContactSuggestionOnboarding:function(){var a=this,b=a.getStore(p);return!a.state.hasShownContactSuggestionOnboarding&&a._hasPeopleSuggestion()&&(!b.hasOnboardingInView()||"hasShownContactSuggestionOnboarding"===b.get())},renderContactSuggestionOnboarding:function(){var a,b,c,d,f,g=this;return g.shouldRenderContactSuggestionOnboarding()&&(d=g.refs.typeahead.refs.typeahead.refs.typeaheadList,a=d&&d.getDOMNode(),f=166,a)?(b=a.getBoundingClientRect(),c={x:b.left-10-f,y:b.top-5},e.createElement(B,{templateType:"OnboardingText",metaDataKey:"hasShownContactSuggestionOnboarding",id:"contactSuggestionOB",width:f,dir:"right",title:C.str_contact_suggestion_onboarding_title,body:E.stringReplace(C.str_contact_suggestion_onboarding_description,{better:C.str_better}),buttonText:C.str_onboarding_got_it_btn,coordinates:c})):void 0},renderFolderSearchOnboarding:function(){var a,b,c,d=this;return d.shouldRenderFolderSearchOnboarding()?(a=d.refs.folderMenu.getDOMNode(),b=a.getBoundingClientRect(),c={x:b.left-16,y:b.top+45},e.createElement(B,{templateType:"OnboardingText",metaDataKey:"hasShownFolderSearchOnboarding",id:"folderSearchOB",width:240,dir:"top",title:C.str_folder_search_onboarding_title,body:E.stringReplace(C.str_folder_search_onboarding_description,{folders:e.createElement("b",null,C.str_folders_lowercase)}),buttonText:C.str_onboarding_got_it_btn,coordinates:c})):void 0},renderFolderDropdown:function(){var a=this;return a.shouldFolderDropdownRender()?e.createElement(v,{ref:"folderMenu",query:a.getQuery(),clearFolderToken:a.clearFolderToken,setFolderAccountTokens:a.setFolderAccountTokens,openAdvancedSearch:a.showAdvancedPane}):void 0},generateTokens:function(a){var b=[];return a.displayName?[{displayStr:a.displayName,type:"savedSearch",className:a.isSavedSearch?"icon icon-pinned":""}]:(a.folders&&(b=b.concat(a.folders.map(function(a,b){return{displayStr:a.displayName,type:"folder",index:b,className:"icon icon-folder",dataValue:a.folderIds}}))),a.refinements&&a.refinements.length&&(b=b.concat(a.refinements.map(function(a){var b,c,d=a.split(":");return b={displayStr:C["str_"+d[1].toLowerCase()]||d[1],refinementStr:a,dataValue:d[1].toLowerCase(),type:"refinement"},c=b.displayStr,/^\".*\"$/.test(c)&&(b.displayStr=c.substring(1,c.length-1)),b}))),a.suggestion&&b.push(f.assign(a.suggestion,{type:"bootcamp",fallbackImageUrl:i.PERSON_TOKEN_FALLBACK_IMG_DATA})),b)},clearFolderToken:function(){var a=this,b=a.getQuery();a.setQuery(a.getStore(r).createQuery({keyword:b.keyword,refinements:b.refinements,suggestion:b.suggestion}))},handleDestroyToken:function(a){var b=this,c="folder",d=b.getQuery(),e=d.suggestion,f=d.refinements,g=d.folders;switch(a.type){case"bootcamp":e=null;break;case"refinement":f=f.filter(function(b){return b!==a.refinementStr});break;case"folder":g.splice(a.index,1);break;case"savedSearch":d.keyword="",d.displayName=null,d.isSavedSearch=!1,e=null,f=[];break;default:return}b.setQuery(b.getStore(r).createQuery({keyword:d.keyword,refinements:f,suggestion:e,folders:g})),a.intent&&"PEOPLE"===a.intent&&(c="people"),F.logRapid("mt:click",{action:"search_box_token_close",append:{mTknTyp:c}})},shouldFolderDropdownRender:function(){var a=this.getStore(u);return a.isSearchTabActive()||a.getTabId()===i.OTHER_TAB||a.getTabId()===i.FOLDER_TAB;
},getAriaCountMessage:function(a){return a?f.template(C.str_suggestions_available,null)({count:a}):C.str_suggestions_not_available},getAriaSuggestionMessage:function(a){var b=a?a.intent:"";switch(b){case"RECENT_SEARCH":return f.template(C.str_search_for_recent,null)({keyword:a.displayStr});case"PEOPLE":return f.template(C.str_search_for_contact,null)({contactName:a.displayStr});case"SEARCH_WEB":return f.template(C.str_search_web_for,null)({keyword:a.displayStr});case"SEARCH_MAIL":return f.template(C.str_search_mail_for,null)({keyword:a.displayStr});case"ADVANCED_SEARCH":return C.str_search_advanced}},getFolderNames:function(){return this.getStore(n).all().map(function(a){return a.folderInfo.name})},getItemValue:function(a){return"ADVANCED_SEARCH"===a.intent?this.getQuery().keyword:a.displayStr},getSearchBtnText:function(){var a;switch(this.getStore(u).getTabId()){case i.NOTEPAD_TAB:a=C.str_search_notepad;break;case i.CALENDAR_TAB:a=C.str_search_calendar;break;case i.CONTACTS_TAB:a=C.str_search_contacts;break;default:a=C.str_search_mail}return a},handleFireSearch:function(a,b){var c,d=this,e=d.getStore(u).getTabId();b=b||{},c=d.getStore(r).createQuery({keyword:a,shouldParseQuery:!0,typeTag:b.typeTag}),G.enabled("searchresults")&&e!==i.NOTEPAD_TAB&&e!==i.CONTACTS_TAB&&e!==i.CALENDAR_TAB?(F.stat({name:"search_fireSearch_fired_in_new_srp"}),d.executeSearch(c)):b.fromReact||d.setQuery(c)},handleSmartFolder:function(a,b){var c,d,e=this,f=a?[a]:[],g=b&&b.categoryName||"";if(b&&b.type)switch(b.type){case"category":f.push(b.query);break;case"people":c=b.token}d=e.getStore(r).createQuery({keyword:f.join(" ").trim(),suggestion:c,displayName:b.displayName,shouldParseKeyword:b.hasOwnProperty("shouldParseKeyword")?b.shouldParseKeyword:!0,typeTag:"smartview_"+g,isSavedSearch:b.isSavedSearch}),G.enabled("searchresults")?e.executeSearch(d):e.setQuery(d,i.SEARCH_TAB)},setFolderAccountTokens:function(a){var b=this,c=b.getQuery();b.setQuery(b.getStore(r).createQuery({keyword:c.keyword,refinements:c.refinements,suggestion:c.suggestion,folders:a}))},setTypeaheadFocus:function(){this.refs.typeahead.focus()},updateSuggestions:function(a){var b=this,c=b.getStore(s).get(b.getSearchId()),d=b.getQuery();(!b.bootcampFetchPending||b.state.suggestions.length>0)&&(d.isEmpty()||c.push(new H({intent:"ADVANCED_SEARCH",displayStr:""})),a?b.setState({suggestions:c},function(){b.setState(a)}):b.setState({suggestions:c}))},updateBootcampSuggestions:function(){var a=this,b={};a.shouldInitializeContactSuggestionOnboarding()&&(b={hasShownContactSuggestionOnboarding:!1}),a.bootcampFetchPending=!1,a.updateSuggestions(b)},handleInputHint:function(a,b){return"SEARCH_MAIL"===b.intent?a:b.getMatchAndRemainder(a)},handleContactDataFetched:function(a){var b=this,c=b.getQuery();c.suggestion&&c.suggestion.displayStr===a.displayName||(c=b.getStore(r).createQuery({keyword:"",suggestion:{intent:"PEOPLE",displayStr:a.displayName,emailAddresses:a.emailAddresses,_rawObj:{id:a.contactId}}}),b.setQuery(c,i.SEARCH_TAB))},handleJumpToAdvSearch:function(a){var b,c=this,d=a.keyword.replace(/\(.*?\)/,"").trim();b=c.getStore(r).createQuery({keyword:d,shouldParseKeyword:!0}),c.setQuery(b),c.showAdvancedPane()},handleJumpToSearch:function(a){var b=this;b.setQuery(b.getStore(r).createQuery({keyword:a.keyword})),b.refs.typeahead.focus()},handleTabChange:function(){var a=this,b=a.getSearchId(),c=a.getQuery();a.setState({suggestions:a.getStore(s).get(b),isAdvancedPaneOpen:!1,keyword:c.keyword,isCollapsedQuery:!!c.displayName,tokens:a.generateTokens(c)})},handleOpen:function(){var a=this;a.fetchSuggestionsThrottled()},initializeFolderSearchOnboarding:function(){var a=this,b=a.getStore(o).get("metaData"),c=b.get("hasShownFolderSearchOnboarding");(-1!==window.location.search.indexOf("folderSearchTutorial")&&NeoConfig.isInternal||G.enabled("folderSearchOnboarding")&&!c)&&a.setState({hasShownFolderSearchOnboarding:!1})},handleFocus:function(){var a=this;return a.initializeFolderSearchOnboarding(),a.connectToBootcamp(),this.handleOpen()},connectToBootcamp:function(){var a=this;a.bootcampConnected||(a.executeAction(j.connectToBootcamp),a.bootcampConnected=!0)},handleClose:function(){this.setState({isAdvancedPaneOpen:!1})},handleChange:function(a){var b=this,c=b.getQuery();b.setQuery(b.getStore(r).createQuery({keyword:a.inputValue,refinements:c.refinements,folders:c.folders,suggestion:c.suggestion}))},handleShiftEnter:function(a){"Enter"===a.key&&a.shiftKey&&(F.stat({name:"search_sugg_web_shortcut"}),this.handleWebSearch(this.getQuery().toString()),D.halt(a))},handleKeyUp:function(a){this.handleShiftEnter(a)},handleKeyPress:function(a){this.handleShiftEnter(a)},handleKeyDown:function(a){var b=this,c=b.state.suggestions;("ArrowUp"===a.key||"ArrowDown"===a.key)&&b.isACEnabled()&&!c.length&&b.setState({suggestions:[new H({intent:"ADVANCED_SEARCH",displayStr:""})]})},handleComplete:function(a,b){var c=this,d="Enter"===a.key||"click"===a.type,e=c.getQuery(),f=e.keyword,g=f||"";if(!c.isACEnabled())return c.doNonMailSearch(),c.refs.typeahead.blur(),g;if(!b){if(c.getQuery().isEmpty())return"";b={intent:"SEARCH_MAIL",displayStr:g,keyword:g}}switch(b.intent){case"ADVANCED_SEARCH":d&&c.showAdvancedPane();break;case"SEARCH_WEB":d&&(F.stat({name:"search_sugg_web_click"}),c.handleWebSearch(b.displayStr));break;case"RECENT_SEARCH":d&&(F.stat({name:"search_sugg_search_recent",tags:{numchars:c.getQuery().keyword.length}}),c._triggerUHEvent(!0),g=b.displayStr,c.executeSearch(c.getStore(r).createQuery({keyword:g,shouldParseKeyword:!0,typeTag:"search_box_suggestion_recent"})));break;case"SEARCH_MAIL":c.executeSearch(c.getStore(r).createQuery({keyword:e.keyword,refinements:e.refinements,folders:e.folders,suggestion:e.suggestion,shouldParseKeyword:!0,typeTag:"search_box_enter"})),c._triggerUHEvent(!0);break;default:d?(c.executeSearch(c.getStore(r).createQuery({keyword:"",suggestion:b,folders:e.folders,refinements:e.refinements,typeTag:"search_box_suggestion_people"})),c._triggerUHEvent(!0),F.stat({name:"search_sugg_people_click"})):"ArrowRight"===a.key?c.setQuery(c.getStore(r).createQuery({keyword:a.fullInputValue,suggestion:e.suggestion,refinements:e.refinements})):"Tab"===a.key&&(c.setQuery(c.getStore(r).createQuery({keyword:"",suggestion:b,refinements:e.refinements})),F.stat({name:"search_sugg_tab_lozenge",tags:{numchars:c.getQuery().keyword.length}}))}},handleMailSearch:function(a){var b=this,c=b.getQuery();b.isACEnabled()?c.isEmpty()||(b.executeSearch(b.getStore(r).createQuery({keyword:c.keyword,suggestion:c.suggestion,folders:c.folders,refinements:c.refinements,shouldParseKeyword:!0,typeTag:a,displayName:c.displayName,isSavedSearch:c.isSavedSearch})),F.logRapid("mt:click",{action:"mail_search",spid:"search_results"}),b._triggerUHEvent(!1)):(b.doNonMailSearch(),b.refs.typeahead.blur())},handleWebSearchBtn:function(){F.stat({name:"search_sugg_web_btn"}),this.handleWebSearch(this.getQuery().toWebQueryString())},handleWebSearch:function(a){var b=document.getElementById("UHSearchWeb"),c=document.getElementById("UHSearchBox");b&&c&&a&&(c.value=a,b.click(),F.stat({name:"search_sugg_search_web"}))},getQuery:function(){return this.getStore(r).get(this.getSearchId())},setQuery:function(a,b){var c=this;c.executeAction(j.setQuery,{searchId:b||c.getSearchId(),query:a})},executeSearch:function(a){var b=this;b.executeAction(j.executeSearch,{query:a,searchId:b.getSearchId(),preserveQuery:b.getStore(u).isSearchTabActive()}),b.refs.typeahead.blur()},queryUpdated:function(){var a=this,b=a.getQuery();a.setState({keyword:b.keyword,tokens:a.generateTokens(b),isCollapsedQuery:!!b.displayName},function(){a.fetchSuggestionsThrottled({query:a.getQuery(),searchId:a.getSearchId()})})},fetchSuggestions:function(){var a=this,b=a.getQuery();a.state.isAdvancedPaneOpen||(a.bootcampFetchPending=!0,a.executeAction(j.fetchSuggestions,{query:b,searchId:a.getSearchId(),webSuggestionsEnabled:a.props.webSuggestionsEnabled}))},toggleAdvancedPane:function(){var a=this;a.state.isAdvancedPaneOpen?a.handleClose():a.showAdvancedPane()},showAdvancedPane:function(){var a=this,b=a.getQuery(),c=a.getStore(r).createQuery(f.defaults({shouldParseKeyword:!0},b));a.setQuery(c),this.setState({isAdvancedPaneOpen:!0}),F.stat({name:"search_sugg_adv_search_open"})},doNonMailSearch:function(){var a=this,b=a.getStore(u).getTabId(),c=a.getStore(r).createQuery({keyword:a.getQuery().keyword||""});switch(b){case i.CONTACTS_TAB:a.executeAction(j.doContactsSearch,{query:c});break;case i.CALENDAR_TAB:a.executeAction(j.doCalendarSearch,{query:c});break;case i.NOTEPAD_TAB:a.executeAction(j.doNotepadSearch,{query:c})}},handleBootcampSearch:function(a){var b,c=this;a.email?(b=c.getStore(r).createQuery({keyword:k.getValue(a,"query.keyword"),typeTag:a.typeTag||"unknown typeTag",displayName:a.displayName,suggestion:k.getValue(a,"query.suggestion",{displayStr:a.name||a.email}),refinements:k.getValue(a,"query.refinements"),shouldParseKeyword:a.shouldParseKeyword,isSavedSearch:a.isSavedSearch}),c.executeAction(j.getPeopleResultsByEmail,{displayName:b.displayName,searchId:c.getSearchId(),email:a.email,query:b,suggestion:k.getValue(b,"suggestion"),refinements:k.getValue(b,"refinements"),folders:k.getValue(b,"folders"),preserveQuery:c.getStore(u).isSearchTabActive(),keyword:b.keyword,name:a.name,isSavedSearch:a.isSavedSearch})):c.executeSearch(c.getStore(r).createQuery({keyword:k.getValue(a,"query.keyword"),displayName:a.displayName,typeTag:a.typeTag,folders:k.getValue(a,"query.folders"),suggestion:k.getValue(a,"query.suggestion"),refinements:k.getValue(a,"query.refinements"),shouldParseKeyword:a.shouldParseKeyword,isSavedSearch:a.isSavedSearch}))},isACEnabled:function(){var a=this.getStore(u);return a.isSearchTabActive()||a.getTabId()===i.OTHER_TAB||a.getTabId()===i.FOLDER_TAB},clearFolderScope:function(){var a=this,b=a.getQuery(),c=b.refinements;a.setQuery(a.getStore(r).createQuery({keyword:b.keyword,suggestion:b.suggestion,refinements:c}))},_yuiEvents:[],_triggerUHEvent:function(a){var b=new yui.EventTarget,c=a?"ucs:mailSearchSugg":"ucs:mailSearch";b.publish(c,{broadcast:2,emitFacade:!0}),b.fire(c)},getSearchId:function(){return this.getStore(u).getActiveSearchId()},setCurrentAccountScope:function(){var a=this,b=a.getStore(l).getCurrentAccount();a.setFolderAccountTokens([{displayName:b.description,acctIds:[b.id]}])},handleUserDataUpdate:function(){var a=this,b=a.getStore(o).get("metaData");a.setState({hasShownFolderSearchOnboarding:b.get("hasShownFolderSearchOnboarding")===!0?!0:a.state.hasShownFolderSearchOnboarding,hasShownContactSuggestionOnboarding:b.get("hasShownContactSuggestionOnboarding")===!0?!0:a.state.hasShownContactSuggestionOnboarding})}}),b.exports=d},{"../../../../artifacts/lang":2,"../../stores/BootcampSuggestionsStore":15,"../../stores/RecentSearchesStore":18,"../../stores/SearchSuggestion":19,"../../stores/SearchSuggestionsStore":20,"../../stores/WebSearchSuggestionsStore":21,"../dropdown/FolderDropdown.jsx":9,"../dropdown/FolderDropdownV2.jsx":10,"./AdvancedSearch.jsx":3,"./SearchButton.jsx":7,"./Suggestion.jsx":8,AccountStore:"AccountStore",Context:"Context",DOMUtils:"DOMUtils",FolderStore:"FolderStore",ObjectUtils:"ObjectUtils",Onboarding:"Onboarding",OnboardingStore:"OnboardingStore",SearchActions:"SearchActions",SearchConstants:"SearchConstants",SearchQueryStore:"SearchQueryStore",StatService:"StatService",StringUtils:"StringUtils",TabStore:"TabStore",Token:"Token",TokenizedTypeahead:"TokenizedTypeahead",UserSettingsStore:"UserSettingsStore",lodash:"lodash","react/addons":"react/addons"}],7:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"SearchButton",getDefaultProps:function(){return{className:"",handleSearch:function(){},searchLabel:"",id:"mail-search-btn"}},render:function(){var a,b=this,c={};return c[b.props.className]=!0,a=e.addons.classSet(c),e.createElement("button",{type:"button",className:a,id:b.props.id,onClick:b.props.handleSearch.bind(null,"search_box_click")},b.props.searchLabel)}}),b.exports=d},{"react/addons":"react/addons"}],8:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils"),h=a("StringUtils"),i=a("Context"),j=a("../../../../artifacts/lang"),k=a("SearchActions"),l=a("GlobalConstants");d=e.createClass({displayName:"Suggestion",mixins:[i],render:function(){var a=this,b=e.addons.classSet({"menu-active-item":a.props.isSelected});return e.createElement("div",{className:b},a.renderMap[a.props.data.intent].call(a))},boldify:function(a,b){var c=h.indexOfIgnoreCase(a,b),d=a.substr(0,c),f=a.substr(c+b.length),g=a.substr(c,b.length),i=h.addRTLJoiners([d,g,f]);return c>=0?e.createElement("span",null,i[0],e.createElement("b",{className:"Fw-b"},i[1]),i[2]):e.createElement("span",{className:"Va-m"},a)},renderMap:{PEOPLE:function(){var a=this,b=a.props.data,c=a.props.inputValue,d=b.imageUrl?h.addUrlParameters(b.imageUrl,{spsize:"72X72",badge:!0,fallback_url:l.FALLBACK_XOBNI_IMG_URL}):l.FALLBACK_XOBNI_IMG_URL,f={backgroundImage:"url("+d+")"},g={backgroundColor:a.getRandomPersonColor(b.displayStr)};return e.createElement("div",{className:"Mx-4 Py-2 W-100 Bxz-bb Pos-r Cur-p Bfc","data-id":b.displayStr,ref:"suggestion",onClick:a.handlePersonClick},e.createElement("div",{className:"D-ib wpx-40 hpx-40 Pend-10 Va-m Fl-start"},e.createElement("span",{style:f,className:"bgr-nr wpx-40 hpx-40 Bgz-cv Pos-a Z-1 Bdrs"}),e.createElement("span",{style:g,className:"fz-ms wpx-40 lh-40 c-w Pos-a Z-0 Start-0 Ta-c Bdrs"},b.getInitials())),e.createElement("div",{className:"mt-3"},e.createElement("div",{className:"fz-ms Ell",ref:"name"},a.boldify(b.displayStr,c)),e.createElement("div",{"aria-label":"contact suggestion",className:"c-g Fz-s Ell",ref:"email"},a.boldify(a.getPersonSecondLine(),c))))},RECENT_SEARCH:function(){var a=this;return e.createElement("div",{className:"Mx-4 Py-2 Pos-r Cur-p Bfc fz-ms"},e.createElement("div",{className:"Ta-c wpx-40 lh-40 Pend-10 Fl-start icon icon-recent"}),e.createElement("div",{className:"Mend-1 Fl-end"},e.createElement("span",{className:"icon icon-small-close icon-light D-n lh-40",onClick:a.handleRemoveRecentSearch})),e.createElement("div",{"aria-label":"recent search",className:"lh-40 Ell","data-action":"search-recent"},a.boldify(a.props.data.displayStr,a.props.inputValue)))},SEARCH_WEB:yui.common.Utils.features.enabled("webSuggestions")?function(){var a=this;return e.createElement("div",null,a.renderWebSearchHeader(),e.createElement("div",{className:"Bfc"},e.createElement("div",{className:"Pend-14 Fl-end lh-40 Fz-s"},a.renderShiftEnterLabel()),e.createElement("div",{"aria-label":"search web for",className:"Px-14 Cur-p lh-40 Ell fz-ms","data-action":"search-web"},a.boldify(h.getBidiString(a.props.data.displayStr),a.props.data.hasToken?a.props.data.displayStr:a.props.inputValue))))}:function(){var a=this,b=f.template(j.str_search_web_for)({keyword:a.props.data.displayStr});return e.createElement("div",{className:"suggestion-row suggestion-search-web"},e.createElement("div",{className:"suggestion-row-icon icon icon-search-web"}),e.createElement("div",{"aria-label":b,"data-action":"search-web",className:"suggestion-row-content"},h.stringReplace(j.str_search_web_for,{keyword:e.createElement("strong",null,a.props.data.displayStr)})),e.createElement("kbd",{className:"suggestion-search-web-shortcut"},j.str_web_search_shortcut))},SEARCH_MAIL:function(){return e.createElement("div",{className:"Mx-4 Py-2 Bxz-bb Pos-r Cur-p Bfc"},e.createElement("div",{className:"Ta-c wpx-40 lh-40 Pend-10 Fl-start icon icon-search"}),e.createElement("div",{"aria-label":"search mail for",className:"lh-40 Ell fz-ms","data-action":"search-mail"},this.props.data.displayStr))},ADVANCED_SEARCH:function(){return e.createElement("div",{className:"suggestion-adv-search"},e.createElement("button",{onClick:this.props.showAdvancedPane},j.str_advanced_mail_search))}},renderShiftEnterLabel:function(){return 0===this.props.data.typeIndex?e.createElement("span",{className:"c-g"},j.str_web_search_shortcut):void 0},getRandomPersonColor:function(a){function b(a,b){return(a%b+b)%b}var c=h.hashCode(a),d=["#940050","#CC008C","#BE0067","#F80E5D","#FE4E4D","#FD6867","#FF1032","#FF8C13","#FF530E","#FA0027"];return d[b(c,d.length)]},getPersonSecondLine:function(){var a,b,c=this,d=c.props.data.emailAddresses||c.props.data._rawObj.emails||[],e=c.props.inputValue,g=f.find(d,function(a){return h.containsIgnoreCase(a,e)})||d[0];switch(d.length){case 1:a=j.str_suggestion_email_singular;break;case 2:a=j.str_suggestion_other_email_singular;break;default:a=j.str_suggestion_other_email_plural}return b=f.template(a,null)({emailAddress:g,number:d.length-1}),b||""},renderWebSearchHeader:function(){return 0===this.props.data.typeIndex?e.createElement("div",{className:"D-b Us-n c-g bgc-lg lh-30 Pstart-14 Fw-b",onClick:g.halt},j.str_web_search):void 0},handleRemoveRecentSearch:function(a){var b=this;b.executeAction(k.removeRecentSearch,b.props.data.displayStr),a.stopPropagation()}}),b.exports=d},{"../../../../artifacts/lang":2,Context:"Context",DOMUtils:"DOMUtils",GlobalConstants:"GlobalConstants",SearchActions:"SearchActions",StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],9:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("Context"),h=a("FolderStore"),i=a("MenuButton"),j=a("MenuItemGroup"),k=a("MenuItem"),l=a("SearchConstants"),m=a("ObjectUtils"),n=a("../../../../artifacts/lang"),o=a("StatService");d=e.createClass({displayName:"FolderDropdown",_yuiEvents:[],folderClass:"search-folder-name",statName:"folder_dropdown",mixins:[e.addons.PureRenderMixin,g],propTypes:{},getDefaultProps:function(){return{query:{},setFolderAccountTokens:f.noop,clearFolderToken:f.noop,openAdvancedSearch:f.noop}},getFolderGroups:function(){var a=this,b=a.getStore(h),c=f.chain(b.getSearchableSystemFolders()).concat(b.getSearchableUserFolders()).map(function(a){return{id:a.folderInfo.index.toString(),folderInfo:{fid:a.folderInfo.fid}}}).sortBy(function(a){return parseInt(a.id,10)}).unshift({id:null,displayName:n.str_all_mail,acctId:"1"}).value();return[c]},getInitialState:function(){return{folderGroups:this.getFolderGroups()}},componentDidMount:function(){var a=this;a.getStore(h).on("change",a.fetchFoldersAndUpdateState),a._yuiEvents.push(yui.on("ui:currentFolder",a.setFolderScope))},componentWillUnmount:function(){var a=this;a.getStore(h).removeListener("change",a.fetchFoldersAndUpdateState),a._yuiEvents.forEach(function(a){a.detach()})},render:function(){var a=this,b=a.state.folderGroups,c=e.addons.classSet({"search-folder-scope-dd":!0});return e.createElement(i,{ref:"menu",className:c,ddClassName:"search-folder-dropdown",label:a.renderMenuChevron(),name:a.statName,dropdownXOrigin:"right",onOpen:a.handleMenuOpen},a.renderFolderGroups(b),e.createElement(k,{className:"search-folder-scope-adv",title:n.str_advanced_mail_search,onClick:a.handleAdvSearchClick},e.createElement("span",{className:a.folderClass},n.str_advanced_mail_search)))},renderFolderGroups:function(a){var b=this;return f.map(a,function(a){return b.renderFolderGroup(a)})},renderFolderGroup:function(a){var b=this,c=n.str_search_in_folder;return e.createElement(j,{title:c,overflow:!0,togglable:!0},f.map(a,function(a){return b.renderFolderItem(a)}))},renderFolderItem:function(a){var b=this,c=b.props.query,d=f.isEmpty(c.folders)&&!a.id||f.find(c.folders,function(b){return f.isEqual(b.folderIds,a.id&&a.id.split(" "))}),g=m.getValue(a,"folderInfo.fid"),i=g?b.getStore(h).getLocalizedFolderName(g):a.displayName;return e.createElement(k,{value:g,selected:d,title:i,onClick:b.handleUserSelection.bind(b,a)},e.createElement("span",{className:b.folderClass},i))},renderMenuChevron:function(){return e.createElement("span",{className:"icon icon-chevron"})},fetchFoldersAndUpdateState:function(){var a=this;a.setState({folderGroups:a.getFolderGroups()})},handleUserSelection:function(a){var b,c=this;a.id?(b=c.getStore(h).getLocalizedFolderName(a.folderInfo.fid),this.props.setFolderAccountTokens([{displayName:b,acctIds:null,folderIds:[a.id]}])):c.props.clearFolderToken(),c.refs.menu.closeMenu(),a.id?a.isSystem&&o.mailLog({m:"search_"+c.statName+"_folder_click",folder:a.name,yid:NeoConfig.loginId}):o.mailLog({m:"search_"+c.statName+"_allMail_click",yid:NeoConfig.loginId})},shouldShowFolderToken:function(a){return-1===l.UNSEARCHABLE_FIDS.slice(0).concat("Inbox").indexOf(a)},setFolderScope:function(a){var b,c,d=this;return a&&a.fid&&d.shouldShowFolderToken(a.fid)?(b=d.getStore(h).findByFID(a.fid),void(b&&(c=d.getStore(h).getLocalizedFolderName(b.folderInfo.fid),d.props.setFolderAccountTokens([{displayName:c,acctIds:null,folderIds:[b.id||b.folderInfo.index.toString()]}])))):void d.props.clearFolderToken()},handleAdvSearchClick:function(){var a=this;a.props.openAdvancedSearch(),o.logRapid("mt:click",{action:"search_box_adv_search_fld_dd"}),o.mailLog({m:"react_search_"+a.statName+"_advSearch_click",yid:NeoConfig.loginId})},handleMenuOpen:function(){o.mailLog({m:"react_search_menu_"+this.statName+"_open",yid:NeoConfig.loginId}),o.stat("search_box_folder_dd_open")}}),b.exports=d},{"../../../../artifacts/lang":2,Context:"Context",FolderStore:"FolderStore",MenuButton:"MenuButton",MenuItem:"MenuItem",MenuItemGroup:"MenuItemGroup",ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StatService:"StatService",lodash:"lodash","react/addons":"react/addons"}],10:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("Context"),h=a("FolderStore"),i=a("MenuButton"),j=a("MenuItemGroup"),k=a("MenuItem"),l=a("ObjectUtils"),m=a("SearchConstants"),n=a("AccountStore"),o=a("../../../../artifacts/lang"),p=a("StatService");d=e.createClass({displayName:"FolderDropdown",_yuiEvents:[],folderClass:"search-folder-name",statName:"folder_dropdown",mixins:[e.addons.PureRenderMixin,g],propTypes:{},getDefaultProps:function(){return{query:{},setFolderAccountTokens:f.noop,clearFolderToken:f.noop,openAdvancedSearch:f.noop}},getFolderGroups:function(){var a=this;return f.chain(a.getStore(n).get()||[]).sortBy("id").map(function(b){return[{acctId:b.id,id:null,displayName:o.str_all_mail,dataValue:"search_in_all_"+b.description,acctDisplayName:b.description,_type:m.SEARCH_IN_ACCOUNT}].concat(f.chain(a.getStore(h).getSearchableFoldersByAccount(b.id)).sortBy(function(a){return parseInt(a.id,10)}).map(function(b){var c=a.getStore(n).getById(b.acctId),d=a.getStore(h).getLocalizedFolderNameById(b.id||b.folderInfo.index.toString());return f.defaults({_type:m.SEARCH_IN_FOLDERS,acctDisplayName:c.description,displayName:d,dataValue:b.folderInfo.fid,id:b.id,acctId:b.acctId},b)}).value())}).unshift([{displayName:o.str_all_mail,id:null,acctId:null,dataValue:"search_in_all_account",_type:m.SEARCH_IN_ALL,acctDisplayName:o.str_all_accounts}].concat(m.COMMON_TYPES.map(function(b){return{id:f.pluck(a.getStore(h).getFoldersByType(b),"id").sort().join(" "),acctId:null,_type:m.SEARCH_IN_FOLDERS,dataValue:"search_in_all_"+b.toLowerCase(),acctDisplayName:null,displayName:o["str_folder_"+b.toLowerCase()]}}).filter(function(a){return a.id&&a.id.length}))).value()},getInitialState:function(){return{folderGroups:this.getFolderGroups()}},componentDidMount:function(){var a=this;a.getStore(h).on("change",a.fetchFoldersAndUpdateState),a.getStore(n).on("change",a.fetchFoldersAndUpdateState),a._yuiEvents.push(yui.on("imapin:currentAccountSet",a.setCurrentAccountScope)),a._yuiEvents.push(yui.on("ui:currentFolder",a.setFolderScope))},componentWillUnmount:function(){var a=this;a.getStore(h).removeListener("change",a.fetchFoldersAndUpdateState),a.getStore(n).removeListener("change",a.fetchFoldersAndUpdateState),a._yuiEvents.forEach(function(a){a.detach()})},render:function(){var a=this,b=a.state.folderGroups,c=e.addons.classSet({"search-folder-scope-dd":!0});return e.createElement(i,{ref:"menu",className:c,ddClassName:"search-folder-dropdown",label:a.renderMenuChevron(),name:a.statName,dropdownXOrigin:"right",onOpen:a.handleMenuOpen},e.createElement(j,{title:o.str_search_in_folder,overflow:!0,togglable:!0},a.renderFolderGroups(b)),e.createElement(j,null,e.createElement(k,{className:"search-folder-scope-adv",title:o.str_advanced_mail_search,onClick:a.handleAdvSearchClick},e.createElement("span",{className:a.folderClass},o.str_advanced_mail_search))))},renderFolderGroups:function(a){var b=this;return f.map(a,function(a){return b.renderFolderGroup(a)})},renderFolderGroup:function(a){var b=this,c=l.getValue(a,[0,"acctDisplayName"]);return e.createElement(j,{title:c,overflow:!1,togglable:!0},f.map(a,function(a){return b.renderFolderItem(a)}))},renderFolderItem:function(a){var b,c,d=this,g=d.props.query;switch(a._type){case m.SEARCH_IN_ALL:b=f.isEmpty(g.folders);break;case m.SEARCH_IN_ACCOUNT:b=f.find(g.folders,function(b){return f.isEqual(b.acctIds,a.acctId&&a.acctId.split(" "))});break;case m.SEARCH_IN_FOLDERS:b=f.find(g.folders,function(b){return f.isEqual(b.folderIds,a.id&&a.id.split(" "))})}return c=a.displayName,e.createElement(k,{value:a.dataValue,selected:b,title:c,onClick:d.handleUserSelection.bind(d,a)},e.createElement("span",{className:d.folderClass},c))},renderMenuChevron:function(){return e.createElement("span",{className:"icon icon-chevron"})},fetchFoldersAndUpdateState:function(){var a=this;a.setState({folderGroups:a.getFolderGroups()})},handleUserSelection:function(a){var b=this;switch(a._type){case m.SEARCH_IN_ALL:b.props.clearFolderToken();break;case m.SEARCH_IN_ACCOUNT:this.props.setFolderAccountTokens([{displayName:a.acctDisplayName,folderIds:null,acctIds:[a.acctId]}]);break;case m.SEARCH_IN_FOLDERS:this.props.setFolderAccountTokens([{displayName:f.compact([a.acctDisplayName,a.displayName]).join("/"),acctIds:null,folderIds:a.id.split(" ")}])}b.refs.menu.closeMenu(),a.id?a.isSystem&&p.mailLog({m:"search_"+b.statName+"_folder_click",folder:a.name,yid:NeoConfig.loginId}):p.mailLog({m:"search_"+b.statName+"_allMail_click",yid:NeoConfig.loginId})},setCurrentAccountScope:function(){var a=this,b=a.getStore(n).getCurrentAccount();a.props.setFolderAccountTokens([{displayName:b.description,acctIds:[b.id]}])},shouldShowFolderToken:function(a){var b,c,d=this;return b=d.getStore(h).findByFID(a),c=b&&b.types,f.isArray(c)&&-1===c.indexOf("INBOX")&&-1===c.indexOf("BULK")},setFolderScope:function(a){var b,c,d=this;return a&&a.fid&&d.shouldShowFolderToken(a.fid)?(b=d.getStore(h).findByFID(a.fid),void(b&&(c=d.getStore(n).getById(b.acctId).description+"/"+d.getStore(h).getLocalizedFolderNameById(b.id||b.folderInfo.index.toString()),d.props.setFolderAccountTokens([{displayName:c,acctIds:null,folderIds:[b.id]}])))):void d.setCurrentAccountScope()},handleAdvSearchClick:function(){var a=this;a.props.openAdvancedSearch(),p.logRapid("mt:click",{action:"search_box_adv_search_fld_dd"}),p.mailLog({m:"react_search_"+a.statName+"_advSearch_click",yid:NeoConfig.loginId})},handleMenuOpen:function(){p.mailLog({m:"react_search_menu_"+this.statName+"_open",yid:NeoConfig.loginId}),p.stat("search_box_folder_dd_open")}}),b.exports=d},{"../../../../artifacts/lang":2,AccountStore:"AccountStore",Context:"Context",FolderStore:"FolderStore",MenuButton:"MenuButton",MenuItem:"MenuItem",MenuItemGroup:"MenuItemGroup",ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StatService:"StatService",lodash:"lodash","react/addons":"react/addons"}],11:[function(a,b,c){"use strict";var d={componentDidMount:function(){window.addEventListener("mousedown",this.DropdownMixin_handleWindowClick,!0)},componentWillUnmount:function(){window.removeEventListener("mousedown",this.DropdownMixin_handleWindowClick,!0)},DropdownMixin_handleWindowClick:function(a){var b,c=this.props.parentNode||this.getDOMNode();for(b=a.target;b;b=b.parentNode){if(b&&b.hasAttribute&&b.hasAttribute("data-preventclose"))return;if(b===c)break}b||this.props.setClosed()}};b.exports=d},{}],12:[function(a,b,c){"use strict";YUI.add("tictac-search",function(b){function c(){a("../../artifacts/css/main.css");var b=a("AppDispatcher"),c=a("./components/autocomplete/Container.jsx"),d=a("StatService"),e=a("SearchQueryStore"),f=a("./stores/RecentSearchesStore"),g=a("./stores/WebSearchSuggestionsStore"),h=a("./stores/BootcampSuggestionsStore"),i=a("./stores/SearchSuggestionsStore"),j=a("./stores/ContactSuggestionsStore"),k=document.getElementById("yucs-search"),l=document.createElement("div"),m="StencilRoot search-container Mt-10 Mx-0 W-45 Whs-nw mwpx-860";window.React=window.React||a("react/addons"),k||(k=document.getElementById("UHSearch"),m="StencilRoot search-container M-0 Whs-nw mwpx-860"),l.className=m,k.parentNode.insertBefore(l,k),[h,j,f,e,i,g].forEach(b.registerStore),React.render(React.createElement(c,{context:b.context,webSuggestionsEnabled:yui.common.Utils.features.enabled("webSuggestions")}),l),window.performance&&window.performance.timing.responseStart&&d.featureLatency("search_sugg_render",Date.now()-window.performance.timing.responseStart),d.stat({name:"search_sugg_launch"}),yui.fire("search:loaded")}function d(){var c=a("StatService");b.one("body").removeClass("no-uhsearch"),b.use(["searchautocomplete","searchautocomplete-extra-modules"]),c.stat({name:"search_sugg_xobni_fallback"})}var e=yui.common.Utils.features.enabled("searchresults");b.namespace("Tictac").search={loader:function(){b.xobniContacts.isXobnified(function(a){a?(c(),e&&yui.detach("search:input")):d()})},isSearchResultsReallyEnabled:function(a){e?b.xobniContacts.isXobnified(function(b){a(b)}):a(!1)}}},"1.0.0",{requires:["tictac-lib","mail-common-utils-features","isXobnifiedCheck","mail-persist-meta-data"]})},{"../../artifacts/css/main.css":1,"./components/autocomplete/Container.jsx":6,"./stores/BootcampSuggestionsStore":15,"./stores/ContactSuggestionsStore":16,"./stores/RecentSearchesStore":18,"./stores/SearchSuggestionsStore":20,"./stores/WebSearchSuggestionsStore":21,AppDispatcher:"AppDispatcher",SearchQueryStore:"SearchQueryStore",StatService:"StatService","react/addons":"react/addons"}],13:[function(a,b,c){"use strict";function d(){return l.enabled("attachmentQueryTokens")}function e(a){var b,c;for(b=0;b<o.SMARTVIEW_CATEGORIES.length;b++)if(c=o.SMARTVIEW_CATEGORIES[b],c===a.toLowerCase()||k["str_"+c]===a)return c;return""}function f(a,b){var c,d,e,f,g,h,i,l=[];for(a=a.replace(new RegExp("^(['\"])(.*?)\\1$","g"),"$2"),c=0;c<b.length;c++)d=b[c],e=d.folderInfo.fid,f=d.id||d.folderInfo.index.toString(),g=m.normalizeFid(e),h=k["str_folder_"+d.folderInfo.name.toLowerCase()]||"",d.isSystem?(g===a.toLowerCase()||d.folderInfo.name.toLowerCase()===a.toLowerCase()||h.toLowerCase()===a.toLowerCase())&&(l.push(f),i=i||h||a):d.folderInfo.name===a&&(l.push(f),i=i||a);return j.isEmpty(l)?null:{folderIds:l,displayName:i}}function g(a,b){var c,d=[];return j.forEach(b,function(b){a.toLowerCase()===b.description.toLowerCase()&&(d.push(b.id),c=c||b.description)}),!j.isEmpty(d)&&{acctIds:d,displayName:c}}function h(a,b,c){var h,i=a.keyword,j=a.refinements||[],k=a.folders||[],l=a.typeTag||"";return p.test(i)?{keyword:i.trim(),refinements:j,folders:[],typeTag:l}:(h=i.match(o.REGEX_HAS_IS_IN_ACCOUNT),h&&h.forEach(function(a){var h,l,m,n=a.trim(),o=n.split(":"),p=!1;"in"===o[0]?(h=f(o[1],b),h&&(k.push(h),p=!0)):"account"===o[0]?(l=g(o[1],c),l&&(k.push(l),p=!0)):"is"===o[0]?(m=e(o[1]),m&&(j.push("is:"+m),p=!0)):"has"===o[0]&&d()&&(j.push(n),p=!0),p&&(i=i.replace(a,""))}),{keyword:i.trim(),refinements:j,folders:k,typeTag:l})}function i(a,b,c){a=a||{},this.suggestion=a.suggestion,this.displayName=a.displayName,this.isSavedSearch=a.isSavedSearch,a.shouldParseKeyword?j.assign(this,h(a,b,c)):(this.keyword=a.keyword||"",this.refinements=a.refinements||[],this.folders=a.folders||[],this.typeTag=a.typeTag||"")}var j=a("lodash"),k=a("../../../artifacts/lang"),l=yui.common.Utils.features,m=a("FolderStore"),n=a("AppDispatcher"),o=a("SearchConstants"),p=/\bOR\b|\bAND\b|\([^()]+\b[^()]+\)|\s\-|^\-|\s\+|^\+/i;i.prototype={getSuggestionQueryFragment:function(){var a,b=this;return b.suggestion?(a=b.suggestion.displayStr,a.indexOf(" ")>-1&&(a='"'+a+'"'),
"(from:"+a+" recipient:"+a+")"):""},getRefinementsQueryFragments:function(){return this.refinements.map(function(a){var b=a.split(":");return b[1].indexOf(" ")>-1&&!/^\".*\"$/.test(b[1])&&(b[1]='"'+b[1].replace(/\"/g,'\\"')+'"'),b.join(":")})},getHumanReadableSuggestionString:function(){var a=this.suggestion;return a?a.displayStr.indexOf(" ")>-1?'"'+a.displayStr+'"':a.displayStr:""},isEmpty:function(){var a=this;return!a.keyword&&!a.suggestion&&a.folders&&0===a.folders.length&&a.refinements&&0===a.refinements.length},isKeywordOnly:function(){var a=this;return!a.suggestion&&a.folders&&0===a.folders.length&&a.refinements&&0===a.refinements.length},toString:function(){var a=this,b=[],c=this.getFolderScope();return b.push(a.getHumanReadableSuggestionString()),b=b.concat(a.getRefinementsQueryFragments()),b.push(a.keyword),b.push(c),b.join(" ").trim()},toQueryString:function(){var a=this,b=[],c=this.getFolderScope();return b.push(a.getSuggestionQueryFragment()),b.push.apply(b,a.getRefinementsQueryFragments()),b.push(a.keyword),b.push(c),b.join(" ").trim()},toHumanReadableString:function(){var a,b,c=this.getHumanReadableSuggestionString(),d=this,e=d.getRefinementsQueryFragments();return d.displayName?d.displayName:(b=e.map(function(b){return b?(a=b.split(":"),k["str_"+a[1].toLowerCase()]||a[1]):void 0}),b=j.chain(e).map(function(b){return b?(a=b.split(":"),k["str_"+a[1].toLowerCase()]||a[1]):void 0}).concat(d.folders.map(function(a){return a.displayName})).value(),c&&b.push(c),d.keyword&&b.push(d.keyword),b=b.join(" "),b||d.toString())},toQueryStringWithoutSuggestion:function(){var a=this,b=[];return b.push.apply(b,a.getRefinementsQueryFragments()),b.push(a.keyword),b.join(" ").trim()},toWebQueryString:function(){var a=this,b=[];return b.push(a.getHumanReadableSuggestionString()),b.push(a.keyword),b.join(" ").trim()},getFolderScope:function(){var a=n.context.getStore(m);return j.chain(this.folders).map(function(a){return a.folderIds}).compact().flatten().map(function(b){var c=a.findByIndex(b),d=c&&(c.isSystem?c.folderInfo.fid:c.folderInfo.name);return d?"in:"+(d.indexOf(" ")>-1?'"'+d+'"':d):""}).join(" ").value()}},b.exports=i},{"../../../artifacts/lang":2,AppDispatcher:"AppDispatcher",FolderStore:"FolderStore",SearchConstants:"SearchConstants",lodash:"lodash"}],14:[function(a,b,c){"use strict";var d,e=a("lodash"),f=a("StatService");d=function(){var a="neo.pref.savedSearch";return{get:function(){return yui.use("mail-persist-meta-data").then(function(b){var c=b.mail.persist.MetaData.get(a);return f.stat({name:"search_sugg_fetch_recent"}),c?JSON.parse(c):[]})},add:function(){return this.get()},remove:function(b){return yui.use("mail-persist-meta-data").then(function(c){var d=e.uniq(JSON.parse(c.mail.persist.MetaData.get(a))).slice(0,NeoConfig.maxSearchHistory),g=d.indexOf(b);return g>-1&&(d.splice(g,1),c.mail.persist.MetaData.set(a,JSON.stringify(d))),f.stat({name:"search_sugg_remove_recent"}),d})}}}(),b.exports=d},{StatService:"StatService",lodash:"lodash"}],15:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._results={}}var e=a("events").EventEmitter,f=a("lodash"),g=a("ObjectUtils"),h=a("../stores/PersonSuggestion"),i=a("GlobalConstants"),j=a("SearchConstants"),k=a("StringUtils"),l={};d.prototype=f.merge(Object.create(e.prototype),{constructor:d,get:function(a){return this._results[a]||[]},_dataTransformer:function(a){var b,c,d=a.queryText.match(/%[a-zA-Z0-9\-]+/g),e=a.queryText,j=g.getValue(a,["entities"],{});return d&&d.forEach(function(d){var f=d.substr(1),g=a.entities[f];e=e.replace(d,g.name),b=g.imageUrl,c=g.emailIds}),new h({_rawObj:a,serviceId:f.result(j[f.findKey(j,"serviceId")],"serviceId"),displayStr:e,imageUrl:b?k.addUrlParameters(b,{spsize:"50X50",badge:!0,fallback_url:i.FALLBACK_XOBNI_IMG_URL}):i.FALLBACK_XOBNI_IMG_URL,emailAddresses:c,intent:a.intent})},_handleSuggestionsReceived:function(a){var b=a.data,c=a.query,d=a.searchId;c.suggestion&&"PEOPLE"===c.suggestion.intent?this._results[d]=[]:this._results[d]=b.filter(function(a){return 200===a.status&&a.response&&a.response.suggestions instanceof Array}).reduce(function(a,b){return a.concat(b.response.suggestions)},[]).filter(function(a){return"PEOPLE"===a.intent}).slice(0,3).map(this._dataTransformer,this).filter(function(a){return a.emailAddresses}),this.emit("changed")},_resetSearchSuggestions:function(a){this._results[a.searchId]=[],this.emit("changed")},_handleDoSearch:function(a){delete this._results[j.SEARCH_TAB],a.searchId===j.OTHER_TAB&&delete this._results[j.OTHER_TAB],a.searchId===j.FOLDER_TAB&&delete this._results[j.FOLDER_TAB],this.emit("changed")},_handleCleanUp:function(a){delete this._results[a.searchId]}}),l[j.RESET_SUGGESTION]="_resetSearchSuggestions",l[j.SEARCH_START]="_handleDoSearch",l[j.BOOTCAMP_SUGGESTIONS_RECEIVED]="_handleSuggestionsReceived",l[j.BOOTCAMP_SUGGESTIONS_FAILURE]="_handleSuggestionsReceived",l[j.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="BootcampSuggestionsStore",d.handlers=l,b.exports=d},{"../stores/PersonSuggestion":17,GlobalConstants:"GlobalConstants",ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],16:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._results={}}var e=a("events").EventEmitter,f=a("lodash"),g=a("StringUtils"),h=a("SearchConstants"),i=a("../stores/PersonSuggestion"),j={};d.prototype=f.merge(Object.create(e.prototype),{constructor:d,get:function(a){return this._results[a]||[]},_dataTransformer:function(a){var b,c,d=a.queryText.match(/%[a-zA-Z0-9\-]+/g),e=a.queryText;return d&&d.forEach(function(d){var f=d.substr(1),g=a.entities[f];e=e.replace(d,g.name),b=g.imageUrl,c=g.emailIds}),new i({_rawObj:a,displayStr:e,imageUrl:b,emailAddresses:c,intent:a.intent})},_handleSuggestionsReceived:function(a){var b=a.data,c=a.query.keyword;this._results[a.searchId]=f.chain(b).filter(function(a){return 200===a.status&&a.response&&a.response.suggestions instanceof Array}).map(function(a){return a.response.suggestions}).flatten().filter(function(a){return"PEOPLE"===a.intent}).slice(0,3).map(this._dataTransformer,this).filter(function(a){return a.emailAddresses}).map(function(a){return a.emailAddresses.map(function(b){return new i({_rawObj:a._rawObj,displayStr:a.displayStr,imageUrl:a.imageUrl,emailAddresses:[b],intent:a.intent,overrrideWithEmail:!0})})}).flatten().filter(function(a){return g.containsIgnoreCase(a.displayStr,c)||g.containsIgnoreCase(a.emailAddresses[0],c)}).value(),this.emit("changed")},_resetSearchSuggestions:function(a){this._results[a.searchId]=[],this.emit("changed")},_handleCleanUp:function(a){delete this._results[a.searchId]}}),j[h.RESET_SUGGESTION]="_resetSearchSuggestions",j[h.CONTACT_SUGGESTIONS_RECEIVED]="_handleSuggestionsReceived",j[h.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="ContactSuggestionsStore",d.handlers=j,b.exports=d},{"../stores/PersonSuggestion":17,SearchConstants:"SearchConstants",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],17:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("lodash"),f=a("./SearchSuggestion");d.prototype=e.extend(Object.create(f.prototype),{constructor:d,getMatchAndRemainder:function(a){var b=[this.displayStr].concat(this.emailAddresses),c=e.find(b,function(b){return this.getRemainingPart(b,a)},this);return this.getRemainingPart(c||"",a)},getInitials:function(){var a=this.displayStr.split(" ");return[].concat(a.shift()||[]).concat(a.pop()||[]).map(function(a){return(a.charAt(0)||"").toUpperCase()}).join("")},getAdvancedSearchQuery:function(){return this.displayStr.indexOf(" ")>-1?'from:"'+this.displayStr+'" ':"from:"+this.displayStr+" "}}),b.exports=d},{"./SearchSuggestion":19,lodash:"lodash"}],18:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._recentSearch=[],this._recentSearchesInit=!1}var e=a("lodash"),f=a("events").EventEmitter,g=a("SearchConstants"),h=a("../services/RecentSearchService"),i={};d.prototype=e.merge(Object.create(f.prototype),{constructor:d,all:function(){return this._recentSearchesInit||(this._recentSearchesInit=!0,this._getRecentSearch()),this._recentSearch},_getRecentSearch:function(){var a=this;return h.get().then(function(b){a._recentSearch=b,a.emit("changed")})},_addRecentSearch:function(a){this._recentSearch.unshift(a.data),this.emit("changed")},_removeRecentSearch:function(a){var b=this;return h.remove(a.data).then(function(a){b._recentSearch=a,b.emit("changed")})}}),i[g.ADD_RECENT_SEARCH]="_addRecentSearch",i[g.REMOVE_RECENT_SEARCH]="_removeRecentSearch",d.storeName="RecentSearchesStore",d.handlers=i,b.exports=d},{"../services/RecentSearchService":14,SearchConstants:"SearchConstants",events:"events",lodash:"lodash"}],19:[function(a,b,c){"use strict";function d(a){e.merge(this,a)}var e=a("lodash"),f=a("StringUtils");d.prototype={getOverrideText:function(){var a;return a="SEARCH_WEB"===this.intent?"":this.overrrideWithEmail?this.emailAddresses[0]:this.displayStr},getRemainingPart:function(a,b){var c,d,e;return c=f.escapeRegExp(b),d=new RegExp("(^|\\s)"+c+"(.*)","i"),e=d.exec(a),e?b+e[2]:""},getMatchAndRemainder:function(){return""}},b.exports=d},{StringUtils:"StringUtils",lodash:"lodash"}],20:[function(a,b,c){"use strict";function d(a){this.dispatcher=a}var e=a("lodash"),f=a("events").EventEmitter,g=a("StringUtils"),h=a("../stores/BootcampSuggestionsStore"),i=a("SearchQueryStore"),j=a("../stores/RecentSearchesStore"),k=a("../stores/WebSearchSuggestionsStore"),l=a("../stores/SearchSuggestion");d.prototype=e.merge(Object.create(f.prototype),{constructor:d,get:function(a){var b=this.dispatcher.getStore(i).get(a),c=b?b.toString():"",d=this._hideRecentSuggestions(b),e=this._hideBootcampSuggestions(b),f=this.dispatcher.getStore(k).get(a),g=this.dispatcher.getStore(h).get(a);return[].concat(e?[]:g).concat(d?[]:this._getRecentSearches(c)).concat(f)},_hideBootcampSuggestions:function(a){return!!a.suggestion&&a.keyword},_hideRecentSuggestions:function(a){return!!a.suggestion||!a.keyword},_getRecentSearches:function(a){var b=this.dispatcher.getStore(j).all();return e.uniq(b).filter(function(a){return"string"==typeof a}).filter(function(b){return!!b.trim()&&(!a.trim()||g.containsIgnoreCase(b,a))}).slice(0,3).map(function(a){return new l({intent:"RECENT_SEARCH",displayStr:a,keyword:a})})}}),d.storeName="SearchSuggestionsStore",b.exports=d},{"../stores/BootcampSuggestionsStore":15,"../stores/RecentSearchesStore":18,"../stores/SearchSuggestion":19,"../stores/WebSearchSuggestionsStore":21,SearchQueryStore:"SearchQueryStore",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],21:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._results=[]}var e=a("lodash"),f=a("events").EventEmitter,g=a("SearchConstants"),h=a("../stores/SearchSuggestion"),i={};d.prototype=e.merge(Object.create(f.prototype),{constructor:d,get:function(a){return this._results[a]||[]},_handleSuggestionsReceived:function(a){var b=a.searchId,c=a.query,d=c.keyword,f=a.data,g=c.refinements.length||c.suggestion,i=a.query.toWebQueryString(),j=[];d&&(j=e.chain(f).slice(0,4).unshift({key:d}).uniq(function(a){return a.key}).slice(0,4).map(function(a,b){return new h({intent:"SEARCH_WEB",displayStr:g?i:a.key,typeIndex:b,hasToken:!!g})}).value()),this._results[b]=j,this.emit("changed")},_resetSearchSuggestions:function(a){this._results[a.searchId]=[],this.emit("changed")},_handleDoSearch:function(a){delete this._results[g.SEARCH_TAB],a.searchId===g.OTHER_TAB&&delete this._results[g.OTHER_TAB],a.searchId===g.FOLDER_TAB&&delete this._results[g.FOLDER_TAB],this.emit("changed")},_handleCleanUp:function(a){delete this._results[a.searchId]}}),i[g.RESET_SUGGESTION]="_resetSearchSuggestions",i[g.SEARCH_START]="_handleDoSearch",i[g.WEBSEARCH_SUGGESTIONS_RECEIVED]="_handleSuggestionsReceived",i[g.WEBSEARCH_SUGGESTIONS_FAILURE]="_handleSuggestionsReceived",i[g.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="WebSearchSuggestionsStore",d.handlers=i,b.exports=d},{"../stores/SearchSuggestion":19,SearchConstants:"SearchConstants",events:"events",lodash:"lodash"}],22:[function(a,b,c){"use strict";function d(){var a;for(f++,a=f.toString(16);a.length<4;)a="0"+a;return NeoConfig.uuid?NeoConfig.uuid.replace("SEQN",a):""+e.uniqueId()}var e=a("lodash"),f=0;b.exports=d},{lodash:"lodash"}],23:[function(a,b,c){"use strict";var d,e=a("StatService"),f=a("./GenUniqueId");d=function(){return{get:function(a){return new Promise(function(b){yui.use("mail-ui-mailSearchController",function(){var c,d=a.keyword,g=a.getFolderScope(),h=a.suggestion&&"PEOPLE"===a.suggestion.intent,i=f(),j={keyword:a.toQueryString(),typeTag:a.typeTag,searchId:i};h&&!d?(c="people",yui.fire("searchSuggestion:start",{type:"xContact",contactId:a.suggestion._rawObj.id,scopeToFolder:g||!1,isFromQuery:!0,typeTag:a.typeTag,searchId:i}),e.stat({name:"search_sugg_search_people"})):(c="keyword",yui.fire("search:input",{addToRecentSearches:!1,query:j}),e.stat({name:"search_sugg_search_keyword"})),g&&e.mailLog({m:"folder_scoped_react_search",info:"Performed a folder-scoped search in React Search",flavor:c,yid:NeoConfig.loginId}),yui.once("global:search:complete",function(){var a=e.timerComplete("doSearchRender"),d=c;a&&e.featureLatency("msws_list_render_complete_"+d,a),b()})})})}}}(),b.exports=d},{"./GenUniqueId":22,StatService:"StatService"}],24:[function(a,b,c){"use strict";var d,e=a("EnhancedPromise"),f=a("IO"),g=a("StatService");d=function(){var a,b="/neo/sugg";return{processResponse:function(a){var b=JSON.parse(a);return b.gossip.results},get:function(c){var d,h=this,i=c.keyword.trim(),j=["output=json","appid=YahooMailNeo","nresults=5","command="+encodeURIComponent(i)],k=b+"?"+j.join("&"),l="(((\\s+)(-?)(in|subject|to|from|after|before|is|has))|(^(-?)(in|subject|to|from|after|before|is|has)))(?=:)",m=new RegExp(l),n=m.test(i);return a&&(a.cancel(),a=null),c.suggestion||c.refinements.length||!i||n?d=e.resolve([]):(g.featureInvoke("search_sugg_fetch_web"),d=f.post(k,"").then(function(a){var b,c=a.text;if(!c)throw g.featureFail("search_sugg_fetch_web"),a;try{return b=h.processResponse(c),g.featureComplete("search_sugg_fetch_web"),b}catch(d){throw g.featureFail("search_sugg_fetch_web"),g.mailLog({status:a.status,body:c},!0,"error_web_search_response"),d}},function(a){throw 800===a.status?g.featureComplete("search_sugg_fetch_web"):g.featureFail("search_sugg_fetch_web"),a}),a=d),d}}}(),b.exports=d},{EnhancedPromise:"EnhancedPromise",IO:"IO",StatService:"StatService"}],25:[function(a,b,c){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],SearchActions:[function(a,b,c){"use strict";function d(){return f?n():h.SEARCH_TAB}var e,f=yui.common.Utils.features.enabled("searchresults"),g=a("StatService"),h=a("SearchConstants"),i=a("UserSettingsConstants"),j=a("Utils"),k=a(f?"BootcampAPIUtils":"BootcampAPIUtilsV1"),l=a("AppDispatcher"),m=a("FolderStore"),n=a("../utils/GenUniqueId"),o=a("../utils/WebSearchAPIUtils"),p=f?null:a("../utils/MailSearchAPIUtils"),q=[],r=yui.common.Utils.features,s=yui.mail.persist.MetaData,t="neo.pref.searchSortBy",u=a("../models/SearchQuery");q[h.SEARCH_MESSAGE_VIEW]={FETCH_MORE:h.SEARCH_MESSAGE_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_MESSAGE_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_MESSAGE_VIEW_FETCH_MORE_FAILURE},q[h.SEARCH_PHOTO_VIEW]={FETCH_MORE:h.SEARCH_PHOTO_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_PHOTO_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_PHOTO_VIEW_FETCH_MORE_FAILURE},q[h.SEARCH_DOCUMENT_VIEW]={FETCH_MORE:h.SEARCH_DOCUMENT_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_DOCUMENT_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_DOCUMENT_VIEW_FETCH_MORE_FAILURE},q[h.SEARCH_LINK_VIEW]={FETCH_MORE:h.SEARCH_LINK_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_LINK_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_LINK_VIEW_FETCH_MORE_FAILURE},e={setQuery:function(a,b){a.dispatch(h.SET_QUERY,{query:b.query,searchId:b.searchId})},executeSearch:function(a,b){var c,l,m=b.preserveQuery,n=b.searchId,o=d(),q=b.query,v=q.refinements,w=i.MSG_SORT_TYPE_DATE,x=b.sortType,y={sortOrder:b.sortOrder||i.MSG_SORT_ORDER_DOWN},z={searchId:o,query:q,sortOrder:b.sortOrder||i.MSG_SORT_ORDER_DOWN},A=s.get(t);x||(x=w,r.enabled("stickySearchSort")&&A&&(x=A)),r.enabled("stickySearchSort")&&x!==A&&(s.set(t,x),s.save()),y.sortType=z.sortType=x,f?(g.timerStart("doSearch"),g.timerStart("doSearchRender"),a.dispatch(h.SEARCH_INIT,{query:q,searchId:o}),l=!!j.loadPromisesMap["tictac-searchresults"],l||g.timerStart("loadSearchResultsTictac"),j.loadTictac("tictac-searchresults").then(function(){return l||(g.stat({name:"search_results_tictac_notloaded"}),g.featureLatency("srp_load_tictac",g.timerComplete("loadSearchResultsTictac"))),a.dispatch(h.SEARCH_START,z),k.getSuggestions(q).then(function(b){a.dispatch(h.BOOTCAMP_DIDYOUMEAN_RECEIVED,{searchId:o,query:q,data:b})},function(b){800!==b.status&&a.dispatch(h.BOOTCAMP_DIDYOUMEAN_FAILURE,{searchId:o,query:q,data:[]})}),k.getSearchResults(b.query,y,o).then(function(b){a.dispatch(h.SEARCH_SUCCESS,{searchId:o,sortInfo:y,data:b,query:q})},function(b){a.dispatch(h.SEARCH_FAILURE,{searchId:o,data:b})},function(c){a.dispatch(h.SEARCH_UPDATE,{searchId:o,data:c,primaryResultType:b.currentView})}).then(function(){if(!m){var b={};n===h.FOLDER_TAB&&(b.folders=q.folders),e.setQuery(a,{query:new u(b),searchId:n})}},function(b){throw m||e.setQuery(a,{query:new u({}),searchId:n}),b})})):(g.timerStart("doSearchRender"),a.dispatch(h.SEARCH_START,z),p.get(b.query).then(function(){m||e.setQuery(a,{query:new u({}),searchId:n})})),q.isKeywordOnly()&&a.dispatch(h.ADD_RECENT_SEARCH,{data:q.keyword}),q.suggestion?g.stat("do_search_with_people_token"):q.refinements&&q.refinements.length>0?(c=v.filter(function(a){return 0===a.lastIndexOf("in:",0)}).length,c&&g.stat({name:"do_search_with_folder_token",tags:{folderTokenNum:c}})):g.stat({name:"do_search_with_keywords",tags:{numchars:q.keyword.length}})},fetchSuggestions:function(){var a=0,b=-1;return function(c,d){var e,i=d.query,l=d.searchId,m=a++;f?(e=!!j.loadPromisesMap["tictac-searchresults"],e||g.timerStart("loadSearchResultsTictac"),j.loadTictac("tictac-searchresults").then(function(){e||g.featureLatency("srp_load_tictac",g.timerComplete("loadSearchResultsTictac"))})):yui.use("mail-ui-mailSearchController"),k.getSuggestions(i).then(function(a){m>b&&(c.dispatch(h.BOOTCAMP_SUGGESTIONS_RECEIVED,{searchId:l,query:i,data:a}),b=m)},function(a){800!==a.status&&c.dispatch(h.BOOTCAMP_SUGGESTIONS_FAILURE,{searchId:l,query:i,data:[]})}),c.dispatch(h.WEBSEARCH_SUGGESTIONS_RECEIVED,{searchId:l,data:[],query:i}),d.webSuggestionsEnabled&&o.get(i).then(function(a){c.dispatch(h.WEBSEARCH_SUGGESTIONS_RECEIVED,{searchId:l,data:a,query:i})},function(a){800!==a.status&&c.dispatch(h.WEBSEARCH_SUGGESTIONS_FAILURE,{searchId:l,data:[],query:i})})}}(),setSelectedItems:function(a,b){a.dispatch(h.SET_SELECTED_ITEMS,b)},getContactSuggestions:function(a,b){k.getSuggestions(b.query).then(function(c){a.dispatch(h.CONTACT_SUGGESTIONS_RECEIVED,{searchId:b.searchId,query:b.query,data:c})})},getPeopleResultsByEmail:function(a,b){var c,f,i,n=b.searchId,o=d(),p=b.query||{},q=b.preserveQuery,r=b.keyword||"";a.dispatch(h.SEARCH_INIT,{query:b.query,searchId:o}),g.timerStart("doSearch"),g.timerStart("doSearchRender"),i=!!j.loadPromisesMap["tictac-searchresults"],i||g.timerStart("loadSearchResultsTictac"),j.loadTictac("tictac-searchresults").then(function(){return i||g.featureLatency("srp_load_tictac",g.timerComplete("loadSearchResultsTictac")),a.dispatch(h.SEARCH_START,{searchId:o,query:b.query}),k.getPeopleSRPByEmail(b.email,r,o,p).then(function(b){a.dispatch(h.SEARCH_SUCCESS,{searchId:o,data:b,query:f||p})},function(b){a.dispatch(h.SEARCH_FAILURE,{searchId:o,data:b})},function(b){var d={searchId:o,data:b};b&&b.contacts&&b.contacts[0]&&!f&&(c=b.contacts[0],f=new u({keyword:r,suggestion:{displayStr:c.name,intent:"PEOPLE",serviceId:c.id.slice(2),imageUrl:c.thumbnail,emailAddresses:c.prettyEndpoints.smtps,_rawObj:c},shouldParseKeyword:!0,displayName:p.displayName,isSavedSearch:!0,typeTag:p.typeTag},l.context.getStore(m).all()),e.setQuery(a,{query:f,searchId:o}),d.newQuery=f),a.dispatch(h.SEARCH_UPDATE,d)}).then(function(){q||e.setQuery(a,{query:new u({}),searchId:n})},function(){q||e.setQuery(a,{query:new u({}),searchId:n})})})},getMoreSearchResults:function(a,b){var c=b.searchId,d=b.currentView;a.dispatch(q[d].FETCH_MORE,{searchId:c,type:b.currentFilter}),k.getMoreSearchResults(b.url,b.offset).then(function(e){a.dispatch(q[d].FETCH_SUCCESS,{searchId:c,data:e,type:b.currentFilter}),b.successCB&&b.successCB(e)},function(e){800!==e.status&&a.dispatch(q[d].FETCH_FAILURE,{searchId:c,data:e,type:b.currentFilter})})},doCalendarSearch:function(a,b){yui.fire("fireSearch",b.query.toString(),{fromReact:!0}),g.stat({name:"search_sugg_search_cal"})},doContactsSearch:function(a,b){yui.fire("fireSearch",b.query.toString(),{fromReact:!0}),g.stat({name:"search_sugg_search_contacts"})},doNotepadSearch:function(a,b){yui.fire("fireSearch",b.query.toString(),{fromReact:!0}),g.stat({name:"search_sugg_search_notepad"})},removeRecentSearch:function(a,b){a.dispatch(h.REMOVE_RECENT_SEARCH,{data:b})},cleanUpSearchResults:function(a,b){a.dispatch(h.CLEAN_UP_SEARCH_RESULTS,{searchId:b.searchId})},connectToBootcamp:function(){k.connectToBootcamp()},closeCurrentTab:function(a){a.dispatch(h.CLOSE_CURRENT_TAB)}},b.exports=e},{"../models/SearchQuery":13,"../utils/GenUniqueId":22,"../utils/MailSearchAPIUtils":23,"../utils/WebSearchAPIUtils":24,AppDispatcher:"AppDispatcher",BootcampAPIUtils:"BootcampAPIUtils",BootcampAPIUtilsV1:"BootcampAPIUtilsV1",FolderStore:"FolderStore",SearchConstants:"SearchConstants",StatService:"StatService",UserSettingsConstants:"UserSettingsConstants",Utils:"Utils"}],SearchQueryStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._queries={},this.folderStore=a.getStore(g),this.accountStore=a.getStore(h)}var e=a("lodash"),f=a("events").EventEmitter,g=a("FolderStore"),h=a("AccountStore"),i=a("SearchConstants"),j=a("TabStore"),k=a("../models/SearchQuery"),l={};d.prototype=e.merge(Object.create(f.prototype),{constructor:d,createQuery:function(a){var b=this.folderStore.all(),c=this.accountStore.get();return new k(a,b||[],c||[])},get:function(a){return this._queries[a]||this.createQuery({})},_handleSetQuery:function(a){var b=a.query;b instanceof k||(b=this.createQuery(b)),this._queries[a.searchId]=b,this.emit("changed")},_checkDiscardedSearch:function(){var a=this;a.dispatcher.waitFor(["TabStore"],function(){var b=a.dispatcher.getStore(j).getDiscardedSearchId();delete a._queries[b]})},_handleCleanUp:function(a){delete this._queries[a.searchId]}}),l[i.SEARCH_START]="_handleSetQuery",l[i.SET_QUERY]="_handleSetQuery",l[i.SEARCH_INIT]="_checkDiscardedSearch",l[i.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="SearchQueryStore",d.handlers=l,b.exports=d},{"../models/SearchQuery":13,AccountStore:"AccountStore",FolderStore:"FolderStore",SearchConstants:"SearchConstants",TabStore:"TabStore",events:"events",lodash:"lodash"}]},{},[12]);